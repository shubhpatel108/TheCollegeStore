/*!
 * jQuery JavaScript Library v1.8.3+1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Wed Mar 26 2014 11:04:46 GMT-0400 (EDT)
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(t){mejs.YouTubeApi.flashReady(t)}!function(t,e){function n(t){var e=fe[t]={};return Z.each(t.split(ee),function(t,n){e[n]=!0}),e}function i(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(ge,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:me.test(i)?Z.parseJSON(i):i}catch(o){}Z.data(t,n,i)}else i=e}return i}function r(t){var e;for(e in t)if(("data"!==e||!Z.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(){return!1}function s(){return!0}function a(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t,e,n){if(e=e||0,Z.isFunction(e))return Z.grep(t,function(t,i){var r=!!e.call(t,i,t);return r===n});if(e.nodeType)return Z.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=Z.grep(t,function(t){return 1===t.nodeType});if(De.test(e))return Z.filter(e,i,!n);e=Z.filter(e,i)}return Z.grep(t,function(t){return Z.inArray(t,e)>=0===n})}function c(t){var e=ze.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function h(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function d(t,e){if(1===e.nodeType&&Z.hasData(t)){var n,i,r,o=Z._data(t),s=Z._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)Z.event.add(e,n,a[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function p(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),Z.support.html5Clone&&t.innerHTML&&!Z.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Qe.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.selected=t.defaultSelected:"input"===n||"textarea"===n?e.defaultValue=t.defaultValue:"script"===n&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(Z.expando))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){Qe.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=yn.length;r--;)if(e=yn[r]+n,e in t)return e;return i}function v(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)}function y(t,e){for(var n,i,r=[],o=0,s=t.length;s>o;o++)n=t[o],n.style&&(r[o]=Z._data(n,"olddisplay"),e?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Z._data(n,"olddisplay",k(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||Z._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function b(t,e,n){var i=hn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function w(t,e,n,i){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Z.css(t,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(t,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(t,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(t,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(t,"border"+vn[r]+"Width"))||0));return o}function _(t,e,n){var i="width"===e?t.offsetWidth:t.offsetHeight,r=!0,o=Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing");if(0>=i||null==i){if(i=nn(t,e),(0>i||null==i)&&(i=t.style[e]),dn.test(i))return i;r=o&&(Z.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+w(t,e,n||(o?"border":"content"),r)+"px"}function k(t){if(fn[t])return fn[t];var e=Z("<"+t+">").appendTo(W.body),n=e.css("display");return e.remove(),("none"===n||""===n)&&(rn=W.body.appendChild(rn||Z.extend(W.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),e=on.body.appendChild(on.createElement(t)),n=nn(e,"display"),W.body.removeChild(rn)),fn[t]=n,n}function x(t,e,n,i){var r;if(Z.isArray(e))Z.each(e,function(e,r){n||_n.test(t)?i(t,r):x(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Z.type(e))i(t,e);else for(r in e)x(t+"["+r+"]",e[r],n,i)}function C(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r,o,s=e.toLowerCase().split(ee),a=0,l=s.length;if(Z.isFunction(n))for(;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=t[i]=t[i]||[],r[o?"unshift":"push"](n)}}function T(t,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=t[o],u=0,c=l?l.length:0,h=t===In;c>u&&(h||!a);u++)a=l[u](n,i,r),"string"==typeof a&&(!h||s[a]?a=e:(n.dataTypes.unshift(a),a=T(t,n,i,r,a,s)));return!h&&a||s["*"]||(a=T(t,n,i,r,"*",s)),a}function S(t,n){var i,r,o=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((o[i]?t:r||(r={}))[i]=n[i]);r&&Z.extend(!0,t,r)}function E(t,n,i){var r,o,s,a,l=t.contents,u=t.dataTypes,c=t.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===e&&(r=t.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||t.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function M(t,e){var n,i,r,o,s=t.dataTypes.slice(),a=s[0],l={},u=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s[1])for(n in t.converters)l[n.toLowerCase()]=t.converters[n];for(;r=s[++u];)if("*"!==r){if("*"!==a&&a!==r){if(n=l[a+" "+r]||l["* "+r],!n)for(i in l)if(o=i.split(" "),o[1]===r&&(n=l[a+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],s.splice(u--,0,r));break}if(n!==!0)if(n&&t["throws"])e=n(e);else try{e=n(e)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:e}}function $(){try{return new t.XMLHttpRequest}catch(e){}}function j(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function P(){return setTimeout(function(){Kn=e},0),Kn=Z.now()}function F(t,e){Z.each(e,function(e,n){for(var i=(ti[e]||[]).concat(ti["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(t,e,n))return})}function L(t,e,n){var i,r=0,o=Jn.length,s=Z.Deferred().always(function(){delete a.elem}),a=function(){for(var e=Kn||P(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,r=1-i,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),1>r&&a?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kn||P(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Z.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){for(var n=0,i=e?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),u=l.props;for(A(u,l.opts.specialEasing);o>r;r++)if(i=Jn[r].call(l,t,u,l.opts))return i;return F(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(t,l),Z.fx.timer(Z.extend(a,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function A(t,e){var n,i,r,o,s;for(n in t)if(i=Z.camelCase(n),r=e[i],o=t[n],Z.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=Z.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function N(t,e,n){var i,r,o,s,a,l,u,c,h,d=this,p=t.style,f={},m=[],g=t.nodeType&&v(t);n.queue||(c=Z._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,Z.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(t,"display")&&"none"===Z.css(t,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==k(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||d.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Xn.exec(o)){if(delete e[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=Z._data(t,"fxshow")||Z._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Z(t).show():d.done(function(){Z(t).hide()}),d.done(function(){var e;Z.removeData(t,"fxshow",!0);for(e in f)Z.style(t,e,f[e])});for(i=0;s>i;i++)r=m[i],u=d.createTween(r,g?a[r]:0),f[r]=a[r]||Z.style(t,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function D(t,e,n,i,r){return new D.prototype.init(t,e,n,i,r)}function I(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=vn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t){return Z.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var z,H,W=t.document,B=t.location,R=t.navigator,q=t.jQuery,V=t.$,U=Array.prototype.push,G=Array.prototype.slice,K=Array.prototype.indexOf,Q=Object.prototype.toString,X=Object.prototype.hasOwnProperty,Y=String.prototype.trim,Z=function(t,e){return new Z.fn.init(t,e,z)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,te=/\S/,ee=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,se=/(?:^|:|,)(?:\s*\[)+/g,ae=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ue=/^-ms-/,ce=/-([\da-z])/gi,he=function(t,e){return(e+"").toUpperCase()},de=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",de,!1),Z.ready()):"complete"===W.readyState&&(W.detachEvent("onreadystatechange",de),Z.ready())},pe={};Z.fn=Z.prototype={constructor:Z,init:function(t,n,i){var r,o,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ie.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:W,t=Z.parseHTML(r[1],s,!0),re.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(t,n,!0),Z.merge(this,t);if(o=W.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=W,this.selector=t,this}return Z.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))},selector:"",jquery:"1.8.3+1",length:0,size:function(){return this.length},toArray:function(){return G.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,n){var i=Z.merge(this.constructor(),t);return i.prevObject=this,i.context=this.context,"find"===e?i.selector=this.selector+(this.selector?" ":"")+n:e&&(i.selector=this.selector+"."+e+"("+n+")"),i},each:function(t,e){return Z.each(this,t,e)},ready:function(t){return Z.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var t,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||Z.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(n in t)i=a[n],r=t[n],a!==r&&(c&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[n]=Z.extend(c,s,r)):r!==e&&(a[n]=r));return a},Z.extend({noConflict:function(e){return t.$===Z&&(t.$=V),e&&t.jQuery===Z&&(t.jQuery=q),Z},isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){if(t===!0?!--Z.readyWait:!Z.isReady){if(!W.body)return setTimeout(Z.ready,1);Z.isReady=!0,t!==!0&&--Z.readyWait>0||(H.resolveWith(W,[Z]),Z.fn.trigger&&Z(W).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray||function(t){return"array"===Z.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):pe[Q.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==Z.type(t)||t.nodeType||Z.isWindow(t))return!1;try{if(t.constructor&&!X.call(t,"constructor")&&!X.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in t);return i===e||X.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){var i;return t&&"string"==typeof t?("boolean"==typeof e&&(n=e,e=0),e=e||W,(i=re.exec(t))?[e.createElement(i[1])]:(i=Z.buildFragment([t],e,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=Z.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):oe.test(e.replace(ae,"@").replace(le,"]").replace(se,""))?new Function("return "+e)():void Z.error("Invalid JSON: "+e)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&te.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ue,"ms-").replace(ce,he)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,n,i){var r,o=0,s=t.length,a=s===e||Z.isFunction(t);if(i)if(a){for(r in t)if(n.apply(t[r],i)===!1)break}else for(;s>o&&n.apply(t[o++],i)!==!1;);else if(a){for(r in t)if(n.call(t[r],r,t[r])===!1)break}else for(;s>o&&n.call(t[o],o,t[o++])!==!1;);return t},trim:Y&&!Y.call("\ufeff\xa0")?function(t){return null==t?"":Y.call(t)}:function(t){return null==t?"":(t+"").replace(ne,"")},makeArray:function(t,e){var n,i=e||[];return null!=t&&(n=Z.type(t),null==t.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(t)?U.call(i,t):Z.merge(i,t)),i},inArray:function(t,e,n){var i;if(e){if(K)return K.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,s=t.length;for(n=!!n;s>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,n,i){var r,o,s=[],a=0,l=t.length,u=t instanceof Z||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||Z.isArray(t));if(u)for(;l>a;a++)r=n(t[a],a,i),null!=r&&(s[s.length]=r);else for(o in t)r=n(t[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(i=t[n],n=t,t=i),Z.isFunction(t)?(r=G.call(arguments,2),o=function(){return t.apply(n,r.concat(G.call(arguments)))},o.guid=t.guid=t.guid||Z.guid++,o):e},access:function(t,n,i,r,o,s,a){var l,u=null==i,c=0,h=t.length;if(i&&"object"==typeof i){for(c in i)Z.access(t,n,c,i[c],1,s,r);o=1}else if(r!==e){if(l=a===e&&Z.isFunction(r),u&&(l?(l=n,n=function(t,e,n){return l.call(Z(t),n)}):(n.call(t,r),n=null)),n)for(;h>c;c++)n(t[c],i,l?r.call(t[c],c,n(t[c],i)):r,a);o=1}return o?t:u?n.call(t):h?n(t[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(e){if(!H)if(H=Z.Deferred(),"complete"===W.readyState)setTimeout(Z.ready,1);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",de,!1),t.addEventListener("load",Z.ready,!1);else{W.attachEvent("onreadystatechange",de),t.attachEvent("onload",Z.ready);var n=!1;try{n=null==t.frameElement&&W.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Z.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Z.ready()}}()}return H.promise(e)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){pe["[object "+e+"]"]=e.toLowerCase()}),z=Z(W);var fe={};Z.Callbacks=function(t){t="string"==typeof t?fe[t]||n(t):Z.extend({},t);var i,r,o,s,a,l,u=[],c=!t.once&&[],h=function(e){for(i=t.memory&&e,r=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(u[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}o=!1,u&&(c?c.length&&h(c.shift()):i?u=[]:d.disable())},d={add:function(){if(u){var e=u.length;!function n(e){Z.each(e,function(e,i){var r=Z.type(i);"function"===r?t.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?a=u.length:i&&(s=e,h(i))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return Z.inArray(t,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=e,this},disabled:function(){return!u},lock:function(){return c=e,i||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!u||r&&!c||(o?c.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,i){var o=i[0],s=t[e];r[i[1]](Z.isFunction(s)?function(){var t=s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[t])}:n[o])}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,i):i}},r={};return i.pipe=i.then,Z.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?G.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}}),Z.support=function(){var e,n,i,r,o,s,a,l,u,c,h,d=W.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=W.createElement("select"),o=r.appendChild(W.createElement("option")),s=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!o.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",h=function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",h)),s=W.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),d.appendChild(s),a=W.createDocumentFragment(),a.appendChild(d.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,a.removeChild(s),a.appendChild(d),d.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in d,c||(d.setAttribute(l,"return;"),c="function"==typeof d[l]),e[u+"Bubbles"]=c;return Z(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=W.getElementsByTagName("body")[0];a&&(n=W.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=W.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===i.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,o=W.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),e.reliableMarginRight=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(d),n=i=r=o=s=a=d=null,e}();var me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?Z.cache[t[Z.expando]]:t[Z.expando],!!t&&!r(t)},data:function(t,n,i,r){if(Z.acceptData(t)){var o,s,a=Z.expando,l="string"==typeof n,u=t.nodeType,c=u?Z.cache:t,h=u?t[a]:t[a]&&a;if(h&&c[h]&&(r||c[h].data)||!l||i!==e)return h||(u?t[a]=h=Z.deletedIds.pop()||Z.guid++:h=a),c[h]||(c[h]={},u||(c[h].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[h]=Z.extend(c[h],n):c[h].data=Z.extend(c[h].data,n)),o=c[h],r||(o.data||(o.data={}),o=o.data),i!==e&&(o[Z.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[Z.camelCase(n)])):s=o,s}},removeData:function(t,e,n){if(Z.acceptData(t)){var i,o,s,a=t.nodeType,l=a?Z.cache:t,u=a?t[Z.expando]:Z.expando;if(l[u]){if(e&&(i=n?l[u]:l[u].data)){Z.isArray(e)||(e in i?e=[e]:(e=Z.camelCase(e),e=e in i?[e]:e.split(" ")));for(o=0,s=e.length;s>o;o++)delete i[e[o]];if(!(n?r:Z.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(a?Z.cleanData([t],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(t,e,n){return Z.data(t,e,n,!0)},acceptData:function(t){var e=t.nodeName&&Z.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),Z.fn.extend({data:function(t,n){var r,o,s,a,l,u=this[0],c=0,h=null;if(t===e){if(this.length&&(h=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)a=s[c].name,a.indexOf("data-")||(a=Z.camelCase(a.substring(5)),i(u,a,h[a]));Z._data(u,"parsedAttrs",!0)}return h}return"object"==typeof t?this.each(function(){Z.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Z.access(this,function(n){return n===e?(h=this.triggerHandler("getData"+o,[r[0]]),h===e&&u&&(h=Z.data(u,t),h=i(u,t,h)),h===e&&r[1]?this.data(r[0]):h):(r[1]=n,void this.each(function(){var e=Z(this);e.triggerHandler("setData"+o,r),Z.data(this,t,n),e.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){Z.removeData(this,t)})}}),Z.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Z._data(t,e),n&&(!i||Z.isArray(n)?i=Z._data(t,e,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),i=n.length,r=n.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z._data(t,n)||Z._data(t,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(t,e+"queue",!0),Z.removeData(t,n,!0)})})}}),Z.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):n===e?this:this.each(function(){var e=Z.queue(this,t,n);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},delay:function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=Z.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=Z._data(s[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var ve,ye,be,we=/[\t\r\n]/g,_e=/\r/g,ke=/^(?:button|input)$/i,xe=/^(?:button|input|object|select|textarea)$/i,Ce=/^a(?:rea|)$/i,Te=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Se=Z.support.getSetAttribute;Z.fn.extend({attr:function(t,e){return Z.access(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})},prop:function(t,e){return Z.access(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return t=Z.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,s,a;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ee),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==e.length){for(o=" "+r.className+" ",s=0,a=e.length;a>s;s++)o.indexOf(" "+e[s]+" ")<0&&(o+=e[s]+" ");r.className=Z.trim(o)}else r.className=t;return this},removeClass:function(t){var n,i,r,o,s,a,l;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(n=(t||"").split(ee),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(we," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=t?Z.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return this.each(Z.isFunction(t)?function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var r,o=0,s=Z(this),a=e,l=t.split(ee);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||t===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=Z.isFunction(t),this.each(function(i){var o,s=Z(this);1===this.nodeType&&(o=r?t.call(this,i,s.val()):t,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(t){return null==t?"":t+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==e?i:(i=o.value,"string"==typeof i?i.replace(_e,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),o)return e;s.push(e)}return s},set:function(t,e){var n=Z.makeArray(e);return Z(t).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{},attr:function(t,n,i,r){var o,s,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(t)[n](i):"undefined"==typeof t.getAttribute?Z.prop(t,n,i):(a=1!==l||!Z.isXMLDoc(t),a&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Te.test(n)?ye:ve)),i!==e?null===i?void Z.removeAttr(t,n):s&&"set"in s&&a&&(o=s.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(t,n))?o:(o=t.getAttribute(n),null===o?e:o))},removeAttr:function(t,e){var n,i,r,o,s=0;if(e&&1===t.nodeType)for(i=e.split(ee);s<i.length;s++)r=i[s],r&&(n=Z.propFix[r]||r,o=Te.test(r),o||Z.attr(t,r,""),t.removeAttribute(Se?r:n),o&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(ke.test(t.nodeName)&&t.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return ve&&Z.nodeName(t,"button")?ve.get(t,e):e in t?t.value:null},set:function(t,e,n){return ve&&Z.nodeName(t,"button")?ve.set(t,e,n):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,i){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(t),s&&(n=Z.propFix[n]||n,o=Z.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xe.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:e}}}}),ye={get:function(t,n){var i,r=Z.prop(t,n);return r===!0||"boolean"!=typeof r&&(i=t.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():e},set:function(t,e,n){var i;return e===!1?Z.removeAttr(t,n):(i=Z.propFix[n]||n,i in t&&(t[i]=!0),t.setAttribute(n,n.toLowerCase())),n}},Se||(be={name:!0,id:!0,coords:!0},ve=Z.valHooks.button={get:function(t,n){var i;return i=t.getAttributeNode(n),i&&(be[n]?""!==i.value:i.specified)?i.value:e},set:function(t,e,n){var i=t.getAttributeNode(n);return i||(i=W.createAttribute(n),t.setAttributeNode(i)),i.value=e+""}},Z.each(["width","height"],function(t,e){Z.attrHooks[e]=Z.extend(Z.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:ve.get,set:function(t,e,n){""===e&&(e="false"),ve.set(t,e,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(t,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(t){var i=t.getAttribute(n,2);return null===i?e:i}})}),Z.support.style||(Z.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=e+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null
}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}})});var Ee=/^(?:textarea|input|select)$/i,Me=/^([^\.]*|)(?:\.(.+)|)$/,$e=/(?:^|\s)hover(\.\S+|)\b/,je=/^key/,Pe=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Le=function(t){return Z.event.special.hover?t:t.replace($e,"mouseenter$1 mouseleave$1")};Z.event={add:function(t,n,i,r,o){var s,a,l,u,c,h,d,p,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&n&&i&&(s=Z._data(t))){for(i.handler&&(f=i,i=f.handler,o=f.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(t){return"undefined"==typeof Z||t&&Z.event.triggered===t.type?e:Z.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=Z.trim(Le(n)).split(" "),u=0;u<n.length;u++)c=Me.exec(n[u])||[],h=c[1],d=(c[2]||"").split(".").sort(),g=Z.event.special[h]||{},h=(o?g.delegateType:g.bindType)||h,g=Z.event.special[h]||{},p=Z.extend({type:h,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:d.join(".")},f),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(t,r,d,a)!==!1||(t.addEventListener?t.addEventListener(h,a,!1):t.attachEvent&&t.attachEvent("on"+h,a))),g.add&&(g.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),Z.event.global[h]=!0;t=null}},global:{},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,m,g=Z.hasData(t)&&Z._data(t);if(g&&(d=g.events)){for(e=Z.trim(Le(e||"")).split(" "),o=0;o<e.length;o++)if(s=Me.exec(e[o])||[],a=l=s[1],u=s[2],a){for(p=Z.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,f=d[a]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<f.length;h++)m=f[h],!r&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(f.splice(h--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(t,m));0===f.length&&c!==f.length&&(p.teardown&&p.teardown.call(t,u,g.handle)!==!1||Z.removeEvent(t,a,g.handle),delete d[a])}else for(a in d)Z.event.remove(t,a+e[o],n,i,!0);Z.isEmptyObject(d)&&(delete g.handle,Z.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,u,c,h,d,p,f,m,g=n.type||n,v=[];if(!Fe.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!Z.event.customEvent[g]||Z.event.global[g]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",r){if(n.result=e,n.target||(n.target=r),i=null!=i?Z.makeArray(i):[],i.unshift(n),d=Z.event.special[g]||{},!d.trigger||d.trigger.apply(r,i)!==!1){if(f=[[r,d.bindType||g]],!o&&!d.noBubble&&!Z.isWindow(r)){for(m=d.delegateType||g,u=Fe.test(m+g)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,m]),c=u;c===(r.ownerDocument||W)&&f.push([c.defaultView||c.parentWindow||t,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],p=(Z._data(u,"events")||{})[n.type]&&Z._data(u,"handle"),p&&p.apply(u,i),p=h&&u[h],p&&Z.acceptData(u)&&p.apply&&p.apply(u,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===g&&Z.nodeName(r,"a")||!Z.acceptData(r)||h&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Z.isWindow(r)&&(c=r[h],c&&(r[h]=null),Z.event.triggered=g,r[g](),Z.event.triggered=e,c&&(r[h]=c)),n.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||t.event);var i,r,o,s,a,l,u,c,h,d=(Z._data(this,"events")||{})[n.type]||[],p=d.delegateCount,f=G.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},v=[];if(f[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},u=[],i=0;p>i;i++)c=d[i],h=c.selector,a[h]===e&&(a[h]=c.needsContext?Z(h,this).index(o)>=0:Z.find(h,this,null,[o]).length),a[h]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,s=((Z.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),s!==e&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||W,r=i.documentElement,o=i.body,t.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,i=t,r=Z.event.fixHooks[t.type]||{},o=r.props?this.props.concat(r.props):this.props;for(t=Z.Event(i),e=o.length;e;)n=o[--e],t[n]=i[n];return t.target||(t.target=i.srcElement||W),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,i):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,i){var r=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=W.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:o):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){{var n,i=this,r=t.relatedTarget,o=t.handleObj;o.selector}return(!r||r!==i&&!Z.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:e;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Z.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,t,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ee.test(e.nodeName)&&!Z._data(e,"_change_attached")&&(Z.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Z.event.simulate("change",this.parentNode,t,!0)}),Z._data(e,"_change_attached",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){0===n++&&W.addEventListener(t,i,!0)},teardown:function(){0===--n&&W.removeEventListener(t,i,!0)}}}),Z.fn.extend({on:function(t,n,i,r,s){var a,l;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(l in t)this.on(l,n,i,t[l],s);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(t){return Z().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,n,t[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=o),this.each(function(){Z.event.remove(this,t,i,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return Z(this.context).on(t,this.selector,e,n),this},die:function(t,e){return Z(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?Z.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,n=t.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+t.guid)||0)%i;return Z._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=n;i<e.length;)e[i++].guid=n;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},je.test(e)&&(Z.event.fixHooks[e]=Z.event.keyHooks),Pe.test(e)&&(Z.event.fixHooks[e]=Z.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(t,e){function n(t,e,n,i){n=n||[],e=e||P;var r,o,s,a,l=e.nodeType;if(!t||"string"!=typeof t)return n;if(1!==l&&9!==l)return[];if(s=_(e),!s&&!i&&(r=ne.exec(t)))if(a=r[1]){if(9===l){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&k(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return D.apply(n,I.call(e.getElementsByTagName(t),0)),n;if((a=r[3])&&de&&e.getElementsByClassName)return D.apply(n,I.call(e.getElementsByClassName(a),0)),n}return m(t.replace(Y,"$1"),e,n,i,s)}function i(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function r(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function o(t){return z(function(e){return e=+e,z(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(t,e,n){if(t===e)return n;for(var i=t.nextSibling;i;){if(i===e)return-1;i=i.nextSibling}return 1}function a(t,e){var i,r,o,s,a,l,u,c=B[$][t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=b.preFilter;a;){(!i||(r=J.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=te.exec(a))&&(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Y," "));for(s in b.filter)!(r=ae[s].exec(a))||u[s]&&!(r=u[s](r))||(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return e?a.length:a?n.error(t):B(t,l).slice(0)}function l(t,e,n){var i=e.dir,r=n&&"parentNode"===e.dir,o=A++;return e.first?function(e,n,o){for(;e=e[i];)if(r||1===e.nodeType)return t(e,n,o)}:function(e,n,s){if(s){for(;e=e[i];)if((r||1===e.nodeType)&&t(e,n,s))return e}else for(var a,l=L+" "+o+" ",u=l+v;e=e[i];)if(r||1===e.nodeType){if((a=e[$])===u)return e.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(e.sizset)return e}else{if(e[$]=u,t(e,n,s))return e.sizset=!0,e;e.sizset=!1}}}}function u(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function c(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function h(t,e,n,i,r,o){return i&&!i[$]&&(i=h(i)),r&&!r[$]&&(r=h(r,o)),z(function(o,s,a,l){var u,h,d,p=[],m=[],g=s.length,v=o||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?v:c(v,p,t,a,l),b=n?r||(o?t:g||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(u=c(b,m),i(u,[],a,l),h=u.length;h--;)(d=u[h])&&(b[m[h]]=!(y[m[h]]=d));if(o){if(r||t){if(r){for(u=[],h=b.length;h--;)(d=b[h])&&u.push(y[h]=d);r(null,b=[],u,l)}for(h=b.length;h--;)(d=b[h])&&(u=r?O.call(o,d):p[h])>-1&&(o[u]=!(s[u]=d))}}else b=c(b===s?b.splice(g,b.length):b),r?r(null,s,b,l):D.apply(s,b)})}function d(t){for(var e,n,i,r=t.length,o=b.relative[t[0].type],s=o||b.relative[" "],a=o?1:0,c=l(function(t){return t===e},s,!0),p=l(function(t){return O.call(e,t)>-1},s,!0),f=[function(t,n,i){return!o&&(i||n!==S)||((e=n).nodeType?c(t,n,i):p(t,n,i))}];r>a;a++)if(n=b.relative[t[a].type])f=[l(u(f),n)];else{if(n=b.filter[t[a].type].apply(null,t[a].matches),n[$]){for(i=++a;r>i&&!b.relative[t[i].type];i++);return h(a>1&&u(f),a>1&&t.slice(0,a-1).join("").replace(Y,"$1"),n,i>a&&d(t.slice(a,i)),r>i&&d(t=t.slice(i)),r>i&&t.join(""))}f.push(n)}return u(f)}function p(t,e){var i=e.length>0,r=t.length>0,o=function(s,a,l,u,h){var d,p,f,m=[],g=0,y="0",w=s&&[],_=null!=h,k=S,x=s||r&&b.find.TAG("*",h&&a.parentNode||a),C=L+=null==k?1:Math.E;for(_&&(S=a!==P&&a,v=o.el);null!=(d=x[y]);y++){if(r&&d){for(p=0;f=t[p];p++)if(f(d,a,l)){u.push(d);break}_&&(L=C,v=++o.el)}i&&((d=!f&&d)&&g--,s&&w.push(d))}if(g+=y,i&&y!==g){for(p=0;f=e[p];p++)f(w,m,a,l);if(s){if(g>0)for(;y--;)w[y]||m[y]||(m[y]=N.call(u));m=c(m)}D.apply(u,m),_&&!s&&m.length>0&&g+e.length>1&&n.uniqueSort(u)}return _&&(L=C,S=k),w};return o.el=0,i?z(o):o}function f(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function m(t,e,n,i,r){{var o,s,l,u,c,h=a(t);h.length}if(!i&&1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===e.nodeType&&!r&&b.relative[s[1].type]){if(e=b.find.ID(l.matches[0].replace(se,""),e,r)[0],!e)return n;t=t.slice(s.shift().length)}for(o=ae.POS.test(t)?-1:s.length-1;o>=0&&(l=s[o],!b.relative[u=l.type]);o--)if((c=b.find[u])&&(i=c(l.matches[0].replace(se,""),ie.test(s[0].type)&&e.parentNode||e,r))){if(s.splice(o,1),t=i.length&&s.join(""),!t)return D.apply(n,I.call(i,0)),n;break}}return x(t,h)(i,e,r,n,ie.test(t)),n}function g(){}var v,y,b,w,_,k,x,C,T,S,E=!0,M="undefined",$=("sizcache"+Math.random()).replace(".",""),j=String,P=t.document,F=P.documentElement,L=0,A=0,N=[].pop,D=[].push,I=[].slice,O=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},z=function(t,e){return t[$]=null==e||e,t},H=function(){var t={},e=[];return z(function(n,i){return e.push(n)>b.cacheLength&&delete t[e.shift()],t[n+" "]=i},t)},W=H(),B=H(),R=H(),q="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=V.replace("w","w#"),G="([*^$|!~]?=)",K="\\["+q+"*("+V+")"+q+"*(?:"+G+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+q+"*\\]",Q=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",Y=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),J=new RegExp("^"+q+"*,"+q+"*"),te=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),ee=new RegExp(Q),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ie=/[\x20\t\r\n\f]*[+~]/,re=/h\d/i,oe=/input|select|textarea|button/i,se=/\\(?!\\)/g,ae={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+Q),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+X,"i")},le=function(t){var e=P.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}},ue=le(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),ce=le(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==M&&"#"===t.firstChild.getAttribute("href")}),he=le(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),de=le(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),pe=le(function(t){t.id=$+0,t.innerHTML="<a name='"+$+"'></a><div name='"+$+"'></div>",F.insertBefore(t,F.firstChild);var e=P.getElementsByName&&P.getElementsByName($).length===2+P.getElementsByName($+0).length;return y=!P.getElementById($),F.removeChild(t),e});try{I.call(F.childNodes,0)[0].nodeType}catch(fe){I=function(t){for(var e,n=[];e=this[t];t++)n.push(e);return n}}n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){return n(e,null,null,[t]).length>0},w=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=w(e);return n},_=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=n.contains=F.contains?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:F.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},n.attr=function(t,e){var n,i=_(t);return i||(e=e.toLowerCase()),(n=b.attrHandle[e])?n(t):i||he?t.getAttribute(e):(n=t.getAttributeNode(e),n?"boolean"==typeof t[e]?t[e]?e:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:z,match:ae,attrHandle:ce?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:y?function(t,e,n){if(typeof e.getElementById!==M&&!n){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}}:function(t,n,i){if(typeof n.getElementById!==M&&!i){var r=n.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==M&&r.getAttributeNode("id").value===t?[r]:e:[]}},TAG:ue?function(t,e){return typeof e.getElementsByTagName!==M?e.getElementsByTagName(t):void 0}:function(t,e){var n=e.getElementsByTagName(t);if("*"===t){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:pe&&function(t,e){return typeof e.getElementsByName!==M?e.getElementsByName(name):void 0},CLASS:de&&function(t,e,n){return typeof e.getElementsByClassName===M||n?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(se,""),t[3]=(t[4]||t[5]||"").replace(se,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||n.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&n.error(t[0]),t},PSEUDO:function(t){var e,n;return ae.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(ee.test(e)&&(n=a(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(e=e.slice(0,n),t[0]=t[0].slice(0,n)),t[2]=e),t.slice(0,3))}},filter:{ID:y?function(t){return t=t.replace(se,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(se,""),function(e){var n=typeof e.getAttributeNode!==M&&e.getAttributeNode("id");return n&&n.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(se,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=W[$][t+" "];return e||(e=new RegExp("(^|"+q+")"+t+"("+q+"|$)"))&&W(t,function(t){return e.test(t.className||typeof t.getAttribute!==M&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.substr(o.length-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i){return"nth"===t?function(t){var e,r,o=t.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,e=o.firstChild;e&&(1!==e.nodeType||(r++,t!==e));e=e.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(e){var n=e;switch(t){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===t)return!0;n=e;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var i,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[$]?r(e):r.length>1?(i=[t,t,"",e],b.setFilters.hasOwnProperty(t.toLowerCase())?z(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)i=O.call(t,o[s]),t[i]=!(n[i]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:z(function(t){var e=[],n=[],i=x(t.replace(Y,"$1"));return i[$]?z(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:z(function(t){return function(e){return n(t,e).length>0}}),contains:z(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!b.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return re.test(t.nodeName)},text:function(t){var e,n;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(n=t.getAttribute("type"))||n.toLowerCase()===e)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return oe.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(t,e){return[e-1]}),eq:o(function(t,e,n){return[0>n?n+e:n]}),even:o(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:o(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:o(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:o(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C=F.compareDocumentPosition?function(t,e){return t===e?(T=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return T=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,i,r=[],o=[],a=t.parentNode,l=e.parentNode,u=a;if(a===l)return s(t,e);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return s(r[c],o[c]);return c===n?s(t,o[c],-1):s(r[c],e,1)},[0,0].sort(C),E=!T,n.uniqueSort=function(t){var e,n=[],i=1,r=0;if(T=E,t.sort(C),T){for(;e=t[i];i++)e===t[i-1]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},x=n.compile=function(t,e){var n,i=[],r=[],o=R[$][t+" "];if(!o){for(e||(e=a(t)),n=e.length;n--;)o=d(e[n]),o[$]?i.push(o):r.push(o);o=R(t,p(r,i))}return o},P.querySelectorAll&&!function(){var t,e=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||F.msMatchesSelector;le(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||o.push(":checked")}),le(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(t,n,r,s,l){if(!s&&!l&&!o.test(t)){var u,c,h=!0,d=$,p=n,f=9===n.nodeType&&t;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=a(t),(h=n.getAttribute("id"))?d=h.replace(i,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+u[c].join("");p=ie.test(t)&&n.parentNode||n,f=u.join(",")}if(f)try{return D.apply(r,I.call(p.querySelectorAll(f),0)),r}catch(m){}finally{h||n.removeAttribute("id")}}return e(t,n,r,s,l)},l&&(le(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),s.push("!=",Q)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(e,i){if(i=i.replace(r,"='$1']"),!_(e)&&!s.test(i)&&!o.test(i))try{var a=l.call(e,i);if(a||t||e.document&&11!==e.document.nodeType)return a}catch(u){}return n(i,null,null,[e]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(t);var Ae=/Until$/,Ne=/^(?:parents|prev(?:Until|All))/,De=/^.[^:#\[\.,]*$/,Ie=Z.expr.match.needsContext,Oe={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(t){var e,n,i,r,o,s,a=this;if("string"!=typeof t)return Z(t).filter(function(){for(e=0,n=a.length;n>e;e++)if(Z.contains(a[e],this))return!0});for(s=this.pushStack("","find",t),e=0,n=this.length;n>e;e++)if(i=s.length,Z.find(t,this[e],s),e>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(t){var e,n=Z(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(Z.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(u(this,t,!1),"not",t)},filter:function(t){return this.pushStack(u(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?Ie.test(t)?Z(t,this.context).index(this[0])>=0:Z.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Ie.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,t)){o.push(n);break}n=n.parentNode}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",t)},index:function(t){return t?"string"==typeof t?Z.inArray(this[0],Z(t)):Z.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?Z(t,e):Z.makeArray(t&&t.nodeType?[t]:t),i=Z.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Z.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return Z.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,i){var r=Z.map(this,e,n);return Ae.test(t)||(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),r=this.length>1&&!Oe[t]?Z.unique(r):r,this.length>1&&Ne.test(t)&&(r=r.reverse()),this.pushStack(r,t,G.call(arguments).join(","))}}),Z.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?Z.find.matchesSelector(e[0],t)?[e[0]]:[]:Z.find.matches(t,e)},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!Z(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,We=/^\s+/,Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Re=/<([\w:]+)/,qe=/<tbody/i,Ve=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,Ge=/<(?:script|object|embed|option|style)/i,Ke=new RegExp("<(?:"+ze+")[\\s/>]","i"),Qe=/^(?:checkbox|radio)$/,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/\/(java|ecma)script/i,Ze=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},tn=c(W),en=tn.appendChild(W.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,Z.support.htmlSerialize||(Je._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(t){return Z.access(this,function(t){return t===e?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(Z.isFunction(t))return this.each(function(e){Z(this).wrapAll(t.call(this,e))});if(this[0]){var e=Z(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(t,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||Z.filter(t,[n]).length)&&(e||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&Z.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return Z.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(He,""):e;if(!("string"!=typeof t||Ue.test(t)||!Z.support.htmlSerialize&&Ke.test(t)||!Z.support.leadingWhitespace&&We.test(t)||Je[(Re.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Be,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return a(this[0])?this.length?this.pushStack(Z(Z.isFunction(t)?t():t),"replaceWith",t):this:Z.isFunction(t)?this.each(function(e){var n=Z(this),i=n.html();n.replaceWith(t.call(this,e,i))}):("string"!=typeof t&&(t=Z(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;Z(this).remove(),e?Z(e).before(t):Z(n).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,i){t=[].concat.apply([],t);var r,o,s,a,l=0,u=t[0],c=[],d=this.length;if(!Z.support.checkClone&&d>1&&"string"==typeof u&&Xe.test(u))return this.each(function(){Z(this).domManip(t,n,i)});if(Z.isFunction(u))return this.each(function(r){var o=Z(this);t[0]=u.call(this,r,n?o.html():e),o.domManip(t,n,i)});if(this[0]){if(r=Z.buildFragment(t,this,c),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&Z.nodeName(o,"tr"),a=r.cacheable||d-1;d>l;l++)i.call(n&&Z.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],l===a?s:Z.clone(s,!0,!0));s=o=null,c.length&&Z.each(c,function(t,e){e.src?Z.ajax?Z.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ze,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),Z.buildFragment=function(t,n,i){var r,o,s,a=t[0];return n=n||W,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===t.length&&"string"==typeof a&&a.length<512&&n===W&&"<"===a.charAt(0))||Ge.test(a)||!Z.support.checkClone&&Xe.test(a)||!Z.support.html5Clone&&Ke.test(a)||(o=!0,r=Z.fragments[a],s=r!==e),r||(r=n.createDocumentFragment(),Z.clean(t,n,r,i),o&&(Z.fragments[a]=s&&r)),{fragment:r,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(n){var i,r=0,o=[],s=Z(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[e](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),Z(s[r])[e](i),o=o.concat(i);return this.pushStack(o,t,s.selector)}}),Z.extend({clone:function(t,e,n){var i,r,o,s;if(Z.support.html5Clone||Z.isXMLDoc(t)||!Ke.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(en.innerHTML=t.outerHTML,en.removeChild(s=en.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(p(t,s),i=f(t),r=f(s),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(e&&(d(t,s),n))for(i=f(t),r=f(s),o=0;i[o];++o)d(i[o],r[o]);return i=r=null,s},clean:function(t,e,n,i){var r,o,s,a,l,u,h,d,p,f,g,v=e===W&&tn,y=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=W),r=0;null!=(s=t[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Ve.test(s)){for(v=v||c(e),h=e.createElement("div"),v.appendChild(h),s=s.replace(Be,"<$1></$2>"),a=(Re.exec(s)||["",""])[1].toLowerCase(),l=Je[a]||Je._default,u=l[0],h.innerHTML=l[1]+s+l[2];u--;)h=h.lastChild;if(!Z.support.tbody)for(d=qe.test(s),p="table"!==a||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,o=p.length-1;o>=0;--o)Z.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!Z.support.leadingWhitespace&&We.test(s)&&h.insertBefore(e.createTextNode(We.exec(s)[0]),h.firstChild),s=h.childNodes,h.parentNode.removeChild(h)}else s=e.createTextNode(s);s.nodeType?y.push(s):Z.merge(y,s)}if(h&&(s=h=v=null),!Z.support.appendChecked)for(r=0;null!=(s=y[r]);r++)Z.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),m);if(n)for(f=function(t){return!t.type||Ye.test(t.type)?i?i.push(t.parentNode?t.parentNode.removeChild(t):t):n.appendChild(t):void 0},r=0;null!=(s=y[r]);r++)Z.nodeName(s,"script")&&f(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(t,e){for(var n,i,r,o,s=0,a=Z.expando,l=Z.cache,u=Z.support.deleteExpando,c=Z.event.special;null!=(r=t[s]);s++)if((e||Z.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)c[o]?Z.event.remove(r,o):Z.removeEvent(r,o,n.handle);l[i]&&(delete l[i],u?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Z.deletedIds.push(i))}}}),function(){var t,e;Z.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=Z.uaMatch(R.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),Z.browser=e,Z.sub=function(){function t(e,n){return new t.fn.init(e,n)}Z.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof t)&&(i=t(i)),Z.fn.init.call(this,n,i,e)},t.fn.init.prototype=t.fn;var e=t(W);return t}}();var nn,rn,on,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,hn=new RegExp("^("+J+")(.*)$","i"),dn=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+J+")","i"),fn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(t,n){return Z.access(this,function(t,n,i){return i!==e?Z.style(t,n,i):Z.css(t,n)},t,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var n="boolean"==typeof t;return Z.isFunction(t)&&Z.isFunction(e)?bn.apply(this,arguments):this.each(function(){(n?t:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=Z.camelCase(n),u=t.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(u,l)),a=Z.cssHooks[n]||Z.cssHooks[l],i===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:u[n];if(s=typeof i,"string"===s&&(o=pn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(t,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Z.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(t,i,r))===e)))try{u[n]=i}catch(c){}}},css:function(t,n,i,r){var o,s,a,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(t.style,l)),a=Z.cssHooks[n]||Z.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=nn(t,n)),"normal"===o&&n in gn&&(o=gn[n]),i||r!==e?(s=parseFloat(o),i||Z.isNumeric(s)?s||0:o):o},swap:function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];i=n.call(t);for(r in e)t.style[r]=o[r];return i}}),t.getComputedStyle?nn=function(e,n){var i,r,o,s,a=t.getComputedStyle(e,null),l=e.style;return a&&(i=a.getPropertyValue(n)||a[n],""!==i||Z.contains(e.ownerDocument,e)||(i=Z.style(e,n)),dn.test(i)&&cn.test(n)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),i}:W.documentElement.currentStyle&&(nn=function(t,e){var n,i,r=t.currentStyle&&t.currentStyle[e],o=t.style;return null==r&&o&&o[e]&&(r=o[e]),dn.test(r)&&!ln.test(e)&&(n=o.left,i=t.runtimeStyle&&t.runtimeStyle.left,i&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(t.runtimeStyle.left=i)),""===r?"auto":r}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&un.test(nn(t,"display"))?Z.swap(t,mn,function(){return _(t,e,i)}):_(t,e,i):void 0},set:function(t,n,i){return b(t,n,i?w(t,e,i,Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(t,e){return an.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=Z.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,e>=1&&""===Z.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(t,e){return Z.swap(t,{display:"inline-block"},function(){return e?nn(t,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(t,e){Z.cssHooks[e]={get:function(t,n){if(n){var i=nn(t,e);return dn.test(i)?Z(t).position()[e]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||nn(t,"display"))},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[t+vn[i]+e]=r[i]||r[i-2]||r[0];return o}},cn.test(t)||(Z.cssHooks[t+e].set=b)});var wn=/%20/g,_n=/\[\]$/,kn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||xn.test(this.type))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(kn,"\r\n")}}):{name:e.name,value:n.replace(kn,"\r\n")}}).get()}}),Z.param=function(t,n){var i,r=[],o=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)
};if(n===e&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){o(this.name,this.value)});else for(i in t)x(i,t[i],n,o);return r.join("&").replace(wn,"+")};var Tn,Sn,En=/#.*$/,Mn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$n=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Pn=/^\/\//,Fn=/\?/,Ln=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,An=/([?&])_=[^&]*/,Nn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Dn=Z.fn.load,In={},On={},zn=["*/"]+["*"];try{Sn=B.href}catch(Hn){Sn=W.createElement("a"),Sn.href="",Sn=Sn.href}Tn=Nn.exec(Sn.toLowerCase())||[],Z.fn.load=function(t,n,i){if("string"!=typeof t&&Dn)return Dn.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),Z.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(o="POST"),Z.ajax({url:t,type:o,dataType:"html",data:n,complete:function(t,e){i&&a.each(i,s||[t.responseText,e,t])}}).done(function(t){s=arguments,a.html(r?Z("<div>").append(t.replace(Ln,"")).find(r):t)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.each(["get","post"],function(t,n){Z[n]=function(t,i,r,o){return Z.isFunction(i)&&(o=o||r,r=i,i=e),Z.ajax({type:n,url:t,data:i,success:r,dataType:o})}}),Z.extend({getScript:function(t,n){return Z.get(t,e,n,"script")},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?S(t,Z.ajaxSettings):(e=t,t=Z.ajaxSettings),S(t,e),t},ajaxSettings:{url:Sn,isLocal:$n.test(Tn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":zn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(In),ajaxTransport:C(On),ajax:function(t,n){function i(t,n,i,s){var u,h,y,b,_,x=n;2!==w&&(w=2,l&&clearTimeout(l),a=e,o=s||"",k.readyState=t>0?4:0,i&&(b=E(d,k,i)),t>=200&&300>t||304===t?(d.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(Z.lastModified[r]=_),_=k.getResponseHeader("Etag"),_&&(Z.etag[r]=_)),304===t?(x="notmodified",u=!0):(u=M(d,b),x=u.state,h=u.data,y=u.error,u=!y)):(y=x,(!x||t)&&(x="error",0>t&&(t=0))),k.status=t,k.statusText=(n||x)+"",u?m.resolveWith(p,[h,x,k]):m.rejectWith(p,[k,x,y]),k.statusCode(v),v=e,c&&f.trigger("ajax"+(u?"Success":"Error"),[k,d,u?h:y]),g.fireWith(p,[k,x]),c&&(f.trigger("ajaxComplete",[k,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,s,a,l,u,c,h,d=Z.ajaxSetup({},n),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof Z)?Z(p):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",k={readyState:0,setRequestHeader:function(t,e){if(!w){var n=t.toLowerCase();t=b[n]=b[n]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(t){var n;if(2===w){if(!s)for(s={};n=Mn.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[t.toLowerCase()]}return n===e?null:n},overrideMimeType:function(t){return w||(d.mimeType=t),this},abort:function(t){return t=t||_,a&&a.abort(t),i(0,t),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(t){if(t){var e;if(2>w)for(e in t)v[e]=[v[e],t[e]];else e=t[k.status],k.always(e)}return this},d.url=((t||d.url)+"").replace(En,"").replace(Pn,Tn[1]+"//"),d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().split(ee),null==d.crossDomain&&(u=Nn.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===Tn[1]&&u[2]===Tn[2]&&(u[3]||("http:"===u[1]?80:443))==(Tn[3]||("http:"===Tn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),T(In,d,n,k),2===w)return k;if(c=d.global,d.type=d.type.toUpperCase(),d.hasContent=!jn.test(d.type),c&&0===Z.active++&&Z.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Fn.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var x=Z.now(),C=d.url.replace(An,"$1_="+x);d.url=C+(C===d.url?(Fn.test(d.url)?"&":"?")+"_="+x:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,Z.lastModified[r]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&k.setRequestHeader("If-None-Match",Z.etag[r])),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)k.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,k,d)===!1||2===w))return k.abort();_="abort";for(h in{success:1,error:1,complete:1})k[h](d[h]);if(a=T(On,d,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},d.timeout));try{w=1,a.send(y,i)}catch(S){if(!(2>w))throw S;i(-1,S)}}else i(-1,"No Transport");return k},active:0,lastModified:{},etag:{}});var Wn=[],Bn=/\?/,Rn=/(=)\?(?=&|$)|\?\?/,qn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Wn.pop()||Z.expando+"_"+qn++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.data,u=n.url,c=n.jsonp!==!1,h=c&&Rn.test(u),d=c&&!h&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(l);return"jsonp"===n.dataTypes[0]||h||d?(o=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=t[o],h?n.url=u.replace(Rn,"$1"+o):d?n.data=l.replace(Rn,"$1"+o):c&&(n.url+=(Bn.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},n.dataTypes[0]="json",t[o]=function(){a=arguments},r.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(o)),a&&Z.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(r,o){n=W.createElement("script"),n.async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=e,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,Un=t.ActiveXObject?function(){for(var t in Vn)Vn[t](0,1)}:!1,Gn=0;Z.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&$()||j()}:$,function(t){Z.extend(Z.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(t,r){var a,u,c,h,d;try{if(i&&(r||4===l.readyState))if(i=e,s&&(l.onreadystatechange=Z.noop,Un&&delete Vn[s]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){r||o(-1,f)}h&&o(a,u,h,c)},n.async?4===l.readyState?setTimeout(i,0):(s=++Gn,Un&&(Vn||(Vn={},Z(t).unload(Un)),Vn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Kn,Qn,Xn=/^(?:toggle|show|hide)$/,Yn=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Zn=/queueHooks$/,Jn=[N],ti={"*":[function(t,e){var n,i,r=this.createTween(t,e),o=Yn.exec(e),s=r.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],i=o[3]||(Z.cssNumber[t]?"":"px"),"px"!==i&&a){a=Z.css(r.elem,t,!0)||n||1;do l=l||".5",a/=l,Z.style(r.elem,t,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};Z.Animation=Z.extend(L,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ti[n]=ti[n]||[],ti[n].unshift(e)},prefilter:function(t,e){e?Jn.unshift(t):Jn.push(t)}}),Z.Tween=D,D.prototype={constructor:D,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(i,r,o){return null==i||"boolean"==typeof i||!t&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(I(e,!0),i,r,o)}}),Z.fn.extend({fadeTo:function(t,e,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Z.isEmptyObject(t),o=Z.speed(e,n,i),s=function(){var e=L(this,Z.extend({},t),o);r&&e.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Zn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&Z.dequeue(this,t)})}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Z.speed=function(t,e,n){var i=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.timers=[],Z.fx=D.prototype.init,Z.fx.tick=function(){var t,n=Z.timers,i=0;for(Kn=Z.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||Z.fx.stop(),Kn=e},Z.fx.timer=function(t){t()&&Z.timers.push(t)&&!Qn&&(Qn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Qn),Qn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length});var ei=/^(?:body|html)$/i;Z.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var n,i,r,o,s,a,l,u={top:0,left:0},c=this[0],h=c&&c.ownerDocument;if(h)return(i=h.body)===c?Z.offset.bodyOffset(c):(n=h.documentElement,Z.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=O(h),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+a-o,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(Z.css(t,"marginTop"))||0,n+=parseFloat(Z.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var i=Z.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,s=Z(t),a=s.offset(),l=Z.css(t,"top"),u=Z.css(t,"left"),c=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,u])>-1,h={},d={};c?(d=s.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),Z.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):s.css(h)}},Z.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),n=this.offset(),i=ei.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(Z.css(t,"marginTop"))||0,n.left-=parseFloat(Z.css(t,"marginLeft"))||0,i.top+=parseFloat(Z.css(e[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(e[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||W.body;t&&!ei.test(t.nodeName)&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||W.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);Z.fn[t]=function(r){return Z.access(this,function(t,r,o){var s=O(t);return o===e?s?n in s?s[n]:s.document.documentElement[r]:t[r]:void(s?s.scrollTo(i?Z(s).scrollLeft():o,i?o:Z(s).scrollTop()):t[r]=o)},t,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(t,n){Z.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){Z.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Z.access(this,function(n,i,r){var o;return Z.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?Z.css(n,i,r,a):Z.style(n,i,r,a)},n,s?r:e,s,null)}})}),t.jQuery=t.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(t,e){function n(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(s,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),u=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var i,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=t.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),1===arguments.length)return o[n]===e?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(jQuery),/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),i.length?(this.focus(e,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",i.attr("id"))}),e=i.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(t,e){function n(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function i(e,n){return parseInt(t.css(e,n),10)||0}function r(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return t("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),w=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(w),k=(e.collision||"flip").split(" "),x={};return y=r(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=h.exec(i[0]),n=h.exec(i[1]),x[this]=[t?t[0]:0,n?n[0]:0],e[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=n(x.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,u,c=t(this),h=c.outerWidth(),d=c.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),C=h+f+i(this,"marginRight")+_.width,T=d+y+i(this,"marginBottom")+_.height,S=t.extend({},v),E=n(x.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?S.left-=h:"center"===e.my[0]&&(S.left-=h/2),"bottom"===e.my[1]?S.top-=d:"center"===e.my[1]&&(S.top-=d/2),S.left+=E[0],S.top+=E[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),r={marginLeft:f,marginTop:y},t.each(["left","top"],function(n,i){t.ui.position[k[n]]&&t.ui.position[k[n]][i](S,{targetWidth:p,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:r,collisionWidth:C,collisionHeight:T,offset:[o[0]+E[0],o[1]+E[1]],my:e.my,at:e.at,within:w,elem:c})}),e.using&&(u=function(t){var n=g.left-S.left,i=n+p-h,r=g.top-S.top,o=r+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:S.left,top:S.top,width:h,height:d},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};h>p&&a(n+i)<p&&(l.horizontal="center"),d>m&&a(r+o)<m&&(l.vertical="middle"),l.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=u?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=u>0&&0>=l?r:l>u?r+o-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=u?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=u>0&&0>=l?r:l>u?r+o-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(n=t.left+d+p+f+e.collisionWidth-s-o,(0>n||n<a(c))&&(t.left+=d+p+f)):h>0&&(i=t.left-e.collisionPosition.marginLeft+d+p+f-l,(i>0||a(i)<h)&&(t.left+=d+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(i=t.top+p+f+m+e.collisionHeight-s-o,t.top+p+f+m>c&&(0>i||i<a(c))&&(t.top+=p+f+m)):h>0&&(n=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>h&&(n>0||a(n)<h)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)e.style[o]=i[o];e.appendChild(a),n=s||document.documentElement,n.insertBefore(e,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(t){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<a>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&l>i+u,d="y"===this.options.axis||e+c>o&&s>e+c,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var r,o,s,a,l,u,c,h,d,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&t.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",u=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[l],d=!1,Math.abs(h-c)>Math.abs(h+this.items[o][u]-c)&&(d=!0,h+=this.items[o][u]),Math.abs(h-c)<s&&(s=Math.abs(h-c),a=this.items[o],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){var i=this;!n&&i._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery),function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,o,s,a,l,u,c,h;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,u=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var d=n.data("ujs:submit-button");d&&(s.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);h={type:r||"GET",data:s,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},xhrFields:{withCredentials:u},crossDomain:l},o&&(h.url=o);var p=i.ajax(h);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&a!==e&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),o=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!o==!i){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?o=e.handler(i):void 0}),o},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),o=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||s))return!0;var a=i.handleRemote(r);return a===!1?i.enableElement(r):a.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),o=r.data("remote")!==e,s=i.blankInputs(r,i.requiredInputSelector),a=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(o){if(a){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,_=Object.keys,k=o.bind,x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.6.0";var C=x.each=x.forEach=function(t,e,i){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var s=x.keys(t),r=0,o=s.length;o>r;r++)if(e.call(i,t[s[r]],s[r],t)===n)return;return t};x.map=x.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(C(t,function(t,r,o){i.push(e.call(n,t,r,o))}),i)};var T="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return i&&(e=x.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(C(t,function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)}),!r)throw new TypeError(T);return n},x.reduceRight=x.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=x.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=x.keys(t);o=s.length}if(C(t,function(a,l,u){l=s?s[--o]:--o,r?n=e.call(i,n,t[l],l,u):(n=t[l],r=!0)}),!r)throw new TypeError(T);return n},x.find=x.detect=function(t,e,n){var i;return S(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},x.filter=x.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(C(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i)},x.reject=function(t,e,n){return x.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},x.every=x.all=function(t,e,i){e||(e=x.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(C(t,function(t,o,s){return(r=r&&e.call(i,t,o,s))?void 0:n}),!!r)};var S=x.some=x.any=function(t,e,i){e||(e=x.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(C(t,function(t,o,s){return r||(r=e.call(i,t,o,s))?n:void 0}),!!r)};x.contains=x.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2),i=x.isFunction(e);return x.map(t,function(t){return(i?e:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matches(e))},x.findWhere=function(t,e){return x.find(t,x.matches(e))},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,r=-1/0;return C(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>r&&(i=t,r=a)}),i},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return C(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;r>a&&(i=t,r=a)}),i},x.shuffle=function(t){var e,n=0,i=[];return C(t,function(t){e=x.random(n++),i[n-1]=i[e],i[e]=t}),i},x.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return null==t?x.identity:x.isFunction(t)?t:x.property(t)};x.sortBy=function(t,e,n){return e=E(e),x.pluck(x.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,i){var r={};return n=E(n),C(e,function(o,s){var a=n.call(i,o,s,e);t(r,a,o)}),r}};x.groupBy=M(function(t,e,n){x.has(t,e)?t[e].push(n):t[e]=[n]}),x.indexBy=M(function(t,e,n){t[e]=n}),x.countBy=M(function(t,e){x.has(t,e)?t[e]++:t[e]=1}),x.sortedIndex=function(t,e,n,i){n=E(n);for(var r=n.call(i,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(i,t[a])<r?o=a+1:s=a}return o},x.toArray=function(t){return t?x.isArray(t)?a.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var $=function(t,e,n){return e&&x.every(t,x.isArray)?l.apply(n,t):(C(t,function(t){x.isArray(t)||x.isArguments(t)?e?s.apply(n,t):$(t,e,n):n.push(t)}),n)};x.flatten=function(t,e){return $(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.partition=function(t,e){var n=[],i=[];return C(t,function(t){(e(t)?n:i).push(t)}),[n,i]},x.uniq=x.unique=function(t,e,n,i){x.isFunction(e)&&(i=n,n=e,e=!1);var r=n?x.map(t,n,i):t,o=[],s=[];return C(r,function(n,i){(e?i&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(t[i]))}),o},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.contains(e,t)})})},x.difference=function(t){var e=l.apply(i,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=x.max(x.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=x.pluck(arguments,""+n);return e},x.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);i>r;)o[r++]=t,t+=n;return o};var j=function(){};x.bind=function(t,e){var n,i;if(k&&t.bind===k)return k.apply(t,a.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));j.prototype=t.prototype;var r=new j;j.prototype=null;var o=t.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},x.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===x&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},x.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return C(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var i=e.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:x.now(),s=null,o=t.apply(i,r),i=r=null};return function(){var u=x.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return i=this,r=arguments,0>=c?(clearTimeout(s),s=null,a=u,o=t.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,c)),o}},x.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var u=x.now()-s;e>u?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=x.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return x.partial(e,t)},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.keys=function(t){if(!x.isObject(t))return[];if(_)return _(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return e},x.values=function(t){for(var e=x.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},x.pairs=function(t){for(var e=x.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},x.invert=function(t){for(var e={},n=x.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return C(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var r in t)x.contains(n,r)||(e[r]=t[r]);return e},x.defaults=function(t){return C(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=u.call(t);if(r!=u.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var l=0,c=!0;if("[object Array]"==r){if(l=t.length,c=l==e.length)for(;l--&&(c=P(t[l],e[l],n,i)););}else{for(var h in t)if(x.has(t,h)&&(l++,!(c=x.has(e,h)&&P(t[h],e[h],n,i))))break;if(c){for(h in e)if(x.has(e,h)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};x.isEqual=function(t,e){return P(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=w||function(t){return"[object Array]"==u.call(t)},x.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(t){return"function"==typeof t}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.property=function(t){return function(e){return e[t]}},x.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},x.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=x.invert(F.escape);var L={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(L[t],function(e){return F[t][e]})}}),x.result=function(t,e){if(null==t)return void 0;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){C(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),O.call(this,n.apply(x,t))}})};var A=0;x.uniqueId=function(t){var e=++A+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var i;n=x.defaults({},n,x.templateSettings);var r=new RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,i,r,a){return s+=t.slice(o,a).replace(I,function(t){return"\\"+D[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,x);var l=function(t){return i.call(this,t,x)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},x.chain=function(t){return x(t).chain()};var O=function(t){return this._chain?x(t).chain():t};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],O.call(this,n)}}),C(["concat","join","slice"],function(t){var e=i[t];x.prototype[t]=function(){return O.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(){var t;t=function(){function t(){}return t.version="1.2.0",t.registered_features={},t.featurettes_counter=0,t.register=function(t,e){return this.registered_features[t]=e},t.load=function(){var t,e,n,i,r,o,s,a,l,u,c,h;for(n=document.querySelectorAll("[data-featurette]"),e=[],a=0,u=n.length;u>a;a++)t=n[a],t.featuretteLoading||t.featurette||(e.push(t),t.featuretteLoading=!0);for(h=[],l=0,c=e.length;c>l;l++)t=e[l],i=t.getAttribute("data-featurette"),o=this.registered_features[i],o?(r=t.id,(null==r||""===r)&&(r="featurette-"+this.featurettes_counter,t.id=r),s=new o(t),t.featurette=s,h.push(this.featurettes_counter+=1)):h.push(window.console?console.log("Unknown featurette "+i):void 0);return h},t.get=function(t){var e;return null!=(e=document.getElementById(t))?e.featurette:void 0},t}(),window.Featurette=t}.call(this),/*

Uniform v1.7.5
Copyright © 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.4 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on this

Disabling text selection is made possible by Mathias Bynens <http://mathiasbynens.be/>
and his noSelect plugin. <http://github.com/mathiasbynens/noSelect-jQuery-Plugin>

Also, thanks to David Kaneda and Eugene Bond for their contributions to the plugin

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
function(t){t.uniform={options:{selectClass:"form-element",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose file",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"form-button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"form-element",resetSelector:!1,autoHide:!0},elements:[]},t.support.selectOpacity=t.browser.msie&&t.browser.version<7?!1:!0,t.fn.uniform=function(e){function n(e){$el=t(e),$el.addClass($el.attr("type")),u(e)}function i(e){t(e).addClass("form-element"),u(e)}function r(n){var i=t(n),r=t("<div>"),o=t("<span>");r.addClass(e.buttonClass),e.useID&&""!=i.attr("id")&&r.attr("id",e.idPrefix+"-"+i.attr("id"));var s;i.is("a")||i.is("button")?s=i.text():(i.is(":submit")||i.is(":reset")||i.is("input[type=button]"))&&(s=i.attr("value")),s=""==s?i.is(":reset")?"Reset":"Submit":s,o.html(s),i.css("opacity",0),i.wrap(r),i.wrap(o),r=i.closest("div"),o=i.closest("span"),i.is(":disabled")&&r.addClass(e.disabledClass),r.bind({"mouseenter.uniform":function(){r.addClass(e.hoverClass)},"mouseleave.uniform":function(){r.removeClass(e.hoverClass),r.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(e){if(t(e.target).is("span")||t(e.target).is("div"))if(n[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),n[0].dispatchEvent(i)}else n[0].click()}}),n.bind({"focus.uniform":function(){r.addClass(e.focusClass)},"blur.uniform":function(){r.removeClass(e.focusClass)}}),t.uniform.noSelect(r),u(n)}function o(n){var i=t(n),r=t("<div />"),o=t("<span />");"none"==!i.css("display")&&e.autoHide&&r.hide(),r.addClass(e.selectClass),e.useID&&""!=n.attr("id")&&r.attr("id",e.idPrefix+"-"+n.attr("id"));var s=n.find(":selected:first");0==s.length&&(s=n.find("option:first")),o.html(s.html()),n.css("opacity",0),n.wrap(r),n.before(o),r=n.parent("div"),o=n.siblings("span"),n.bind({"change.uniform":function(){o.text(n.find(":selected").html()),r.removeClass(e.activeClass)},"focus.uniform":function(){r.addClass(e.focusClass)},"blur.uniform":function(){r.removeClass(e.focusClass),r.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(){r.removeClass(e.activeClass)},"mouseenter.uniform":function(){r.addClass(e.hoverClass)},"mouseleave.uniform":function(){r.removeClass(e.hoverClass),r.removeClass(e.activeClass)},"keyup.uniform":function(){o.text(n.find(":selected").html())}}),t(n).attr("disabled")&&r.addClass(e.disabledClass),t.uniform.noSelect(o),u(n)}function s(n){var i=t(n),r=t("<div />"),o=t("<span />");"none"==!i.css("display")&&e.autoHide&&r.hide(),r.addClass(e.checkboxClass),e.useID&&""!=n.attr("id")&&r.attr("id",e.idPrefix+"-"+n.attr("id")),t(n).wrap(r),t(n).wrap(o),o=n.parent(),r=o.parent(),t(n).css("opacity",0).bind({"focus.uniform":function(){r.addClass(e.focusClass)},"blur.uniform":function(){r.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){t(n).attr("checked")?o.addClass(e.checkedClass):o.removeClass(e.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){r.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){r.removeClass(e.activeClass)},"mouseenter.uniform":function(){r.addClass(e.hoverClass)},"mouseleave.uniform":function(){r.removeClass(e.hoverClass),r.removeClass(e.activeClass)}}),t(n).attr("checked")&&o.addClass(e.checkedClass),t(n).attr("disabled")&&r.addClass(e.disabledClass),u(n)}function a(n){var i=t(n),r=t("<div />"),o=t("<span />");"none"==!i.css("display")&&e.autoHide&&r.hide(),r.addClass(e.radioClass),e.useID&&""!=n.attr("id")&&r.attr("id",e.idPrefix+"-"+n.attr("id")),t(n).wrap(r),t(n).wrap(o),o=n.parent(),r=o.parent(),t(n).css("opacity",0).bind({"focus.uniform":function(){r.addClass(e.focusClass)},"blur.uniform":function(){r.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){if(t(n).attr("checked")){var i=e.radioClass.split(" ")[0];t("."+i+" span."+e.checkedClass+":has([name='"+t(n).attr("name")+"'])").removeClass(e.checkedClass),o.addClass(e.checkedClass)}else o.removeClass(e.checkedClass)},"mousedown.uniform touchend.uniform":function(){t(n).is(":disabled")||r.addClass(e.activeClass)},"mouseup.uniform touchbegin.uniform":function(){r.removeClass(e.activeClass)},"mouseenter.uniform touchend.uniform":function(){r.addClass(e.hoverClass)},"mouseleave.uniform":function(){r.removeClass(e.hoverClass),r.removeClass(e.activeClass)}}),t(n).attr("checked")&&o.addClass(e.checkedClass),t(n).attr("disabled")&&r.addClass(e.disabledClass),u(n)}function l(n){var i=t(n),r=t("<div />"),o=t("<span>"+e.fileDefaultText+"</span>"),s=t("<span>"+e.fileBtnText+"</span>");if("none"==!i.css("display")&&e.autoHide&&r.hide(),r.addClass(e.fileClass),o.addClass(e.filenameClass),s.addClass(e.fileBtnClass),e.useID&&""!=i.attr("id")&&r.attr("id",e.idPrefix+"-"+i.attr("id")),i.wrap(r),i.after(s),i.after(o),r=i.closest("div"),o=i.siblings("."+e.filenameClass),s=i.siblings("."+e.fileBtnClass),!i.attr("size")){var a=r.width();i.attr("size",a/10)}var l=function(){var t=i.val();""===t?t=e.fileDefaultText:(t=t.split(/[\/\\]+/),t=t[t.length-1]),o.text(t)};l(),i.css("opacity",0).bind({"focus.uniform":function(){r.addClass(e.focusClass)},"blur.uniform":function(){r.removeClass(e.focusClass)},"mousedown.uniform":function(){t(n).is(":disabled")||r.addClass(e.activeClass)},"mouseup.uniform":function(){r.removeClass(e.activeClass)},"mouseenter.uniform":function(){r.addClass(e.hoverClass)},"mouseleave.uniform":function(){r.removeClass(e.hoverClass),r.removeClass(e.activeClass)}}),t.browser.msie?i.bind("click.uniform.ie7",function(){setTimeout(l,0)}):i.bind("change.uniform",l),i.attr("disabled")&&r.addClass(e.disabledClass),t.uniform.noSelect(o),t.uniform.noSelect(s),u(n)}function u(e){e=t(e).get(),e.length>1?t.each(e,function(e,n){t.uniform.elements.push(n)}):t.uniform.elements.push(e)}e=t.extend(t.uniform.options,e);var c=this;return 0!=e.resetSelector&&t(e.resetSelector).mouseup(function(){function e(){t.uniform.update(c)}setTimeout(e,10)}),t.uniform.restore=function(e){void 0==e&&(e=t(t.uniform.elements)),t(e).each(function(){t(this).is(":checkbox")?t(this).unwrap().unwrap():t(this).is("select")?(t(this).siblings("span").remove(),t(this).unwrap()):t(this).is(":radio")?t(this).unwrap().unwrap():t(this).is(":file")?(t(this).siblings("span").remove(),t(this).unwrap()):t(this).is("button, :submit, :reset, a, input[type='button']")&&t(this).unwrap().unwrap(),t(this).unbind(".uniform"),t(this).css("opacity","1");var n=t.inArray(t(e),t.uniform.elements);t.uniform.elements.splice(n,1)})},t.uniform.noSelect=function(e){function n(){return!1}t(e).each(function(){this.onselectstart=this.ondragstart=n,t(this).mousedown(n).css({MozUserSelect:"none"})})},t.uniform.update=function(n){void 0==n&&(n=t(t.uniform.elements)),n=t(n),n.each(function(){var i=t(this);if(i.is("select")){var r=i.siblings("span"),o=i.parent("div");o.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),r.html(i.find(":selected").html()),i.is(":disabled")?o.addClass(e.disabledClass):o.removeClass(e.disabledClass)}else if(i.is(":checkbox")){var r=i.closest("span"),o=i.closest("div");o.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),r.removeClass(e.checkedClass),i.is(":checked")&&r.addClass(e.checkedClass),i.is(":disabled")?o.addClass(e.disabledClass):o.removeClass(e.disabledClass)}else if(i.is(":radio")){var r=i.closest("span"),o=i.closest("div");o.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),r.removeClass(e.checkedClass),i.is(":checked")&&r.addClass(e.checkedClass),i.is(":disabled")?o.addClass(e.disabledClass):o.removeClass(e.disabledClass)}else if(i.is(":file")){var o=i.parent("div"),s=i.siblings(e.filenameClass);btnTag=i.siblings(e.fileBtnClass),o.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),s.text(i.val()),i.is(":disabled")?o.addClass(e.disabledClass):o.removeClass(e.disabledClass)}else if(i.is(":submit")||i.is(":reset")||i.is("button")||i.is("a")||n.is("input[type=button]")){var o=i.closest("div");o.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),i.is(":disabled")?o.addClass(e.disabledClass):o.removeClass(e.disabledClass)}})},this.each(function(){if(t.support.selectOpacity){var e=t(this);e.is("select")?1!=e.attr("multiple")&&(void 0==e.attr("size")||e.attr("size")<=1)&&o(e):e.is(":checkbox")?s(e):e.is(":radio")?a(e):e.is(":file")?l(e):e.is(":text, :password, input[type='email']")?n(e):e.is("textarea")?i(e):(e.is("a")||e.is(":submit")||e.is(":reset")||e.is("button")||e.is("input[type=button]"))&&r(e)}})}}(jQuery),function(t){var e,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=t(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===t(o).css("lineHeight")&&r.push("lineHeight"),o.style.lineHeight="",t.fn.autosize=function(i){return this.length?(i=t.extend({},n,i||{}),o.parentNode!==document.body&&t(document.body).append(o),this.each(function(){function n(){var e,n=window.getComputedStyle?window.getComputedStyle(d,null):!1;n?(e=d.getBoundingClientRect().width,(0===e||"number"!=typeof e)&&(e=parseInt(n.width,10)),t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,i){e-=parseInt(n[i],10)})):e=Math.max(p.width(),0),o.style.width=e+"px"}function s(){var s={};if(e=d,o.className=i.className,o.id=i.id,u=parseInt(p.css("maxHeight"),10),t.each(r,function(t,e){s[e]=p.css(e)}),t(o).css(s).attr("wrap",p.attr("wrap")),n(),window.chrome){var a=d.style.width;d.style.width="0px";{d.offsetWidth}d.style.width=a}}function a(){var t,r;e!==d?s():n(),o.value=!d.value&&i.placeholder?(p.attr("placeholder")||"")+i.append:d.value+i.append,o.style.overflowY=d.style.overflowY,r=parseInt(d.style.height,10),o.scrollTop=0,o.scrollTop=9e4,t=o.scrollTop,u&&t>u?(d.style.overflowY="scroll",t=u):(d.style.overflowY="hidden",c>t&&(t=c)),t+=f,r!==t&&(d.style.height=t+"px",m&&i.callback.call(d,d))}function l(){clearTimeout(h),h=setTimeout(function(){var t=p.width();t!==v&&(v=t,a())},parseInt(i.resizeDelay,10))}var u,c,h,d=this,p=t(d),f=0,m=t.isFunction(i.callback),g={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},v=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?p.on("input.autosize keyup.autosize",a):p.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):p.on("input.autosize",a),i.resizeDelay!==!1&&t(window).on("resize.autosize",l),p.on("autosize.resize",a),p.on("autosize.resizeIncludeStyle",function(){e=null,a()}),p.on("autosize.destroy",function(){e=null,clearTimeout(h),t(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(window.jQuery||window.$),function(t){t.InFieldLabels=function(e,n,i){var r=this;r.$label=t(e),r.label=e,r.$field=t(n),r.field=n,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){var e;r.options=t.extend({},t.InFieldLabels.defaultOptions,i),r.options.className&&r.$label.addClass(r.options.className),setTimeout(function(){""!==r.$field.val()?(r.$label.hide(),r.showing=!1):(r.$label.show(),r.showing=!0)},200),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}).bind("paste",function(){r.setOpacity(0)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}).bind("keyup.infieldlabel",function(){r.checkForEmpty()}),r.options.pollDuration>0&&(e=setInterval(function(){""!==r.$field.val()&&(r.$label.hide(),r.showing=!1,clearInterval(e))},r.options.pollDuration))},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(t){r.$label.stop().animate({opacity:t},r.options.fadeDuration),r.showing=t>0},r.checkForEmpty=function(t){""===r.$field.val()?(r.prepForShow(),r.setOpacity(t?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}))},r.hideOnChange=function(t){16!==t.keyCode&&9!==t.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},t.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:!1},t.fn.inFieldLabels=function(e){var n=e&&e.enabledInputTypes||t.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var i,r,o=t(this).attr("for");o&&(i=document.getElementById(o),i&&(r=t.inArray(i.type,n),(-1!==r||"TEXTAREA"===i.nodeName)&&new t.InFieldLabels(this,i,e)))})}}(jQuery),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
 */
function(){var t,e;e=this,t=function(){function t(e,n){this.form_field=e,this.options=null!=n?n:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100))},t.prototype.result_add_option=function(t){var e,n;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),n=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+n+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.choices_count=function(){var t,e,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,e=0,n=i.length;n>e;e++)t=i[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,n;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*t.length),e=t.substring(n,n+1)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.browser_is_supported=function(){var t;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(t=document.documentMode)&&t>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),o=t.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,e,t.disabled));return s},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:n===!0?n:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var n,i,r,o,s;for(i=new t,s=e.childNodes,r=0,o=s.length;o>r;r++)n=s[r],i.add_node(n);return i.parsed},this.SelectParser=t}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
 */
function(){var t,e,n,i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=this,t=jQuery,t.fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(){var i;return i=t(this),i.hasClass("chzn-done")?void 0:i.data("chosen",new e(this,n))}):this}}),e=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},i.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},i.prototype.set_up_html=function(){var e,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),n={id:this.container_id,"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=t("<div />",n),this.container.html(this.is_multiple?'<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>':'<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},i.prototype.register_observers=function(){return this.container.mousedown(function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.mouseup(function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.mouseenter(function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.mouseleave(function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.mouseup(function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.mouseover(function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.mouseout(function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.bind("mousewheel DOMMouseScroll",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.form_field_jq.bind("liszt:updated",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.bind("liszt:activate",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.bind("liszt:open",function(t){return function(e){t.container_mousedown(e)}}(this)),this.search_field.blur(function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.keyup(function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.keydown(function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.focus(function(t){return function(e){t.input_focus(e)}}(this)),this.is_multiple?this.search_choices.click(function(t){return function(e){t.choices_click(e)}}(this)):this.container.click(function(){return function(t){t.preventDefault()}}(this))},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e,n,i;return e=-(null!=(n=t.originalEvent)?n.wheelDelta:void 0)||(null!=(i=t.originialEvent)?i.detail:void 0),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){var t,e,i,r,o;for(this.parsing=!0,this.selected_option_count=null,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices_count()>0?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",o=this.results_data,i=0,r=o.length;r>i;i++)e=o[i],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},i.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},i.prototype.result_do_highlight=function(t){var e,n,i,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),e=n+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(o>n)return this.search_results.scrollTop(n)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},i.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},i.prototype.set_label_behavior=function(){return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(t){return function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}}(this)):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var n,i;return n=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?n.addClass("search-choice-disabled"):(i=t("<a />",{href:"#","class":"search-choice-close",rel:e.array_index}),i.click(function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),n.append(i)),this.search_container.before(n)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,n,i,r;return this.result_highlight?(e=this.result_highlight,n=e.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),r=n.substr(n.lastIndexOf("_")+1),i=this.results_data[r],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.result_activate=function(t){return t.addClass("active-result")},i.prototype.result_deactivate=function(t){return t.removeClass("active-result")},i.prototype.result_deselect=function(e){var n,i;return i=this.results_data[e],this.form_field.options[i.options_index].disabled?!1:(i.selected=!1,this.form_field.options[i.options_index].selected=!1,this.selected_option_count=null,n=t("#"+this.container_id+"_o_"+e),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},i.prototype.winnow_results=function(){var e,n,i,r,o,s,a,l,u,c,h,d,p,f,m,g,v,y;for(this.no_results_clear(),u=0,c=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",o=new RegExp(s+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,f=0,g=y.length;g>f;f++)if(n=y[f],!n.disabled&&!n.empty)if(n.group)t("#"+n.dom_id).css("display","none");else if(!this.is_multiple||!n.selected){if(e=!1,l=n.dom_id,a=t("#"+l),o.test(n.html))e=!0,u+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(r=n.html.replace(/\[|\]/g,"").split(" "),r.length))for(m=0,v=r.length;v>m;m++)i=r[m],o.test(i)&&(e=!0,u+=1);e?(c.length?(h=n.html.search(p),d=n.html.substr(0,h+c.length)+"</em>"+n.html.substr(h+c.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=n.html,a.html(d),this.result_activate(a),null!=n.group_array_index&&t("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>u&&c.length?this.no_results(c):this.winnow_results_set_highlight()},i.prototype.winnow_results_clear=function(){var e,n,i,r,o;for(this.search_field.val(""),n=this.search_results.find("li"),o=[],i=0,r=n.length;r>i;i++)e=n[i],e=t(e),o.push(e.hasClass("group-result")?e.css("display","auto"):this.is_multiple&&e.hasClass("result-selected")?void 0:this.result_activate(e));return o},i.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},i.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e,n;return this.result_highlight?this.results_showing&&(n=this.result_highlight.nextAll("li.active-result").first(),n&&this.result_do_highlight(n)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,n,i,r,o,s,a,l;if(this.is_multiple){for(n=0,s=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=o.length;l>a;a++)i=o[a],r+=i+":"+this.search_field.css(i)+";";return e=t("<div />",{style:r}),e.text(this.search_field.val()),t("body").append(e),s=e.width()+25,e.remove(),this.f_width||(this.f_width=this.container.outerWidth()),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"})}},i.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},i}(AbstractChosen),n.Chosen=e}.call(this),/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(e){}}function o(e,n){var i=a.raw?e:r(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[e(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){h=o(v,s);break}r||void 0===(v=o(v))||(h[g]=v)}return h};a.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),// copyright chris wanstrath
function(t){function e(e,i,r){var o=this;return this.on("click.pjax",e,function(e){var s=t.extend({},d(i,r));s.container||(s.container=t(this).attr("data-pjax")||o),n(e,s)})}function n(e,n,i){i=d(n,i);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#")){var s={url:o.href,container:t(o).attr("data-pjax"),target:o},a=t.extend({},s,i),l=t.Event("pjax:click");t(o).trigger(l,[a]),l.isDefaultPrevented()||(r(a),e.preventDefault())}}function i(e,n,i){i=d(n,i);var o=e.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method.toUpperCase(),url:o.action,data:t(o).serializeArray(),container:t(o).attr("data-pjax"),target:o};r(t.extend({},s,i)),e.preventDefault()}function r(e){function n(e,n){var r=t.Event(e,{relatedTarget:i});return a.trigger(r,n),!r.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var i=e.target,o=h(e.url).hash,a=e.context=p(e.container);e.data||(e.data={}),e.data._pjax=a.selector;var l;e.beforeSend=function(t,i){return"GET"!==i.type&&(i.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",a.selector),n("pjax:beforeSend",[t,i])?(i.timeout>0&&(l=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},i.timeout),i.timeout=0),void(e.requestUrl=h(i.url).href)):!1},e.complete=function(t,i){l&&clearTimeout(l),n("pjax:complete",[t,i,e]),n("pjax:end",[t,e])},e.error=function(t,i,r){var o=g("",t,e),a=n("pjax:error",[t,i,r,e]);"GET"==e.type&&"abort"!==i&&a&&s(o.url)},e.success=function(i,l,c){var d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,p=c.getResponseHeader("X-PJAX-Version"),f=g(i,c,e);if(d&&p&&d!==p)return void s(f.url);if(!f.contents)return void s(f.url);r.state={id:e.id||u(),url:f.url,title:f.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,f.title,f.url),document.activeElement.blur(),f.title&&(document.title=f.title),a.html(f.contents);var m=a.find("input[autofocus], textarea[autofocus]").last()[0];if(m&&document.activeElement!==m&&m.focus(),v(f.scripts),"number"==typeof e.scrollTo&&t(window).scrollTop(e.scrollTo),""!==o){var y=h(f.url);y.hash=o,r.state.url=y.href,window.history.replaceState(r.state,f.title,y.href);var b=t(y.hash);b.length&&t(window).scrollTop(b.offset().top)}n("pjax:success",[i,l,c,e])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title));var d=r.xhr;d&&d.readyState<4&&(d.onreadystatechange=t.noop,d.abort()),r.options=e;var d=r.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(y(r.state.id,a.clone().contents()),window.history.pushState(null,"",c(e.requestUrl))),n("pjax:start",[d,e]),n("pjax:send",[d,e])),r.xhr}function o(e,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(i,d(e,n)))}function s(t){window.history.replaceState(null,"","#"),window.location.replace(t)}function a(e){var n=e.state;if(n&&n.container){if(x&&C==n.url)return;if(r.state.id===n.id)return;var i=t(n.container);if(i.length){var o,a=S[n.id];r.state&&(o=r.state.id<n.id?"forward":"back",b(o,r.state.id,i.clone().contents()));var l=t.Event("pjax:popstate",{state:n,direction:o});i.trigger(l);var u={id:n.id,url:n.url,container:i,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};a?(i.trigger("pjax:start",[null,u]),n.title&&(document.title=n.title),i.html(a),r.state=n,i.trigger("pjax:end",[null,u])):r(u),i[0].offsetHeight}else s(location.href)}x=!1}function l(e){var n=t.isFunction(e.url)?e.url():e.url,i=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(t("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,n){var i=n.split("=");r.append(t("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if("object"==typeof o)for(key in o)r.append(t("<input>",{type:"hidden",name:key,value:o[key]}));t(document.body).append(r),r.submit()}function u(){return(new Date).getTime()}function c(t){return t.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function h(t){var e=document.createElement("a");return e.href=t,e}function d(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=p(n.container)),n}function p(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function f(t,e){return t.filter(e).add(t.find(e))}function m(e){return t.parseHTML(e,document,!0)}function g(e,n,i){var r={};if(r.url=c(n.getResponseHeader("X-PJAX-URL")||i.requestUrl),/<html/i.test(e))var o=t(m(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=t(m(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var o=s=t(m(e));if(0===s.length)return r;if(r.title=f(o,"title").last().text(),i.fragment){if("body"===i.fragment)var a=s;else var a=f(s,i.fragment).first();a.length&&(r.contents=a.contents(),r.title||(r.title=a.attr("title")||a.data("title")))}else/<html/i.test(e)||(r.contents=s);return r.contents&&(r.contents=r.contents.not(function(){return t(this).is("title")}),r.contents.find("title").remove(),r.scripts=f(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function v(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,i=n.filter(function(){return this.src===e});if(!i.length){var r=document.createElement("script");r.type=t(this).attr("type"),r.src=t(this).attr("src"),document.head.appendChild(r)}})}}function y(t,e){for(S[t]=e,M.push(t);E.length;)delete S[E.shift()];for(;M.length>r.defaults.maxCacheLength;)delete S[M.shift()]}function b(t,e,n){var i,r;S[e]=n,"forward"===t?(i=M,r=E):(i=E,r=M),i.push(e),(e=r.pop())&&delete S[e]}function w(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function _(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=k,t.pjax.click=n,t.pjax.submit=i,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:w},t(window).on("popstate.pjax",a)}function k(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=_,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",a)}var x=!0,C=window.location.href,T=window.history.state;T&&T.container&&(r.state=T),"state"in window.history&&(x=!1);var S={},E=[],M=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),t.support.pjax?_():k()}(jQuery),function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,p,f,m,g,v,y,b=[].slice,w=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t.payment.fn[n].apply(this,e)},r=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,r;for(t=(t+"").replace(/\D/g,""),n=0,r=i.length;r>n;n++)if(e=i[n],e.pattern.test(t))return e},n=function(t){var e,n,r;for(n=0,r=i.length;r>n;n++)if(e=i[n],e.type===t)return e},d=function(t){var e,n,i,r,o,s;for(i=!0,r=0,n=(t+"").split("").reverse(),o=0,s=n.length;s>o;o++)e=n[o],e=parseInt(e,10),(i=!i)&&(e*=2),e>9&&(e-=9),r+=e;return r%10===0},h=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)&&"function"==typeof e.createRange?e.createRange().text:void 0)?!0:!1},p=function(e){return setTimeout(function(){var n,i;return n=t(e.currentTarget),i=n.val(),i=t.payment.formatCardNumber(i),n.val(i)})},a=function(n){var i,r,o,s,a,l,u;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(i=t(n.currentTarget),u=i.val(),r=e(u+o),s=(u.replace(/\D/g,"")+o).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==u.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(u)?(n.preventDefault(),i.val(u+" "+o)):a.test(u+o)?(n.preventDefault(),i.val(u+o+" ")):void 0)},o=function(e){var n,i;return n=t(e.currentTarget),i=n.val(),e.meta||8!==e.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(e.preventDefault(),n.val("0"+r+" / ")):/^\d\d$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):void 0):void 0},u=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},c=function(e){var n,i,r;return i=String.fromCharCode(e.which),"/"===i?(n=t(e.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},s=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},m=function(n){var i,r,o,s;return i=t(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!h(i)?(s=(i.val()+o).replace(/\D/g,""),r=e(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},g=function(e){var n,i,r;return n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!h(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(e){var n,i,r;return n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)?(r=n.val()+i,r.length<=4):void 0},y=function(e){var n,r,o,s,a;return n=t(e.currentTarget),a=n.val(),s=t.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(r=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",c),this.on("keypress",u),this.on("keydown",s),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",o),this.on("keyup",y),this.on("paste",p),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,i,r;return t=t.replace(/\s/g,""),r=t.split("/",2),e=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),e=parseInt(e,10),i=parseInt(i,10),{month:e,year:i}},t.payment.validateCardNumber=function(t){var n,i;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(i=t.length,w.call(n.length,i)>=0&&(n.luhn===!1||d(t))):!1):!1},t.payment.validateCardExpiry=function(e,n){var i,r,o,s;return"object"==typeof e&&"month"in e&&(s=e,e=s.month,n=s.year),e&&n?(e=t.trim(e),n=t.trim(n),/^\d+$/.test(e)&&/^\d+$/.test(n)&&parseInt(e,10)<=12?(2===n.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),n=o+n),r=new Date(n,e),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i):!1):!1},t.payment.validateCardCVC=function(e,i){var r,o;return e=t.trim(e),/^\d+$/.test(e)?i?(r=e.length,w.call(null!=(o=n(i))?o.cvcLength:void 0,r)>=0):e.length>=3&&e.length<=4:!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.payment.formatCardNumber=function(t){var n,i,r,o;return(n=e(t))?(r=n.length[n.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+r+1||9e9),n.format.global?null!=(o=t.match(n.format))?o.join(" "):void 0:(i=n.format.exec(t),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):t}}.call(this),function(t,e,n){function i(t){var e={},i=/^jQuery\d+$/;return n.each(t.attributes,function(t,n){n.specified&&!i.test(n.name)&&(e[n.name]=n.value)}),e}function r(t,e){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),t===!0)return r[0].value=e;r.focus()}else i.value="",r.removeClass("placeholder"),i==s()&&i.select()}function o(){var t,e=this,o=n(e),s=this.id;if(""==e.value){if("password"==e.type){if(!o.data("placeholder-textinput")){try{t=o.clone().attr({type:"text"})}catch(a){t=n("<input>").attr(n.extend(i(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",r),o.data({"placeholder-textinput":t,"placeholder-id":s}).before(t)}o=o.removeAttr("id").hide().prev().attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function s(){try{return e.activeElement}catch(t){}}var a,l,u="[object OperaMini]"==Object.prototype.toString.call(t.operamini),c="placeholder"in e.createElement("input")&&!u,h="placeholder"in e.createElement("textarea")&&!u,d=n.fn,p=n.valHooks,f=n.propHooks;c&&h?(l=d.placeholder=function(){return this},l.input=l.textarea=!0):(l=d.placeholder=function(){var t=this;return t.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},l.input=c,l.textarea=h,a={get:function(t){var e=n(t),i=e.data("placeholder-password");return i?i[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var i=n(t),a=i.data("placeholder-password");return a?a[0].value=e:i.data("placeholder-enabled")?(""==e?(t.value=e,t!=s()&&o.call(t)):i.hasClass("placeholder")?r.call(t,!0,e)||(t.value=e):t.value=e,i):t.value=e}},c||(p.input=a,f.value=a),h||(p.textarea=a,f.value=a),n(function(){n(e).delegate("form","submit.placeholder",function(){var t=n(".placeholder",this).each(r);setTimeout(function(){t.each(o)},10)})}),n(t).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(t){function e(e){if("string"==typeof e.data){var n=e.handler,i=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var r="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),s="",a={};e.altKey&&"alt"!==r&&(s+="alt+"),e.ctrlKey&&"ctrl"!==r&&(s+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==r&&(s+="meta+"),e.shiftKey&&"shift"!==r&&(s+="shift+"),r?a[s+r]=!0:(a[s+o]=!0,a[s+t.hotkeys.shiftNums[o]]=!0,"shift+"===s&&(a[t.hotkeys.shiftNums[o]]=!0));for(var l=0,u=i.length;u>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t,e){var n={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},i={triggerChar:"@",onDataRequest:t.noop,minChars:2,showAvatars:!0,elastic:!0,insertSpaceAfterMention:!0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:e.template('<div class="mentions-input-box"></div>'),autocompleteList:e.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:e.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:e.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:e.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:e.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:e.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:e.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(t){return e.escape(t)},highlightTerm:function(t,e){return e||e.length?t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):t},setCaratPosition:function(t,e){if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()},rtrim:function(t){return t.replace(/\s+$/,"")}},o=function(o){function s(){S=t(T),"true"!=S.attr("data-mentions-input")&&(E=S.parent(),$=t(o.templates.wrapper()),S.wrapAll($),$=E.find("> div"),S.attr("data-mentions-input","true"),S.bind("keydown",b),S.bind("keypress",y),S.bind("input",v),S.bind("click",m),S.bind("blur",g),o.elastic&&S.elastic())}function a(){M=t(o.templates.autocompleteList()),M.appendTo($),M.delegate("li","mousedown",f)}function l(){j=t(o.templates.mentionsOverlay()),j.prependTo($)}function u(){var t=p();e.each(L,function(e){var n=o.templates.mentionItemSyntax(e);t=t.replace(e.value,n)});var n=r.htmlEncode(t);e.each(L,function(t){var i=e.extend({},t,{value:r.htmlEncode(t.value)}),s=o.templates.mentionItemSyntax(i),a=o.templates.mentionItemHighlight(i);n=n.replace(s,a)}),n=n.replace(/\n/g,"<br />"),n=n.replace(/ {2}/g,"&nbsp; "),S.data("messageText",t),j.find("div").html(n)}function c(){N=[]}function h(){var t=p();L=e.reject(L,function(e){return!e.value||-1==t.indexOf(e.value)}),L=e.compact(L)}function d(t){var e=p(),n=new RegExp("\\"+o.triggerChar+F,"gi");if(match=n.exec(e)){var i=n.lastIndex-F.length-1,s=n.lastIndex,a=e.substr(0,i),l=e.substr(s,e.length),h=(a+t.value).length;o.insertSpaceAfterMention&&(h+=1),L.push(t),c(),F="",w();var d=a+t.value;o.insertSpaceAfterMention&&(d+=" "),d+=l,S.val(d),u(),S.focus(),r.setCaratPosition(S[0],h)}}function p(){return t.trim(S.val())}function f(){var e=t(this),n=A[e.attr("data-uid")];return d(n),!1}function m(){c()}function g(){w()}function v(){u(),h();var t=e.lastIndexOf(N,o.triggerChar);t>-1&&(F=N.slice(t+1).join(""),F=r.rtrim(F),e.defer(e.bind(x,this,F)))}function y(t){if(t.keyCode!==n.BACKSPACE){var e=String.fromCharCode(t.which||t.keyCode);N.push(e)}}function b(i){if(i.keyCode==n.LEFT||i.keyCode==n.RIGHT||i.keyCode==n.HOME||i.keyCode==n.END)return e.defer(c),void(navigator.userAgent.indexOf("MSIE 9")>-1&&e.defer(u));if(i.keyCode==n.BACKSPACE)return void(N=N.slice(0,-1+N.length));if(!M.is(":visible"))return!0;switch(i.keyCode){case n.UP:case n.DOWN:var r=null;return r=i.keyCode==n.DOWN?P&&P.length?P.next():M.find("li").first():t(P).prev(),r.length&&_(r),!1;case n.RETURN:case n.TAB:return P&&P.length?(P.trigger("mousedown"),!1):!0}return!0}function w(){P=null,M.empty().hide()}function _(t){t.addClass(o.classes.autoCompleteItemActive),t.siblings().removeClass(o.classes.autoCompleteItemActive),P=t}function k(n,i){M.show();var s=e.pluck(L,"value");if(i=e.reject(i,function(t){return e.include(s,t.name)}),!i.length)return void w();M.empty();var a=t("<ul>").appendTo(M).hide();e.each(i,function(i,s){var l=e.uniqueId("mention_");A[l]=e.extend({},i,{value:i.name});var u=t(o.templates.autocompleteListItem({id:r.htmlEncode(i.id),display:r.htmlEncode(i.name),type:r.htmlEncode(i.type),username:r.highlightTerm(r.htmlEncode(i.username),n),content:r.highlightTerm(r.htmlEncode(i.name),n)})).attr("data-uid",l);if(0===s&&_(u),o.showAvatars){var c;c=t(i.avatar?o.templates.autocompleteListItemAvatar({avatar:i.avatar,type:i.type}):o.templates.autocompleteListItemIcon({icon:i.icon})),c.prependTo(u.find("a"))}u=u.appendTo(a)}),M.show(),a.show()}function x(t){t&&t.length&&t.length>=o.minChars?o.onDataRequest.call(this,"search",t,function(e){k(t,e)}):w()}function C(){S.val(""),L=[],u()}var T,S,E,M,$,j,P,F,L=[],A={},N=[];return o=t.extend(!0,{},i,o),{init:function(t){T=t,s(),a(),l(),C(),o.prefillMention&&d(o.prefillMention)},val:function(t){if(e.isFunction(t)){var n=L.length?S.data("messageText"):p();t.call(this,n)}},reset:function(){C()},getMentions:function(t){e.isFunction(t)&&t.call(this,L)},setMentions:function(t,n){S.val(t),insertSpace=o.insertSpaceAfterMention,o.insertSpaceAfterMention=!1,e.each(n,function(t){t.value=t.name,F=t.value,d(t)}),o.insertSpaceAfterMention=insertSpace}}};t.fn.mentionsInput=function(n,i){var r=arguments;return"object"!=typeof n&&n||(i=n),this.each(function(){var s=t.data(this,"mentionsInput")||t.data(this,"mentionsInput",new o(i));return e.isFunction(s[n])?s[n].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist"):s.init.call(this,this)})}}(jQuery,_),/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2012 Tom Moor
 * @license MIT Licensed
 * @version 0.6.3
 */
function(){var t={},e=null,n=null,i=null,r=null,o={},s=window.devicePixelRatio||1,a=16*s,l={width:7,height:9,font:10*s+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},u=function(){var t=navigator.userAgent.toLowerCase();return function(e){return-1!==t.indexOf(e)}}(),c={ie:u("msie"),chrome:u("chrome"),webkit:u("chrome")||u("safari"),safari:u("safari")&&!u("chrome"),mozilla:u("mozilla")&&!u("chrome")&&!u("safari")},h=function(){for(var t=document.getElementsByTagName("link"),e=0,n=t.length;n>e;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/))return t[e];return!1},d=function(){for(var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("head")[0],n=0,i=t.length;i>n;n++){var r="undefined"!=typeof t[n];r&&(t[n].getAttribute("rel")||"").match(/\bicon\b/)&&e.removeChild(t[n])}},p=function(){if(!n||!e){var t=h();n=e=t?t.getAttribute("href"):"/favicon.ico"}return e},f=function(){return r||(r=document.createElement("canvas"),r.width=a,r.height=a),r},m=function(t){d();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},g=function(t,e){if(!f().getContext||c.ie||c.safari||"force"===o.fallback)return v(t);var n=f().getContext("2d"),e=e||"#000000",r=p();i=document.createElement("img"),i.onload=function(){n.clearRect(0,0,a,a),n.drawImage(i,0,0,i.width,i.height,0,0,a,a),(t+"").length>0&&y(n,t,e),b()},!r.match(/^data/)&&o.crossOrigin&&(i.crossOrigin="anonymous"),i.src=r},v=function(t){if(o.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=(t+"").length>0?"("+t+") "+e:e}},y=function(t,e){"number"==typeof e&&e>99&&o.abbreviate&&(e=w(e));var n=(e+"").length-1,i=o.width*s+6*s*n,r=o.height*s,l=a-r,u=a-i-s,h=16*s,d=16*s,p=2*s;t.font=(c.webkit?"bold ":"")+o.font,t.fillStyle=o.background,t.strokeStyle=o.background,t.lineWidth=s,t.beginPath(),t.moveTo(u+p,l),t.quadraticCurveTo(u,l,u,l+p),t.lineTo(u,h-p),t.quadraticCurveTo(u,h,u+p,h),t.lineTo(d-p,h),t.quadraticCurveTo(d,h,d,h-p),t.lineTo(d,l+p),t.quadraticCurveTo(d,l,d-p,l),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(u+p/2,h),t.lineTo(d-p/2,h),t.stroke(),t.fillStyle=o.colour,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===s?29:15,c.mozilla?7*s:6*s)},b=function(){f().getContext&&m(f().toDataURL())},w=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],n=0;n<e.length;++n)if(t>=e[n][1]){t=_(t/e[n][1])+e[n][0];break}return t},_=function(t,e){var n=new Number(t);return n.toFixed(e)};t.setOptions=function(t){o={};for(var e in l)o[e]=t.hasOwnProperty(e)?t[e]:l[e];return this},t.setImage=function(t){return e=t,b(),this},t.setBubble=function(t,e){return t=t||"",g(t,e),this},t.reset=function(){m(n)},t.setOptions(l),window.Tinycon=t,"function"==typeof define&&define.amd&&define(t)}(),/*!
 * Chart.js
 * http://chartjs.org/
 *
 * Copyright 2013 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
window.Chart=function(t){function e(t,e,n){var i=e.steps*e.stepValue,r=t-e.graphMin,o=u(r/i,1,0);return n*e.steps*o}function n(t,e,n,i){function r(){var r=t.animation?u(a(l),null,0):1;v(i),t.scaleOverlay?(n(r),e()):(e(),n(r))}function o(){l+=s,r(),1>=l?C(o):"function"==typeof t.onAnimationComplete&&t.onAnimationComplete()}var s=t.animation?1/u(t.animationSteps,Number.MAX_VALUE,1):1,a=f[t.animationEasing],l=t.animation?0:1;"function"!=typeof e&&(e=function(){}),C(o)}function i(t,e,n,i,o,s){function a(t){return Math.floor(Math.log(t)/Math.LN10)}var l,u,c,h,d,p,f;for(p=i-o,f=a(p),l=Math.floor(o/(1*Math.pow(10,f)))*Math.pow(10,f),u=Math.ceil(i/(1*Math.pow(10,f)))*Math.pow(10,f),c=u-l,h=Math.pow(10,f),d=Math.round(c/h);n>d||d>e;)n>d?(h/=2,d=Math.round(c/h)):(h*=2,d=Math.round(c/h));var m=[];return r(s,m,d,l,h),{steps:d,stepValue:h,graphMin:l,labels:m}}function r(t,e,n,i,r){if(t)for(var o=1;n+1>o;o++)e.push(d(t,{value:(i+r*o).toFixed(c(r))}))}function o(t){return Math.max.apply(Math,t)}function s(t){return Math.min.apply(Math,t)}function a(t,e){return t?t:e}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t,e,n){return l(e)&&t>e?e:l(n)&&n>t?n:t}function c(t){return t%1!=0?t.toString().split(".")[1].length:0}function h(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function d(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):T[t]=T[t]||d(document.getElementById(t).innerHTML);return e?n(e):n}var p=this,f={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1==t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(1==(t/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(1==(t/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return i*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/n)+1},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(2==(t/=.5))return 1;if(n||(n=.3*1.5),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return 1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)*.5+1},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-f.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*f.easeInBounce(2*t):.5*f.easeOutBounce(2*t-1)+.5}},m=t.canvas.width,g=t.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=m+"px",t.canvas.style.height=g+"px",t.canvas.height=g*window.devicePixelRatio,t.canvas.width=m*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(e,n){p.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.PolarArea.defaults,n):p.PolarArea.defaults;return new y(e,i,t)},this.Radar=function(e,n){p.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Radar.defaults,n):p.Radar.defaults;return new b(e,i,t)},this.Pie=function(e,n){p.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.Pie.defaults,n):p.Pie.defaults;return new w(e,i,t)},this.Doughnut=function(e,n){p.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.Doughnut.defaults,n):p.Doughnut.defaults;return new _(e,i,t)},this.Line=function(e,n){p.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Line.defaults,n):p.Line.defaults;return new k(e,i,t)},this.Bar=function(e,n){p.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Bar.defaults,n):p.Bar.defaults;return new x(e,i,t)};var v=function(t){t.clearRect(0,0,m,g)},y=function(t,l,u){function c(){f=s([m,g])/2,f-=o([.5*l.scaleFontSize,.5*l.scaleLineWidth]),b=2*l.scaleFontSize,l.scaleShowLabelBackdrop&&(b+=2*l.scaleBackdropPaddingY,f-=1.5*l.scaleBackdropPaddingY),w=f,b=a(b,5)}function h(){for(var t=0;t<y.steps;t++)if(l.scaleShowLine&&(u.beginPath(),u.arc(m/2,g/2,v*(t+1),0,2*Math.PI,!0),u.strokeStyle=l.scaleLineColor,u.lineWidth=l.scaleLineWidth,u.stroke()),l.scaleShowLabels){u.textAlign="center",u.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily;var e=y.labels[t];if(l.scaleShowLabelBackdrop){var n=u.measureText(e).width;u.fillStyle=l.scaleBackdropColor,u.beginPath(),u.rect(Math.round(m/2-n/2-l.scaleBackdropPaddingX),Math.round(g/2-v*(t+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(n+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),u.fill()}u.textBaseline="middle",u.fillStyle=l.scaleFontColor,u.fillText(e,m/2,g/2-v*(t+1))}}function d(n){var i=-Math.PI/2,r=2*Math.PI/t.length,o=1,s=1;l.animation&&(l.animateScale&&(o=n),l.animateRotate&&(s=n));for(var a=0;a<t.length;a++)u.beginPath(),u.arc(m/2,g/2,o*e(t[a].value,y,v),i,i+s*r,!1),u.lineTo(m/2,g/2),u.closePath(),u.fillStyle=t[a].color,u.fill(),l.segmentShowStroke&&(u.strokeStyle=l.segmentStrokeColor,u.lineWidth=l.segmentStrokeWidth,u.stroke()),i+=s*r}function p(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.length;i++)t[i].value>e&&(e=t[i].value),t[i].value<n&&(n=t[i].value);var r=Math.floor(w/(.66*b)),o=Math.floor(w/b*.5);return{maxValue:e,minValue:n,maxSteps:r,minSteps:o}}var f,v,y,b,w,_,k;c(),_=p(),k=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(y={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(k,y.labels,y.steps,l.scaleStartValue,l.scaleStepWidth)):y=i(w,_.maxSteps,_.minSteps,_.maxValue,_.minValue,k),v=f/y.steps,n(l,h,d,u)},b=function(t,l,c){function h(n){var i=2*Math.PI/t.datasets[0].data.length;c.save(),c.translate(m/2,g/2);for(var r=0;r<t.datasets.length;r++){c.beginPath(),c.moveTo(0,-1*n*e(t.datasets[r].data[0],b,y));for(var o=1;o<t.datasets[r].data.length;o++)c.rotate(i),c.lineTo(0,-1*n*e(t.datasets[r].data[o],b,y));if(c.closePath(),c.fillStyle=t.datasets[r].fillColor,c.strokeStyle=t.datasets[r].strokeColor,c.lineWidth=l.datasetStrokeWidth,c.fill(),c.stroke(),l.pointDot){c.fillStyle=t.datasets[r].pointColor,c.strokeStyle=t.datasets[r].pointStrokeColor,c.lineWidth=l.pointDotStrokeWidth;for(var s=0;s<t.datasets[r].data.length;s++)c.rotate(i),c.beginPath(),c.arc(0,-1*n*e(t.datasets[r].data[s],b,y),l.pointDotRadius,2*Math.PI,!1),c.fill(),c.stroke()}c.rotate(i)}c.restore()}function d(){var e=2*Math.PI/t.datasets[0].data.length;if(c.save(),c.translate(m/2,g/2),l.angleShowLineOut){c.strokeStyle=l.angleLineColor,c.lineWidth=l.angleLineWidth;for(var n=0;n<t.datasets[0].data.length;n++)c.rotate(e),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-v),c.stroke()}for(var i=0;i<b.steps;i++){if(c.beginPath(),l.scaleShowLine){c.strokeStyle=l.scaleLineColor,c.lineWidth=l.scaleLineWidth,c.moveTo(0,-y*(i+1));for(var r=0;r<t.datasets[0].data.length;r++)c.rotate(e),c.lineTo(0,-y*(i+1));c.closePath(),c.stroke()}if(l.scaleShowLabels){if(c.textAlign="center",c.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily,c.textBaseline="middle",l.scaleShowLabelBackdrop){var o=c.measureText(b.labels[i]).width;c.fillStyle=l.scaleBackdropColor,c.beginPath(),c.rect(Math.round(-o/2-l.scaleBackdropPaddingX),Math.round(-y*(i+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(o+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),c.fill()}c.fillStyle=l.scaleFontColor,c.fillText(b.labels[i],0,-y*(i+1))}}for(var s=0;s<t.labels.length;s++){c.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily,c.fillStyle=l.pointLabelFontColor;var a=Math.sin(e*s)*(v+l.pointLabelFontSize),u=Math.cos(e*s)*(v+l.pointLabelFontSize);c.textAlign=e*s==Math.PI||e*s==0?"center":e*s>Math.PI?"right":"left",c.textBaseline="middle",c.fillText(t.labels[s],a,-u)}c.restore()}function p(){v=s([m,g])/2,w=2*l.scaleFontSize;for(var e=0,n=0;n<t.labels.length;n++){c.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily;var i=c.measureText(t.labels[n]).width;i>e&&(e=i)}v-=o([e,l.pointLabelFontSize/2*1.5]),v-=l.pointLabelFontSize,v=u(v,null,0),_=v,w=a(w,5)}function f(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(_/(.66*w)),s=Math.floor(_/w*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var v,y,b,w,_,k,x;t.labels||(t.labels=[]),p();var k=f();x=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(b={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(x,b.labels,b.steps,l.scaleStartValue,l.scaleStepWidth)):b=i(_,k.maxSteps,k.minSteps,k.maxValue,k.minValue,x),y=v/b.steps,n(l,d,h,c)},w=function(t,e,i){function r(n){var r=-Math.PI/2,s=1,l=1;e.animation&&(e.animateScale&&(s=n),e.animateRotate&&(l=n));for(var u=0;u<t.length;u++){var c=l*(t[u].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+c),i.lineTo(m/2,g/2),i.closePath(),i.fillStyle=t[u].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),r+=c}}for(var o=0,a=s([g/2,m/2])-5,l=0;l<t.length;l++)o+=t[l].value;n(e,null,r,i)},_=function(t,e,i){function r(n){var r=-Math.PI/2,s=1,u=1;e.animation&&(e.animateScale&&(s=n),e.animateRotate&&(u=n));for(var c=0;c<t.length;c++){var h=u*(t[c].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+h,!1),i.arc(m/2,g/2,s*l,r+h,r,!0),i.closePath(),i.fillStyle=t[c].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),r+=h}}for(var o=0,a=s([g/2,m/2])-5,l=a*(e.percentageInnerCutout/100),u=0;u<t.length;u++)o+=t[u].value;n(e,null,r,i)},k=function(t,o,s){function a(n){function i(i,r){return T-n*e(t.datasets[i].data[r],f,p)}function r(t){return C+_*t}for(var a=0;a<t.datasets.length;a++){s.strokeStyle=t.datasets[a].strokeColor,s.lineWidth=o.datasetStrokeWidth,s.beginPath(),s.moveTo(C,T-n*e(t.datasets[a].data[0],f,p));for(var l=1;l<t.datasets[a].data.length;l++)o.bezierCurve?s.bezierCurveTo(r(l-.5),i(a,l-1),r(l-.5),i(a,l),r(l),i(a,l)):s.lineTo(r(l),i(a,l));if(s.stroke(),o.datasetFill?(s.lineTo(C+_*(t.datasets[a].data.length-1),T),s.lineTo(C,T),s.closePath(),s.fillStyle=t.datasets[a].fillColor,s.fill()):s.closePath(),o.pointDot){s.fillStyle=t.datasets[a].pointColor,s.strokeStyle=t.datasets[a].pointStrokeColor,s.lineWidth=o.pointDotStrokeWidth;for(var u=0;u<t.datasets[a].data.length;u++)s.beginPath(),s.arc(C+_*u,T-n*e(t.datasets[a].data[u],f,p),o.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-k/2+5,T),s.lineTo(m-k/2-x-5,T),s.stroke(),S>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var e=0;e<t.labels.length;e++)s.save(),S>0?(s.translate(C+e*_,T+o.scaleFontSize),s.rotate(-(S*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],C+e*_,T+o.scaleFontSize+3),s.beginPath(),s.moveTo(C+e*_,T+3),o.scaleShowGridLines&&e>0?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(C+e*_,5)):s.lineTo(C+e*_,T+3),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(C,T+5),s.lineTo(C,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(C-3,T-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(C+x+5,T-(n+1)*p)):s.lineTo(C-.5,T-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],C-8,T-(n+1)*p)}function u(){var e=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;e=i>e?i:e}e+=10}x=m-e-k,_=Math.floor(x/(t.labels.length-1)),C=m-k/2-x,T=y+o.scaleFontSize/2}function c(){d=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,k=1;for(var e=0;e<t.labels.length;e++){var n=s.measureText(t.labels[e]).width;k=n>k?n:k}m/t.labels.length<k?(S=45,m/t.labels.length<Math.cos(S)*k?(S=90,d-=k):d-=Math.sin(S)*k):d-=o.scaleFontSize,d-=5,v=o.scaleFontSize,d-=v,y=d}function h(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var d,p,f,v,y,b,w,_,k,x,C,T,S=0;c(),b=h(),w=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(w,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,w),p=Math.floor(y/f.steps),u(),n(o,l,a,s)},x=function(t,o,s){function a(n){s.lineWidth=o.barStrokeWidth;for(var i=0;i<t.datasets.length;i++){s.fillStyle=t.datasets[i].fillColor,s.strokeStyle=t.datasets[i].strokeColor;for(var r=0;r<t.datasets[i].data.length;r++){var a=C+o.barValueSpacing+_*r+S*i+o.barDatasetSpacing*i+o.barStrokeWidth*i;s.beginPath(),s.moveTo(a,T),s.lineTo(a,T-n*e(t.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+S,T-n*e(t.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+S,T),o.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-k/2+5,T),s.lineTo(m-k/2-x-5,T),s.stroke(),E>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var e=0;e<t.labels.length;e++)s.save(),E>0?(s.translate(C+e*_,T+o.scaleFontSize),s.rotate(-(E*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],C+e*_+_/2,T+o.scaleFontSize+3),s.beginPath(),s.moveTo(C+(e+1)*_,T+3),s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(C+(e+1)*_,5),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(C,T+5),s.lineTo(C,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(C-3,T-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(C+x+5,T-(n+1)*p)):s.lineTo(C-.5,T-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],C-8,T-(n+1)*p)}function u(){var e=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;e=i>e?i:e}e+=10}x=m-e-k,_=Math.floor(x/t.labels.length),S=(_-2*o.scaleGridLineWidth-2*o.barValueSpacing-(o.barDatasetSpacing*t.datasets.length-1)-(o.barStrokeWidth/2*t.datasets.length-1))/t.datasets.length,C=m-k/2-x,T=y+o.scaleFontSize/2}function c(){d=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,k=1;for(var e=0;e<t.labels.length;e++){var n=s.measureText(t.labels[e]).width;k=n>k?n:k}m/t.labels.length<k?(E=45,m/t.labels.length<Math.cos(E)*k?(E=90,d-=k):d-=Math.sin(E)*k):d-=o.scaleFontSize,d-=5,v=o.scaleFontSize,d-=v,y=d}function h(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var d,p,f,v,y,b,w,_,k,x,C,T,S,E=0;c(),b=h(),w=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(w,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,w),p=Math.floor(y/f.steps),u(),n(o,l,a,s)},C=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),T={}},/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2013 Braintree Payment Solutions
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */
function(){// Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
// copyright notice and this permission notice appear in all copies.
function t(e,n){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}function e(t,e,n,i,r){this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=r}function n(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=ie.charAt(n>>6)+ie.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=ie.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=ie.charAt(n>>2)+ie.charAt((3&n)<<4));(3&i.length)>0;)i+=re;return i}function i(t){var e,n,i="",r=0;for(e=0;e<t.length&&t.charAt(e)!=re;++e)v=ie.indexOf(t.charAt(e)),0>v||(0==r?(i+=c(v>>2),n=3&v,r=1):1==r?(i+=c(n<<2|v>>4),n=15&v,r=2):2==r?(i+=c(n),i+=c(v>>2),n=3&v,r=3):(i+=c(n<<2|v>>4),i+=c(15&v),r=0));return 1==r&&(i+=c(n<<2)),i}function r(t){var e,n=i(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function o(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null)}function a(t,e,n,i,r,o){for(;--o>=0;){var s=e*this[t++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function l(t,e,n,i,r,o){for(var s=32767&e,a=e>>15;--o>=0;){var l=32767&this[t],u=this[t++]>>15,c=a*l+u*s;l=s*l+((32767&c)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(c>>>15)+a*u+(r>>>30),n[i++]=1073741823&l}return r}function u(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;--o>=0;){var l=16383&this[t],u=this[t++]>>14,c=a*l+u*s;l=s*l+((16383&c)<<14)+n[i]+r,r=(l>>28)+(c>>14)+a*u,n[i++]=268435455&l}return r}function c(t){return ce.charAt(t)}function h(t,e){var n=he[t.charCodeAt(e)];return null==n?-1:n}function d(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function p(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var e=s();return e.fromInt(t),e}function m(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,s=0;--i>=0;){var a=8==n?255&t[i]:h(t,i);0>a?"-"==t.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&o.ZERO.subTo(this,this)}function g(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function y(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=c(n));s>=0;)e>a?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&i,0>=a&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=c(n));return r?o:"0"}function b(){var t=s();return o.ZERO.subTo(this,t),t}function w(){return this.s<0?this.negate():this}function _(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function k(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function x(){return this.t<=0?0:this.DB*(this.t-1)+k(this[this.t-1]^this.s&this.DM)}function C(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function T(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function S(t,e){var n,i=t%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function E(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}function M(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);r>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function $(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)}function j(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function P(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),l=this.s,u=t.s,c=this.DB-k(i[i.t-1]);c>0?(i.lShiftTo(c,a),r.lShiftTo(c,n)):(i.copyTo(a),r.copyTo(n));var h=a.t,d=a[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-h,b=null==e?s():e;for(a.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),o.ONE.dlShiftTo(h,b),b.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--y>=0;){var w=n[--v]==d?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=a.am(0,w,n,y,0,h))<w)for(a.dlShiftTo(y,b),n.subTo(b,n);n[v]<--w;)n.subTo(b,n)}null!=e&&(n.drShiftTo(h,e),l!=u&&o.ZERO.subTo(e,e)),n.t=h,n.clamp(),c>0&&n.rShiftTo(c,n),0>l&&o.ZERO.subTo(n,n)}}}function F(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e}function L(t){this.m=t}function A(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function N(t){return t}function D(t){t.divRemTo(this.m,null,t)}function I(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function O(t,e){t.squareTo(e),this.reduce(e)}function z(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function H(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function W(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e}function B(t){var e=s();return t.copyTo(e),this.reduce(e),e}function R(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function q(t,e){t.squareTo(e),this.reduce(e)}function V(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function G(t,e){if(t>4294967295||1>t)return o.ONE;var n=s(),i=s(),r=e.convert(this),a=k(t)-1;for(r.copyTo(n);--a>=0;)if(e.sqrTo(n,i),(t&1<<a)>0)e.mulTo(i,r,n);else{var l=n;n=i,i=l}return e.revert(n)}function K(t,e){var n;return n=256>t||e.isEven()?new L(e):new H(e),this.exp(t,n)}function Q(t,e){return new o(t,e)}function X(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);128>r?n[--e]=r:r>127&&2048>r?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var s=0,a=0,l=0;e>2;)0==l&&(a=de.random.randomWords(1,0)[0]),s=a>>l&255,l=(l+8)%32,0!=s&&(n[--e]=s);return n[--e]=2,n[--e]=0,new o(n)}function Y(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Z(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Q(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function J(t){return t.modPowInt(this.e,this.n)}function te(t){var e=X(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function ee(t){var e=this.encrypt(t);return e?n(e):null}t.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e){for(var n="",i=t;e>i;++i)switch(n+=this.hexByte(this.get(i)),15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.parseStringISO=function(t,e){for(var n="",i=t;e>i;++i)n+=String.fromCharCode(this.get(i));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",i=0,r=t;e>r;){var i=this.get(r++);n+=String.fromCharCode(128>i?i:i>191&&224>i?(31&i)<<6|63&this.get(r++):(15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(t,e){var n=this.parseStringISO(t,e),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){var n=e-t;if(n>4){n<<=3;var i=this.get(t);if(0==i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,o=t;e>o;++o)r=r<<8|this.get(o);return r},t.prototype.parseBitString=function(t,e){var n=this.get(t),i=(e-t-1<<3)-n,r="("+i+" bit)";if(20>=i){var o=n;r+=" ";for(var s=e-1;s>t;--s){for(var a=this.get(s),l=o;8>l;++l)r+=a>>l&1?"1":"0";o=0}}return r},t.prototype.parseOctetString=function(t,e){var n=e-t,i="("+n+" byte) ";n>20&&(e=t+20);for(var r=t;e>r;++r)i+=this.hexByte(this.get(r));return n>20&&(i+=String.fromCharCode(8230)),i},t.prototype.parseOID=function(t,e){for(var n,i=0,r=0,o=t;e>o;++o){var s=this.get(o);i=i<<7|127&s,r+=7,128&s||(void 0==n?n=parseInt(i/40)+"."+i%40:n+="."+(r>=31?"bigint":i),i=r=0),n+=String.fromCharCode()}return n},e.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6,e=(this.tag>>5&1,31&this.tag);switch(t){case 0:switch(e){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+e.toString(16)}case 1:return"Application_"+e.toString(16);case 2:return"["+e+"]";case 3:return"Private_"+e.toString(16)}},e.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null==this.sub?null:"("+this.sub.length+")";var e=31&this.tag,n=this.posContent(),i=Math.abs(this.length);switch(e){case 1:return 0==this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+i);case 6:return this.stream.parseOID(n,n+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+i);case 23:case 24:return this.stream.parseTime(n,n+i)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},e.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var e=0,n=this.sub.length;n>e;++e)this.sub[e].print(t)}},e.prototype.toPrettyString=function(t){void 0==t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,32&this.tag?e+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(e+=" (encapsulates)"),e+="\n",null!=this.sub){t+="  ";for(var n=0,i=this.sub.length;i>n;++n)e+=this.sub[n].toPrettyString(t)}return e},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==n)return-1;e=0;for(var i=0;n>i;++i)e=e<<8|t.get();return e},e.hasContent=function(n,i,r){if(32&n)return!0;if(3>n||n>4)return!1;var o=new t(r);3==n&&o.get();var s=o.get();if(s>>6&1)return!1;try{var a=e.decodeLength(o);return o.pos-r.pos+a==i}catch(l){return!1}},e.decode=function(n){n instanceof t||(n=new t(n,0));var i=new t(n),r=n.get(),o=e.decodeLength(n),s=n.pos-i.pos,a=null;if(e.hasContent(r,o,n)){var l=n.pos;if(3==r&&n.get(),a=[],o>=0){for(var u=l+o;n.pos<u;)a[a.length]=e.decode(n);if(n.pos!=u)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var c=e.decode(n);if(0==c.tag)break;a[a.length]=c}o=l-n.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else n.pos+=o;return new e(i,s,o,r,a)};var ne,ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re="=",oe=0xdeadbeefcafe,se=15715070==(16777215&oe);se&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=l,ne=30):se&&"Netscape"!=navigator.appName?(o.prototype.am=a,ne=26):(o.prototype.am=u,ne=28),o.prototype.DB=ne,o.prototype.DM=(1<<ne)-1,o.prototype.DV=1<<ne;var ae=52;o.prototype.FV=Math.pow(2,ae),o.prototype.F1=ae-ne,o.prototype.F2=2*ne-ae;var le,ue,ce="0123456789abcdefghijklmnopqrstuvwxyz",he=new Array;for(le="0".charCodeAt(0),ue=0;9>=ue;++ue)he[le++]=ue;for(le="a".charCodeAt(0),ue=10;36>ue;++ue)he[le++]=ue;for(le="A".charCodeAt(0),ue=10;36>ue;++ue)he[le++]=ue;L.prototype.convert=A,L.prototype.revert=N,L.prototype.reduce=D,L.prototype.mulTo=I,L.prototype.sqrTo=O,H.prototype.convert=W,H.prototype.revert=B,H.prototype.reduce=R,H.prototype.mulTo=V,H.prototype.sqrTo=q,o.prototype.copyTo=d,o.prototype.fromInt=p,o.prototype.fromString=m,o.prototype.clamp=g,o.prototype.dlShiftTo=C,o.prototype.drShiftTo=T,o.prototype.lShiftTo=S,o.prototype.rShiftTo=E,o.prototype.subTo=M,o.prototype.multiplyTo=$,o.prototype.squareTo=j,o.prototype.divRemTo=P,o.prototype.invDigit=z,o.prototype.isEven=U,o.prototype.exp=G,o.prototype.toString=y,o.prototype.negate=b,o.prototype.abs=w,o.prototype.compareTo=_,o.prototype.bitLength=x,o.prototype.mod=F,o.prototype.modPowInt=K,o.ZERO=f(0),o.ONE=f(1),Y.prototype.doPublic=J,Y.prototype.setPublic=Z,Y.prototype.encrypt=te,Y.prototype.encrypt_b64=ee;var de={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!=typeof module&&module.exports&&(module.exports=de),de.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var e,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=t.length,u=1;if(4!==l&&6!==l&&8!==l)throw new de.exception.invalid("invalid aes key size");for(this._key=[r=t.slice(0),o=[]],e=l;4*l+28>e;e++)i=r[e-1],(e%l===0||8===l&&e%l===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%l===0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[e]=r[e-l]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],o[n]=4>=e||4>n?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]},de.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,n,i,r,o,s,a,l,u=this._tables[0],c=this._tables[1],h=u[4],d=c[4],p=[],f=[];for(t=0;256>t;t++)f[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!h[e];e^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,h[e]=s,d[s]=e,o=p[r=p[i=p[e]]],l=16843009*o^65537*r^257*i^16843008*e,a=257*p[s]^16843008*s,t=0;4>t;t++)u[t][e]=a=a<<24^a>>>8,c[t][s]=l=l<<24^l>>>8;for(t=0;5>t;t++)u[t]=u[t].slice(0),c[t]=c[t].slice(0)},_crypt:function(t,e){if(4!==t.length)throw new de.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[e],a=t[0]^s[0],l=t[e?3:1]^s[1],u=t[2]^s[2],c=t[e?1:3]^s[3],h=s.length/4-2,d=4,p=[0,0,0,0],f=this._tables[e],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(o=0;h>o;o++)n=m[a>>>24]^g[l>>16&255]^v[u>>8&255]^y[255&c]^s[d],i=m[l>>>24]^g[u>>16&255]^v[c>>8&255]^y[255&a]^s[d+1],r=m[u>>>24]^g[c>>16&255]^v[a>>8&255]^y[255&l]^s[d+2],c=m[c>>>24]^g[a>>16&255]^v[l>>8&255]^y[255&u]^s[d+3],d+=4,a=n,l=i,u=r;for(o=0;4>o;o++)p[e?3&-o:o]=b[a>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^s[d++],n=a,a=l,l=u,u=c,c=n;return p}},de.bitArray={bitSlice:function(t,e,n){return t=de.bitArray._shiftRight(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:de.bitArray.clamp(t,n-e)},extract:function(t,e,n){var i,r=Math.floor(-e-n&31);return i=-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r,i&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],i=de.bitArray.getPartial(n);return 32===i?t.concat(e):de.bitArray._shiftRight(e,i,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e,n=t.length;return 0===n?0:(e=t[n-1],32*(n-1)+de.bitArray.getPartial(e))},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var n=t.length;return e=31&e,n>0&&e&&(t[n-1]=de.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(de.bitArray.bitLength(t)!==de.bitArray.bitLength(e))return!1;var n,i=0;for(n=0;n<t.length;n++)i|=t[n]^e[n];return 0===i},_shiftRight:function(t,e,n,i){var r,o,s=0;for(void 0===i&&(i=[]);e>=32;e-=32)i.push(n),n=0;if(0===e)return i.concat(t);for(r=0;r<t.length;r++)i.push(n|t[r]>>>e),n=t[r]<<32-e;return s=t.length?t[t.length-1]:0,o=de.bitArray.getPartial(s),i.push(de.bitArray.partial(e+o&31,e+o>32?n:i.pop(),1)),i},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},de.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=((0|t[e])+0xf00000000000).toString(16).substr(4);return n.substr(0,de.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,i=[];for(t=t.replace(/\s|0x/g,""),n=t.length,t+="00000000",e=0;e<t.length;e+=8)i.push(0^parseInt(t.substr(e,8),16));return de.bitArray.clamp(i,4*n)}},de.codec.utf8String={fromBits:function(t){var e,n,i="",r=de.bitArray.bitLength(t);for(e=0;r/8>e;e++)0===(3&e)&&(n=t[e/4]),i+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(i))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],i=0;for(e=0;e<t.length;e++)i=i<<8|t.charCodeAt(e),3===(3&e)&&(n.push(i),i=0);return 3&e&&n.push(de.bitArray.partial(8*(3&e),i)),n}},de.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){var i,r="",o=0,s=de.codec.base64._chars,a=0,l=de.bitArray.bitLength(t);for(n&&(s=s.substr(0,62)+"-_"),i=0;6*r.length<l;)r+=s.charAt((a^t[i]>>>o)>>>26),6>o?(a=t[i]<<6-o,o+=26,i++):(a<<=6,o-=6);for(;3&r.length&&!e;)r+="=";return r},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,i,r=[],o=0,s=de.codec.base64._chars,a=0;for(e&&(s=s.substr(0,62)+"-_"),n=0;n<t.length;n++){if(i=s.indexOf(t.charAt(n)),0>i)throw new de.exception.invalid("this isn't base64!");o>26?(o-=26,r.push(a^i>>>o),a=i<<32-o):(o+=6,a^=i<<32-o)}return 56&o&&r.push(de.bitArray.partial(56&o,a,1)),r}},de.codec.base64url={fromBits:function(t){return de.codec.base64.fromBits(t,1,1)},toBits:function(t){return de.codec.base64.toBits(t,1)}},void 0===de.beware&&(de.beware={}),de.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){de.mode.cbc={name:"cbc",encrypt:function(t,e,n,i){if(i&&i.length)throw new de.exception.invalid("cbc can't authenticate data");if(128!==de.bitArray.bitLength(n))throw new de.exception.invalid("cbc iv must be 128 bits");var r,o=de.bitArray,s=o._xor4,a=o.bitLength(e),l=0,u=[];if(7&a)throw new de.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;a>=l+128;r+=4,l+=128)n=t.encrypt(s(n,e.slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]);return a=16843009*(16-(a>>3&15)),n=t.encrypt(s(n,o.concat(e,[a,a,a,a]).slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]),u},decrypt:function(t,e,n,i){if(i&&i.length)throw new de.exception.invalid("cbc can't authenticate data");if(128!==de.bitArray.bitLength(n))throw new de.exception.invalid("cbc iv must be 128 bits");if(127&de.bitArray.bitLength(e)||!e.length)throw new de.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,o,s,a=de.bitArray,l=a._xor4,u=[];for(i=i||[],r=0;r<e.length;r+=4)o=e.slice(r,r+4),s=l(n,t.decrypt(o)),u.splice(r,0,s[0],s[1],s[2],s[3]),n=o;if(o=255&u[r-1],0==o||o>16)throw new de.exception.corrupt("pkcs#5 padding corrupt");if(s=16843009*o,!a.equal(a.bitSlice([s,s,s,s],0,8*o),a.bitSlice(u,32*u.length-8*o,32*u.length)))throw new de.exception.corrupt("pkcs#5 padding corrupt");return a.bitSlice(u,0,32*u.length-8*o)}}},de.misc.hmac=function(t,e){this._hash=e=e||de.hash.sha256;var n,i=[[],[]],r=e.prototype.blockSize/32;for(this._baseHash=[new e,new e],t.length>r&&(t=e.hash(t)),n=0;r>n;n++)i[0][n]=909522486^t[n],i[1][n]=1549556828^t[n];this._baseHash[0].update(i[0]),this._baseHash[1].update(i[1])},de.misc.hmac.prototype.encrypt=de.misc.hmac.prototype.mac=function(t,e){var n=new this._hash(this._baseHash[0]).update(t,e).finalize();return new this._hash(this._baseHash[1]).update(n).finalize()},de.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},de.hash.sha256.hash=function(t){return(new de.hash.sha256).update(t).finalize()},de.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=de.codec.utf8String.toBits(t));var e,n=this._buffer=de.bitArray.concat(this._buffer,t),i=this._length,r=this._length=i+de.bitArray.bitLength(t);for(e=512+i&-512;r>=e;e+=512)this._block(n.splice(0,16));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=de.bitArray.concat(e,[de.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,n=0,i=2;t:for(;64>n;i++){for(e=2;i>=e*e;e++)if(i%e===0)continue t;8>n&&(this._init[n]=t(Math.pow(i,.5))),this._key[n]=t(Math.pow(i,1/3)),n++}},_block:function(t){var e,n,i,r,o=t.slice(0),s=this._h,a=this._key,l=s[0],u=s[1],c=s[2],h=s[3],d=s[4],p=s[5],f=s[6],m=s[7];for(e=0;64>e;e++)16>e?n=o[e]:(i=o[e+1&15],r=o[e+14&15],n=o[15&e]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&e]+o[e+9&15]|0),n=n+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[e],m=f,f=p,p=d,d=h+n|0,h=c,c=u,u=l,l=n+(u&c^h&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;s[0]=s[0]+l|0,s[1]=s[1]+u|0,s[2]=s[2]+c|0,s[3]=s[3]+h|0,s[4]=s[4]+d|0,s[5]=s[5]+p|0,s[6]=s[6]+f|0,s[7]=s[7]+m|0}},de.random={randomWords:function(t,e){var n,i,r=[],o=this.isReady(e);if(o===this._NOT_READY)throw new de.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;t>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,t)},setDefaultParanoia:function(t){this._defaultParanoia=t},addEntropy:function(t,e,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),u=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof t){case"number":void 0===e&&(e=1),this._pools[a].update([i,this._eventId++,1,e,s,1,0|t]);break;case"object":var c=Object.prototype.toString.call(t);if("[object Uint32Array]"===c){for(o=[],r=0;r<t.length;r++)o.push(t[r]);t=o}else for("[object Array]"!==c&&(u=1),r=0;r<t.length&&!u;r++)"number"!=typeof t[r]&&(u=1);if(!u){if(void 0===e)for(e=0,r=0;r<t.length;r++)for(o=t[r];o>0;)e++,o>>>=1;this._pools[a].update([i,this._eventId++,2,e,s,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this._pools[a].update([i,this._eventId++,3,e,s,t.length]),this._pools[a].update(t);break;default:u=1}if(u)throw new de.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=e,this._poolStrength+=e,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t?t:this._defaultParanoia];return this._strength>=e?1:this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new de.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var n,i,r=this._callbacks[t],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===e&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new de.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new de.cipher.aes(this._key)},_reseed:function(t){this._key=de.hash.sha256.hash(this._key.concat(t)),this._cipher=new de.cipher.aes(this._key);for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);},_reseedFromPools:function(t){var e,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,e=0;16>e;e++)n.push(4294967296*Math.random()|0);for(e=0;e<this._pools.length&&(n=n.concat(this._pools[e].finalize()),i+=this._poolEntropy[e],this._poolEntropy[e]=0,t||!(this._reseedCount&1<<e));e++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new de.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(t){var e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0;de.random.addEntropy([e,n],2,"mouse")},_loadTimeCollector:function(){de.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(t,e){var n,i=de.random._callbacks[t],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](e)}},function(){try{var t=new Uint32Array(32);crypto.getRandomValues(t),de.random.addEntropy(t,1024,"crypto.getRandomValues")}catch(e){}}();for(var pe in de.beware)de.beware.hasOwnProperty(pe)&&de.beware[pe]();var fe={sjcl:de,version:"1.3.0"};fe.generateAesKey=function(){return{key:de.random.randomWords(8,0),encrypt:function(t){return this.encryptWithIv(t,de.random.randomWords(4,0))},encryptWithIv:function(t,e){var n=new de.cipher.aes(this.key),i=de.codec.utf8String.toBits(t),r=de.mode.cbc.encrypt(n,i,e),o=de.bitArray.concat(e,r);return de.codec.base64.fromBits(o)}}},fe.create=function(t){var n=function(t){var e=[];if("INTEGER"==t.typeName()){var i=t.posContent(),r=t.posEnd(),o=t.stream.hexDump(i,r).replace(/[ \n]/g,"");e.push(o)}if(null!=t.sub)for(var s=0;s<t.sub.length;s++)e=e.concat(n(t.sub[s]));return e},i=function(){try{var i=r(t),o=e.decode(i)}catch(s){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}var a=n(o);if(2!=a.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";var l=a[0],u=a[1],c=new Y;return c.setPublic(l,u),c},o=function(){return{key:de.random.randomWords(8,0),sign:function(t){var e=new de.misc.hmac(this.key,de.hash.sha256),n=e.encrypt(t);return de.codec.base64.fromBits(n)}}},s=function(t){var e=i(),n=fe.generateAesKey(),r=o(),s=n.encrypt(t),a=r.sign(de.codec.base64.toBits(s)),l=de.bitArray.concat(n.key,r.key),u=de.codec.base64.fromBits(l),c=e.encrypt_b64(u),h="$bt4|javascript_"+p.version.replace(/\./g,"_")+"$";return h+c+"$"+s+"$"+a},a=function(t){var e,n;return n=[],e=function(t){for(var i,r=0;r<t.children.length;r++)i=t.children[r],i.attributes["data-encrypted-name"]?n.push(i):e(i)},e(t),n},l=function(t,e){var n,i,r;n=document.createElement(t);for(i in e)r=e[i],n.setAttribute(i,r);return n},u=function(t){return window.jQuery&&t instanceof jQuery?t[0]:t.nodeType&&1===t.nodeType?t:document.getElementById(t)},c=function(t){var e,n,i,r,o,s;for(t=u(t),s=a(t),o=0;o<s.length;o++)e=s[o],i=e.getAttribute("data-encrypted-name"),n=p.encrypt(e.value),e.removeAttribute("name"),r=l("input",{value:n,type:"hidden",name:i}),t.appendChild(r)},h=function(t,e){var n;t=u(t),n=function(n){return p.encryptForm(t),null==e?n:e(n)},window.jQuery?window.jQuery(t).submit(n):t.addEventListener?t.addEventListener("submit",n,!1):t.attachEvent&&t.attachEvent("onsubmit",n)},d={encryptForm:c,extractForm:u,onSubmitEncryptForm:h},p=new function(){this.encrypt=s,this.version=fe.version,this.publicKey=t,this.encryptForm=c,this.formEncrypter=d,this.onSubmitEncryptForm=h};return de.random.startCollectors(),p},window.Braintree=fe,"function"==typeof define&&define("braintree",function(){return fe})}(),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i||{};for(var r in is)i.hasOwnProperty(r)||(i[r]=is[r]);p(i);var o=i.value;"string"==typeof o&&(o=new Es(o,i.mode)),this.doc=o;var s=this.display=new e(n,o);s.wrapper.CodeMirror=this,c(this),l(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!No&&dn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Hr},bo&&setTimeout(Kr(hn,this,!0),20),mn(this);var a=this;Ke(this,function(){a.curOp.forceUpdate=!0,lr(a,o),i.autofocus&&!No||eo()==s.input?setTimeout(Kr(Dn,a),20):In(a);
for(var t in rs)rs.hasOwnProperty(t)&&rs[t](a,i[t],os);for(var e=0;e<us.length;++e)us[e](a)})}function e(t,e){var n=this,i=n.input=Yr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");To?i.style.width="1000px":i.setAttribute("wrap","off"),Ao&&(i.style.border="1px solid black"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),n.inputDiv=Yr("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=Yr("div",[Yr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=Yr("div",[Yr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=Yr("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=Yr("div",null,"CodeMirror-gutter-filler"),n.lineDiv=Yr("div",null,"CodeMirror-code"),n.selectionDiv=Yr("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Yr("div",null,"CodeMirror-cursors"),n.measure=Yr("div",null,"CodeMirror-measure"),n.lineMeasure=Yr("div",null,"CodeMirror-measure"),n.lineSpace=Yr("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Yr("div",[Yr("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Yr("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=Yr("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),n.gutters=Yr("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Yr("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Yr("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),wo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),Ao&&(i.style.width="0px"),To||(n.scroller.draggable=!0),jo&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),wo&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),t.appendChild?t.appendChild(n.wrapper):t(n.wrapper),n.viewFrom=n.viewTo=e.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Hr,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),i(e)}function i(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,ge(t,100),t.state.modeGen++,t.curOp&&tn(t)}function r(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),d(t)),s(t),tn(t),Le(t),setTimeout(function(){m(t)},100)}function o(t){var e=qe(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/Ve(t.display)-3);return function(r){if(Oi(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function s(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&dr(t,e)})}function a(t){var e=fs[t.options.keyMap],n=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Le(t)}function u(t){c(t),tn(t),setTimeout(function(){v(t)},20)}function c(t){var e=t.display.gutters,n=t.options.gutters;Zr(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(Yr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none";var s=e.offsetWidth;t.display.sizer.style.marginLeft=s+"px",i&&(t.display.scrollbarH.style.left=t.options.fixedGutter?s+"px":0)}function h(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Pi(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=Fi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function d(t){var e=t.display,n=t.doc;e.maxLine=ur(n,n.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=h(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function p(t){var e=qr(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function f(t){var e=t.display.scroller;return{clientHeight:e.clientHeight,barHeight:t.display.scrollbarV.clientHeight,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth,barWidth:t.display.scrollbarH.clientWidth,docHeight:Math.round(t.doc.height+_e(t.display))}}function m(t,e){e||(e=f(t));var n=t.display,i=e.docHeight+Os,r=e.scrollWidth>e.clientWidth,o=i>e.clientHeight;if(o?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=r?no(n.measure)+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-e.clientHeight+(e.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),r?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=o?no(n.measure)+"px":"0",n.scrollbarH.firstChild.style.width=e.scrollWidth-e.clientWidth+(e.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),r&&o?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=no(n.measure)+"px"):n.scrollbarFiller.style.display="",r&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=no(n.measure)+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",Po&&0===no(n.measure)){n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=Fo?"18px":"12px";var s=function(e){Lr(e)!=n.scrollbarV&&Lr(e)!=n.scrollbarH&&Qe(t,yn)(e)};As(n.scrollbarV,"mousedown",s),As(n.scrollbarH,"mousedown",s)}}function g(t,e,n){var i=n&&null!=n.top?n.top:t.scroller.scrollTop;i=Math.floor(i-we(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=fr(e,i),s=fr(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(o>a)return{from:a,to:fr(e,mr(ur(e,a))+t.wrapper.clientHeight)};if(Math.min(l,e.lastLine())>=s)return{from:fr(e,mr(ur(e,l))-t.wrapper.clientHeight),to:l}}return{from:o,to:s}}function v(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=w(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function y(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=b(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Yr("div",[Yr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s),i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px";var a=i.gutters.offsetWidth;return i.scrollbarH.style.left=t.options.fixedGutter?a+"px":0,i.sizer.style.marginLeft=a+"px",!0}return!1}function b(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function w(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function _(t,e,n){for(var i,r=t.display.viewFrom,o=t.display.viewTo,s=g(t.display,t.doc,e),a=!0;;a=!1){var l=t.display.scroller.clientWidth;if(!k(t,s,n))break;i=!0,t.display.maxLineChanged&&!t.options.lineWrapping&&x(t);var u=f(t);if(de(t),C(t,u),m(t,u),a&&t.options.lineWrapping&&l!=t.display.scroller.clientWidth)n=!0;else if(n=!1,e&&null!=e.top&&(e={top:Math.min(u.docHeight-Os-u.clientHeight,e.top)}),s=g(t.display,t.doc,e),s.from>=t.display.viewFrom&&s.to<=t.display.viewTo)break}return t.display.updateLineNumbers=null,i&&(Nr(t,"update",t),(t.display.viewFrom!=r||t.display.viewTo!=o)&&Nr(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo)),i}function k(t,e,n){var i=t.display,r=t.doc;if(!i.wrapper.offsetWidth)return void nn(t);if(!(!n&&e.from>=i.viewFrom&&e.to<=i.viewTo&&0==an(t))){y(t)&&nn(t);var o=E(t),s=r.first+r.size,a=Math.max(e.from-t.options.viewportMargin,r.first),l=Math.min(s,e.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(r.first,i.viewFrom)),i.viewTo>l&&i.viewTo-l<20&&(l=Math.min(s,i.viewTo)),Bo&&(a=Di(t.doc,a),l=Ii(t.doc,l));var u=a!=i.viewFrom||l!=i.viewTo||i.lastSizeC!=i.wrapper.clientHeight;sn(t,a,l),i.viewOffset=mr(ur(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var c=an(t);if(u||0!=c||n){var h=eo();return c>4&&(i.lineDiv.style.display="none"),M(t,i.updateLineNumbers,o),c>4&&(i.lineDiv.style.display=""),h&&eo()!=h&&h.offsetHeight&&h.focus(),Zr(i.cursorDiv),Zr(i.selectionDiv),u&&(i.lastSizeC=i.wrapper.clientHeight,ge(t,400)),T(t),!0}}}function x(t){var e=t.display,n=Se(t,e.maxLine,e.maxLine.text.length).left;e.maxLineChanged=!1;var i=Math.max(0,n+3),r=Math.max(0,e.sizer.offsetLeft+i+Os-e.scroller.clientWidth);e.sizer.style.minWidth=i+"px",r<t.doc.scrollLeft&&En(t,Math.min(e.scroller.scrollLeft,r),!0)}function C(t,e){t.display.sizer.style.minHeight=t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=Math.max(e.docHeight,e.clientHeight-Os)+"px"}function T(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(wo){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=qe(e)),(l>.001||-.001>l)&&(dr(o.line,r),S(o.line),o.rest))for(var u=0;u<o.rest.length;u++)S(o.rest[u])}}}function S(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function E(t){for(var e=t.display,n={},i={},r=e.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[t.options.gutters[o]]=r.offsetLeft,i[t.options.gutters[o]]=r.offsetWidth;return{fixedPos:w(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function M(t,e,n){function i(e){var n=e.nextSibling;return To&&Do&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var h=l[c];if(h.hidden);else if(h.node){for(;a!=h.node;)a=i(a);var d=o&&null!=e&&u>=e&&h.lineNumber;h.changes&&(qr(h.changes,"gutter")>-1&&(d=!1),$(t,h,u,n)),d&&(Zr(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(b(t.options,u)))),a=h.node.nextSibling}else{var p=I(t,h,u,n);s.insertBefore(p,a)}u+=h.size}for(;a;)a=i(a)}function $(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?L(t,e):"gutter"==o?N(t,e,n,i):"class"==o?A(e):"widget"==o&&D(e,i)}e.changes=null}function j(t){return t.node==t.text&&(t.node=Yr("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),wo&&(t.node.style.zIndex=2)),t.node}function P(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=j(t);t.background=n.insertBefore(Yr("div",null,e),n.firstChild)}}function F(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Xi(t,e)}function L(t,e){var n=e.text.className,i=F(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,A(e)):n&&(e.text.className=n)}function A(t){P(t),t.line.wrapClass?j(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function N(t,e,n,i){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);var r=e.line.gutterMarkers;if(t.options.lineNumbers||r){var o=j(e),s=e.gutter=o.insertBefore(Yr("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),e.text);if(!t.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Yr("div",b(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],u=r.hasOwnProperty(l)&&r[l];u&&s.appendChild(Yr("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function D(t,e){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}O(t,e)}function I(t,e,n,i){var r=F(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),A(e),N(t,e,n,i),O(e,i),e.node}function O(t,e){if(z(t.line,t,e,!0),t.rest)for(var n=0;n<t.rest.length;n++)z(t.rest[n],t,e,!1)}function z(t,e,n,i){if(t.widgets)for(var r=j(e),o=0,s=t.widgets;o<s.length;++o){var a=s[o],l=Yr("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||(l.ignoreEvents=!0),H(a,l,e,n),i&&a.above?r.insertBefore(l,e.gutter||e.text):r.appendChild(l),Nr(a,"redraw")}}function H(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function W(t){return Ro(t.line,t.ch)}function B(t,e){return qo(t,e)<0?e:t}function R(t,e){return qo(t,e)<0?t:e}function q(t,e){this.ranges=t,this.primIndex=e}function V(t,e){this.anchor=t,this.head=e}function U(t,e){var n=t[e];t.sort(function(t,e){return qo(t.from(),e.from())}),e=qr(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(qo(o.to(),r.from())>=0){var s=R(o.from(),r.from()),a=B(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;e>=i&&--e,t.splice(--i,2,new V(l?a:s,l?s:a))}}return new q(t,e)}function G(t,e){return new q([new V(t,e||t)],0)}function K(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Q(t,e){if(e.line<t.first)return Ro(t.first,0);var n=t.first+t.size-1;return e.line>n?Ro(n,ur(t,n).text.length):X(e,ur(t,e.line).text.length)}function X(t,e){var n=t.ch;return null==n||n>e?Ro(t.line,e):0>n?Ro(t.line,0):t}function Y(t,e){return e>=t.first&&e<t.first+t.size}function Z(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=Q(t,e[i]);return n}function J(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=qo(n,r)<0;o!=qo(i,r)<0?(r=n,n=i):o!=qo(n,i)<0&&(n=i)}return new V(r,n)}return new V(i||n,n)}function te(t,e,n,i){se(t,new q([J(t,t.sel.primary(),e,n)],0),i)}function ee(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=J(t,t.sel.ranges[r],e[r],null);var o=U(i,t.sel.primIndex);se(t,o,n)}function ne(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,se(t,U(r,t.sel.primIndex),i)}function ie(t,e,n,i){se(t,G(e,n),i)}function re(t,e){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new V(Q(t,e[n].anchor),Q(t,e[n].head))}};return Ds(t,"beforeSelectionChange",t,n),t.cm&&Ds(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?U(n.ranges,n.ranges.length-1):e}function oe(t,e,n){var i=t.history.done,r=Rr(i);r&&r.ranges?(i[i.length-1]=e,ae(t,e,n)):se(t,e,n)}function se(t,e,n){ae(t,e,n),xr(t,t.sel,t.cm?t.cm.curOp.id:0/0,n)}function ae(t,e,n){(Or(t,"beforeSelectionChange")||t.cm&&Or(t.cm,"beforeSelectionChange"))&&(e=re(t,e));var i=qo(e.primary().head,t.sel.primary().head)<0?-1:1;le(t,ce(t,e,i,!0)),n&&n.scroll===!1||!t.cm||ii(t.cm)}function le(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),Nr(t,"cursorActivity",t))}function ue(t){le(t,ce(t,t.sel,null,!1),Hs)}function ce(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=he(t,s.anchor,n,i),l=he(t,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new V(a,l))}return r?U(r,e.primIndex):e}function he(t,e,n,i){var r=!1,o=e,s=n||1;t.cantEdit=!1;t:for(;;){var a=ur(t,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var u=a.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(i&&(Ds(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!c.atomic)continue;var h=c.find(0>s?-1:1);if(0==qo(h,o)&&(h.ch+=s,h.ch<0?h=h.line>t.first?Q(t,Ro(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?Ro(h.line+1,0):null),!h)){if(r)return i?(t.cantEdit=!0,Ro(t.first,0)):he(t,e,n,!0);r=!0,h=e,s=-s}o=h;continue t}}return o}}function de(t){for(var e=t.display,n=t.doc,i=document.createDocumentFragment(),r=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++){var s=n.sel.ranges[o],a=s.empty();(a||t.options.showCursorWhenSelecting)&&pe(t,s,i),a||fe(t,s,r)}if(t.options.moveInputWithCursor){var l=ze(t,n.sel.primary().head,"div"),u=e.wrapper.getBoundingClientRect(),c=e.lineDiv.getBoundingClientRect(),h=Math.max(0,Math.min(e.wrapper.clientHeight-10,l.top+c.top-u.top)),d=Math.max(0,Math.min(e.wrapper.clientWidth-10,l.left+c.left-u.left));e.inputDiv.style.top=h+"px",e.inputDiv.style.left=d+"px"}Jr(e.cursorDiv,i),Jr(e.selectionDiv,r)}function pe(t,e,n){var i=ze(t,e.head,"div"),r=n.appendChild(Yr("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(Yr("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function fe(t,e,n){function i(t,e,n,i){0>e&&(e=0),a.appendChild(Yr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?c-t:n)+"px; height: "+(i-e)+"px"))}function r(e,n,r){function o(n,i){return Oe(t,Ro(e,n),"div",h,i)}var a,l,h=ur(s,e),d=h.text.length;return oo(gr(h),n||0,null==r?d:r,function(t,e,s){var h,p,f,m=o(t,"left");if(t==e)h=m,p=f=m.left;else{if(h=o(e-1,"right"),"rtl"==s){var g=m;m=h,h=g}p=m.left,f=h.right}null==n&&0==t&&(p=u),h.top-m.top>3&&(i(p,m.top,null,m.bottom),p=u,m.bottom<h.top&&i(p,m.bottom,null,h.top)),null==r&&e==d&&(f=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),u+1>p&&(p=u),i(p,h.top,f-p,h.bottom)}),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=ke(t.display),u=l.left,c=o.lineSpace.offsetWidth-l.right,h=e.from(),d=e.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var p=ur(s,h.line),f=ur(s,d.line),m=Ai(p)==Ai(f),g=r(h.line,h.ch,m?p.text.length+1:null).end,v=r(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(u,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(u,g.bottom,null,v.top)}n.appendChild(a)}function me(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0&&(e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate))}}function ge(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Kr(ve,t))}function ve(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=hs(e.mode,be(t,e.frontier));Ke(t,function(){e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(r){if(e.frontier>=t.display.viewFrom){var o=r.styles;r.styles=Ui(t,r,i,!0);for(var s=!o||o.length!=r.styles.length,a=0;!s&&a<o.length;++a)s=o[a]!=r.styles[a];s&&en(t,e.frontier,"text"),r.stateAfter=hs(e.mode,i)}else Ki(t,r.text,i),r.stateAfter=e.frontier%5==0?hs(e.mode,i):null;return++e.frontier,+new Date>n?(ge(t,t.options.workDelay),!0):void 0})})}}function ye(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=ur(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=Rs(l.text,null,t.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}function be(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return!0;var o=ye(t,e,n),s=o>i.first&&ur(i,o-1).stateAfter;return s=s?hs(i.mode,s):ds(i.mode),i.iter(o,e,function(n){Ki(t,n.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?hs(i.mode,s):null,++o}),n&&(i.frontier=o),s}function we(t){return t.lineSpace.offsetTop}function _e(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function ke(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Jr(t.measure,Yr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;return t.cachedPaddingH={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)}}function xe(t,e,n){var i=t.options.lineWrapping,r=i&&t.display.scroller.clientWidth;if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Ce(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var i=0;i<t.rest.length;i++)if(pr(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Te(t,e){e=Ai(e);var n=pr(e),i=t.display.externalMeasured=new Ze(t.doc,e,n);i.lineN=n;var r=i.built=Xi(t,i);return i.text=r.pre,Jr(t.display.lineMeasure,r.pre),i}function Se(t,e,n,i){return $e(t,Me(t,e),n,i)}function Ee(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[rn(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Me(t,e){var n=pr(e),i=Ee(t,n);i&&!i.text?i=null:i&&i.changes&&$(t,i,n,E(t)),i||(i=Te(t,e));var r=Ce(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function $e(t,e,n,i){e.before&&(n=-1);var r,o=n+(i||"");return e.cache.hasOwnProperty(o)?r=e.cache[o]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(xe(t,e.view,e.rect),e.hasHeights=!0),r=je(t,e,n,i),r.bogus||(e.cache[o]=r)),{left:r.left,right:r.right,top:r.top,bottom:r.bottom}}function je(t,e,n,i){for(var r,o,s,a,l=e.map,u=0;u<l.length;u+=3){var c=l[u],h=l[u+1];if(c>n?(o=0,s=1,a="left"):h>n?(o=n-c,s=o+1):(u==l.length-3||n==h&&l[u+3]>n)&&(s=h-c,o=s-1,n>=h&&(a="right")),null!=o){if(r=l[u+2],c==h&&i==(r.insertLeft?"left":"right")&&(a=i),"left"==i&&0==o)for(;u&&l[u-2]==l[u-3]&&l[u-1].insertLeft;)r=l[(u-=3)+2],a="left";if("right"==i&&o==h-c)for(;u<l.length-3&&l[u+3]==l[u+4]&&!l[u+5].insertLeft;)r=l[(u+=3)+2],a="right";break}}var d;if(3==r.nodeType){for(;o&&Xr(e.line.text.charAt(c+o));)--o;for(;h>c+s&&Xr(e.line.text.charAt(c+s));)++s;if(_o&&0==o&&s==h-c)d=r.parentNode.getBoundingClientRect();else if(Co&&t.options.lineWrapping){var p=Us(r,o,s).getClientRects();d=p.length?p["right"==i?p.length-1:0]:Ko}else d=Us(r,o,s).getBoundingClientRect()}else{o>0&&(a=i="right");var p;d=t.options.lineWrapping&&(p=r.getClientRects()).length>1?p["right"==i?p.length-1:0]:r.getBoundingClientRect()}if(_o&&!o&&(!d||!d.left&&!d.right)){var f=r.parentNode.getClientRects()[0];d=f?{left:f.left,right:f.left+Ve(t.display),top:f.top,bottom:f.bottom}:Ko}for(var m,g=(d.bottom+d.top)/2-e.rect.top,v=e.view.measure.heights,u=0;u<v.length-1&&!(g<v[u]);u++);m=u?v[u-1]:0,g=v[u];var y={left:("right"==a?d.right:d.left)-e.rect.left,right:("left"==a?d.left:d.right)-e.rect.left,top:m,bottom:g};return d.left||d.right||(y.bogus=!0),y}function Pe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Fe(t){t.display.externalMeasure=null,Zr(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Pe(t.display.view[e])}function Le(t){Fe(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ae(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ne(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function De(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Wi(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=mr(e);if("local"==i?s+=we(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Ne());var l=a.left+("window"==i?0:Ae());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Ie(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=Ae(),r-=Ne();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Oe(t,e,n,i,r){return i||(i=ur(t.doc,e.line)),De(t,i,Se(t,i,e.ch,r),n)}function ze(t,e,n,i,r){function o(e,o){var s=$e(t,r,e,o?"right":"left");return o?s.left=s.right:s.right=s.left,De(t,i,s,n)}function s(t,e){var n=a[e],i=n.level%2;return t==so(n)&&e&&n.level<a[e-1].level?(n=a[--e],t=ao(n)-(n.level%2?0:1),i=!0):t==ao(n)&&e<a.length-1&&n.level<a[e+1].level&&(n=a[++e],t=so(n)-n.level%2,i=!1),i&&t==n.to&&t>n.from?o(t-1):o(t,i)}i=i||ur(t.doc,e.line),r||(r=Me(t,i));var a=gr(i),l=e.ch;if(!a)return o(l);var u=fo(a,l),c=s(l,u);return null!=ra&&(c.other=s(l,ra)),c}function He(t,e){var n=0,e=Q(t.doc,e);t.options.lineWrapping||(n=Ve(t.display)*e.ch);var i=ur(t.doc,e.line),r=mr(i)+we(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function We(t,e,n,i){var r=Ro(t,e);return r.xRel=i,n&&(r.outside=!0),r}function Be(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,0>n)return We(i.first,0,!0,-1);var r=fr(i,n),o=i.first+i.size-1;if(r>o)return We(i.first+i.size-1,ur(i,o).text.length,!0,1);0>e&&(e=0);for(var s=ur(i,r);;){var a=Re(t,s,r,e,n),l=Fi(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;r=pr(s=u.to.line)}}function Re(t,e,n,i,r){function o(i){var r=ze(t,Ro(n,i),"line",e,u);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-mr(e),a=!1,l=2*t.display.wrapper.clientWidth,u=Me(t,e),c=gr(e),h=e.text.length,d=lo(e),p=uo(e),f=o(d),m=a,g=o(p),v=a;if(i>g)return We(n,p,v,1);for(;;){if(c?p==d||p==go(e,d,1):1>=p-d){for(var y=f>i||g-i>=i-f?d:p,b=i-(y==d?f:g);Xr(e.text.charAt(y));)++y;var w=We(n,y,y==d?m:v,-1>b?-1:b>1?1:0);return w}var _=Math.ceil(h/2),k=d+_;if(c){k=d;for(var x=0;_>x;++x)k=go(e,k,1)}var C=o(k);C>i?(p=k,g=C,(v=a)&&(g+=1e3),h=_):(d=k,f=C,m=a,h-=_)}}function qe(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Vo){Vo=Yr("pre");for(var e=0;49>e;++e)Vo.appendChild(document.createTextNode("x")),Vo.appendChild(Yr("br"));Vo.appendChild(document.createTextNode("x"))}Jr(t.measure,Vo);var n=Vo.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),Zr(t.measure),n||1}function Ve(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Yr("span","xxxxxxxxxx"),n=Yr("pre",[e]);Jr(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function Ue(t){t.curOp={viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivity:!1,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Qo},Is++||(js=[])}function Ge(t){var e=t.curOp,n=t.doc,i=t.display;if(t.curOp=null,e.updateMaxLine&&d(t),e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping){var r=_(t,{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate);t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)}if(!r&&e.selectionChanged&&de(t),r||e.startHeight==t.doc.height||m(t),null!=e.scrollTop&&i.scroller.scrollTop!=e.scrollTop){var o=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop));i.scroller.scrollTop=i.scrollbarV.scrollTop=n.scrollTop=o}if(null!=e.scrollLeft&&i.scroller.scrollLeft!=e.scrollLeft){var s=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,e.scrollLeft));i.scroller.scrollLeft=i.scrollbarH.scrollLeft=n.scrollLeft=s,v(t)}if(e.scrollToPos){var a=Jn(t,Q(t.doc,e.scrollToPos.from),Q(t.doc,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Zn(t,a)}e.selectionChanged&&me(t),t.state.focused&&e.updateInput&&hn(t,e.typing);var l=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(l)for(var c=0;c<l.length;++c)l[c].lines.length||Ds(l[c],"hide");if(u)for(var c=0;c<u.length;++c)u[c].lines.length&&Ds(u[c],"unhide");var h;if(--Is||(h=js,js=null),e.changeObjs){for(var c=0;c<e.changeObjs.length;c++)Ds(t,"change",t,e.changeObjs[c]);Ds(t,"changes",t,e.changeObjs)}if(e.cursorActivity&&Ds(t,"cursorActivity",t),h)for(var c=0;c<h.length;++c)h[c]()}function Ke(t,e){if(t.curOp)return e();Ue(t);try{return e()}finally{Ge(t)}}function Qe(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Ue(t);try{return e.apply(t,arguments)}finally{Ge(t)}}}function Xe(t){return function(){if(this.curOp)return t.apply(this,arguments);Ue(this);try{return t.apply(this,arguments)}finally{Ge(this)}}}function Ye(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ue(e);try{return t.apply(this,arguments)}finally{Ge(e)}}}function Ze(t,e,n){this.line=e,this.rest=Ni(e),this.size=this.rest?pr(Rr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Oi(t,e)}function Je(t,e,n){for(var i,r=[],o=e;n>o;o=i){var s=new Ze(t.doc,ur(t.doc,o),o);i=o+s.size,r.push(s)}return r}function tn(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Bo&&Di(t.doc,e)<r.viewTo&&nn(t);else if(n<=r.viewFrom)Bo&&Ii(t.doc,n+i)>r.viewFrom?nn(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)nn(t);else if(e<=r.viewFrom){var o=on(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):nn(t)}else if(n>=r.viewTo){var o=on(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):nn(t)}else{var s=on(t,e,e,-1),a=on(t,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Je(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):nn(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function en(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[rn(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==qr(s,n)&&s.push(n)}}}function nn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function rn(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,0>e)return i}function on(t,e,n,i){var r,o=rn(t,e),s=t.display.view;if(!Bo)return{index:o,lineN:n};for(var a=0,l=t.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=e){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;Di(t.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function sn(t,e,n){var i=t.display,r=i.view;0==r.length||e>=i.viewTo||n<=i.viewFrom?(i.view=Je(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=Je(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(rn(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(Je(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,rn(t,n)))),i.viewTo=n
}function an(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function ln(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){cn(t),t.state.focused&&ln(t)})}function un(t){function e(){var i=cn(t);i||n?(t.display.pollingFast=!1,ln(t)):(n=!0,t.display.poll.set(60,e))}var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function cn(t){var e=t.display.input,n=t.display.prevInput,i=t.doc;if(!t.state.focused||ea(e)||fn(t)||t.options.disableInput)return!1;var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(Co&&!_o&&t.display.inputHasSelection===r)return hn(t),!1;var o=!t.curOp;o&&Ue(t),t.display.shift=!1;for(var s=0,a=Math.min(n.length,r.length);a>s&&n.charCodeAt(s)==r.charCodeAt(s);)++s;for(var l=r.slice(s),u=ta(l),c=t.state.pasteIncoming&&u.length>1&&i.sel.ranges.length==u.length,h=i.sel.ranges.length-1;h>=0;h--){var d=i.sel.ranges[h],p=d.from(),f=d.to();s<n.length?p=Ro(p.line,p.ch-(n.length-s)):t.state.overwrite&&d.empty()&&!t.state.pasteIncoming&&(f=Ro(f.line,Math.min(ur(i,f.line).text.length,f.ch+Rr(u).length)));var m=t.curOp.updateInput,g={from:p,to:f,text:c?[u[h]]:u,origin:t.state.pasteIncoming?"paste":t.state.cutIncoming?"cut":"+input"};if(Vn(t.doc,g),Nr(t,"inputRead",t,g),l&&!t.state.pasteIncoming&&t.options.electricChars&&t.options.smartIndent&&d.head.ch<100&&(!h||i.sel.ranges[h-1].head.line!=d.head.line)){var v=t.getModeAt(d.head).electricChars;if(v)for(var y=0;y<v.length;y++)if(l.indexOf(v.charAt(y))>-1){oi(t,d.head.line,"smart");break}}}return ii(t),t.curOp.updateInput=m,t.curOp.typing=!0,r.length>1e3||r.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=r,o&&Ge(t),t.state.pasteIncoming=t.state.cutIncoming=!1,!0}function hn(t,e){var n,i,r=t.doc;if(t.somethingSelected()){t.display.prevInput="";var o=r.sel.primary();n=na&&(o.to().line-o.from().line>100||(i=t.getSelection()).length>1e3);var s=n?"-":i||t.getSelection();t.display.input.value=s,t.state.focused&&Vs(t.display.input),Co&&!_o&&(t.display.inputHasSelection=s)}else e||(t.display.prevInput=t.display.input.value="",Co&&!_o&&(t.display.inputHasSelection=null));t.display.inaccurateSelection=n}function dn(t){"nocursor"==t.options.readOnly||No&&eo()==t.display.input||t.display.input.focus()}function pn(t){t.state.focused||(dn(t),Dn(t))}function fn(t){return t.options.readOnly||t.doc.cantEdit}function mn(t){function e(){t.state.focused&&setTimeout(Kr(dn,t),0)}function n(){null==a&&(a=setTimeout(function(){a=null,s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=Xs=null,t.setSize()},100))}function i(){to(document.body,s.wrapper)?setTimeout(i,5e3):Ns(window,"resize",n)}function r(e){Ir(t,e)||Ls(e)}function o(e){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=t.getSelection(),Vs(s.input)),"cut"==e.type&&(t.state.cutIncoming=!0)}var s=t.display;As(s.scroller,"mousedown",Qe(t,yn)),bo?As(s.scroller,"dblclick",Qe(t,function(e){if(!Ir(t,e)){var n=vn(t,e);if(n&&!xn(t,e)&&!gn(t.display,e)){Ps(e);var i=ci(t.doc,n);te(t.doc,i.anchor,i.head)}}})):As(s.scroller,"dblclick",function(e){Ir(t,e)||Ps(e)}),As(s.lineSpace,"selectstart",function(t){gn(s,t)||Ps(t)}),Ho||As(s.scroller,"contextmenu",function(e){On(t,e)}),As(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Sn(t,s.scroller.scrollTop),En(t,s.scroller.scrollLeft,!0),Ds(t,"scroll",t))}),As(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&Sn(t,s.scrollbarV.scrollTop)}),As(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&En(t,s.scrollbarH.scrollLeft)}),As(s.scroller,"mousewheel",function(e){Mn(t,e)}),As(s.scroller,"DOMMouseScroll",function(e){Mn(t,e)}),As(s.scrollbarH,"mousedown",e),As(s.scrollbarV,"mousedown",e),As(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0});var a;As(window,"resize",n),setTimeout(i,5e3),As(s.input,"keyup",Qe(t,An)),As(s.input,"input",function(){Co&&!_o&&t.display.inputHasSelection&&(t.display.inputHasSelection=null),un(t)}),As(s.input,"keydown",Qe(t,Ln)),As(s.input,"keypress",Qe(t,Nn)),As(s.input,"focus",Kr(Dn,t)),As(s.input,"blur",Kr(In,t)),t.options.dragDrop&&(As(s.scroller,"dragstart",function(e){Tn(t,e)}),As(s.scroller,"dragenter",r),As(s.scroller,"dragover",r),As(s.scroller,"drop",Qe(t,Cn))),As(s.scroller,"paste",function(e){gn(s,e)||(t.state.pasteIncoming=!0,dn(t),un(t))}),As(s.input,"paste",function(){t.state.pasteIncoming=!0,un(t)}),As(s.input,"cut",o),As(s.input,"copy",o),jo&&As(s.sizer,"mouseup",function(){eo()==s.input&&s.input.blur(),dn(t)})}function gn(t,e){for(var n=Lr(e);n!=t.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==t.sizer&&n!=t.mover)return!0}function vn(t,e,n,i){var r=t.display;if(!n){var o=Lr(e);if(o==r.scrollbarH||o==r.scrollbarV||o==r.scrollbarFiller||o==r.gutterFiller)return null}var s,a,l=r.lineSpace.getBoundingClientRect();try{s=e.clientX-l.left,a=e.clientY-l.top}catch(e){return null}var u,c=Be(t,s,a);if(i&&1==c.xRel&&(u=ur(t.doc,c.line).text).length==c.ch){var h=Rs(u,u.length,t.options.tabSize)-u.length;c=Ro(c.line,Math.round((s-ke(t.display).left)/Ve(t.display))-h)}return c}function yn(t){if(!Ir(this,t)){var e=this,n=e.display;if(n.shift=t.shiftKey,gn(n,t))return void(To||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!xn(e,t)){var i=vn(e,t);switch(window.focus(),Ar(t)){case 1:i?bn(e,t,i):Lr(t)==n.scroller&&Ps(t);break;case 2:To&&(e.state.lastMiddleDown=+new Date),i&&te(e.doc,i),setTimeout(Kr(dn,e),20),Ps(t);break;case 3:Ho&&On(e,t)}}}}function bn(t,e,n){setTimeout(Kr(pn,t),0);var i,r=+new Date;Go&&Go.time>r-400&&0==qo(Go.pos,n)?i="triple":Uo&&Uo.time>r-400&&0==qo(Uo.pos,n)?(i="double",Go={time:r,pos:n}):(i="single",Uo={time:r,pos:n});var o=t.doc.sel,s=Do?e.metaKey:e.ctrlKey;t.options.dragDrop&&Js&&!s&&!fn(t)&&"single"==i&&o.contains(n)>-1&&o.somethingSelected()?wn(t,e,n):_n(t,e,n,i,s)}function wn(t,e,n){var i=t.display,r=Qe(t,function(o){To&&(i.scroller.draggable=!1),t.state.draggingText=!1,Ns(document,"mouseup",r),Ns(i.scroller,"drop",r),Math.abs(e.clientX-o.clientX)+Math.abs(e.clientY-o.clientY)<10&&(Ps(o),te(t.doc,n),dn(t),bo&&!_o&&setTimeout(function(){document.body.focus(),dn(t)},20))});To&&(i.scroller.draggable=!0),t.state.draggingText=r,i.scroller.dragDrop&&i.scroller.dragDrop(),As(document,"mouseup",r),As(i.scroller,"drop",r)}function _n(t,e,n,i,r){function o(e){if(0!=qo(m,e))if(m=e,"rect"==i){for(var r=[],o=t.options.tabSize,s=Rs(ur(u,n.line).text,n.ch,o),a=Rs(ur(u,e.line).text,e.ch,o),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));g>=f;f++){var v=ur(u,f).text,y=Wr(v,l,o);l==p?r.push(new V(Ro(f,y),Ro(f,y))):v.length>y&&r.push(new V(Ro(f,y),Ro(f,Wr(v,p,o))))}r.length||r.push(new V(n,n)),se(u,U(d.ranges.slice(0,h).concat(r),h),Ws)}else{var b=c,w=b.anchor,_=e;if("single"!=i){if("double"==i)var k=ci(u,e);else var k=new V(Ro(e.line,0),Q(u,Ro(e.line+1,0)));qo(k.anchor,w)>0?(_=k.head,w=R(b.from(),k.anchor)):(_=k.anchor,w=B(b.to(),k.head))}var r=d.ranges.slice(0);r[h]=new V(Q(u,w),_),se(u,U(r,h),Ws)}}function s(e){var n=++y,r=vn(t,e,!0,"rect"==i);if(r)if(0!=qo(r,m)){pn(t),o(r);var a=g(l,u);(r.line>=a.to||r.line<a.from)&&setTimeout(Qe(t,function(){y==n&&s(e)}),150)}else{var c=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;c&&setTimeout(Qe(t,function(){y==n&&(l.scroller.scrollTop+=c,s(e))}),50)}}function a(e){y=1/0,Ps(e),dn(t),Ns(document,"mousemove",b),Ns(document,"mouseup",w),u.history.lastSelOrigin=null}var l=t.display,u=t.doc;Ps(e);var c,h,d=u.sel;if(r?(h=u.sel.contains(n),c=h>-1?u.sel.ranges[h]:new V(n,n)):c=u.sel.primary(),e.altKey)i="rect",r||(c=new V(n,n)),n=vn(t,e,!0,!0),h=-1;else if("double"==i){var p=ci(u,n);c=t.display.shift||u.extend?J(u,c,p.anchor,p.head):p}else if("triple"==i){var f=new V(Ro(n.line,0),Q(u,Ro(n.line+1,0)));c=t.display.shift||u.extend?J(u,c,f.anchor,f.head):f}else c=J(u,c,n);r?h>-1?ne(u,h,c,Ws):(h=u.sel.ranges.length,se(u,U(u.sel.ranges.concat([c]),h),{scroll:!1,origin:"*mouse"})):(h=0,se(u,new q([c],0),Ws));var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Qe(t,function(t){(Co&&!ko?t.buttons:Ar(t))?s(t):a(t)}),w=Qe(t,a);As(document,"mousemove",b),As(document,"mouseup",w)}function kn(t,e,n,i,r){try{var o=e.clientX,s=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ps(e);var a=t.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!Or(t,n))return Fr(e);s-=l.top-a.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=a.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var h=fr(t.doc,s),d=t.options.gutters[u];return r(t,n,t,h,d,e),Fr(e)}}}function xn(t,e){return kn(t,e,"gutterClick",!0,Nr)}function Cn(t){var e=this;if(!Ir(e,t)&&!gn(e.display,t)){Ps(t),bo&&(Xo=+new Date);var n=vn(e,t,!0),i=t.dataTransfer.files;if(n&&!fn(e))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(t,i){var a=new FileReader;a.onload=function(){if(o[i]=a.result,++s==r){n=Q(e.doc,n);var t={from:n,to:n,text:ta(o.join("\n")),origin:"paste"};Vn(e.doc,t),oe(e.doc,G(n,ns(t)))}},a.readAsText(t)},l=0;r>l;++l)a(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(Kr(dn,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var u=e.state.draggingText&&e.listSelections();if(ae(e.doc,G(n,n)),u)for(var l=0;l<u.length;++l)Yn(e.doc,"",u[l].anchor,u[l].head,"drag");e.replaceSelection(o,"around","paste"),dn(e)}}catch(t){}}}}function Tn(t,e){if(bo&&(!t.state.draggingText||+new Date-Xo<100))return void Ls(e);if(!Ir(t,e)&&!gn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!$o)){var n=Yr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Mo&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Mo&&n.parentNode.removeChild(n)}}function Sn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,yo||_(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),yo&&_(t),ge(t,100))}function En(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,v(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function Mn(t,e){var n=e.wheelDeltaX,i=e.wheelDeltaY;null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta);var r=t.display,o=r.scroller;if(n&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&Do&&To)t:for(var s=e.target,a=r.view;s!=o;s=s.parentNode)for(var l=0;l<a.length;l++)if(a[l].node==s){t.display.currentWheelTarget=s;break t}if(n&&!yo&&!Mo&&null!=Zo)return i&&Sn(t,Math.max(0,Math.min(o.scrollTop+i*Zo,o.scrollHeight-o.clientHeight))),En(t,Math.max(0,Math.min(o.scrollLeft+n*Zo,o.scrollWidth-o.clientWidth))),Ps(e),void(r.wheelStartX=null);if(i&&null!=Zo){var u=i*Zo,c=t.doc.scrollTop,h=c+r.wrapper.clientHeight;0>u?c=Math.max(0,c+u-50):h=Math.min(t.doc.height,h+u+50),_(t,{top:c,bottom:h})}20>Yo&&(null==r.wheelStartX?(r.wheelStartX=o.scrollLeft,r.wheelStartY=o.scrollTop,r.wheelDX=n,r.wheelDY=i,setTimeout(function(){if(null!=r.wheelStartX){var t=o.scrollLeft-r.wheelStartX,e=o.scrollTop-r.wheelStartY,n=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(Zo=(Zo*Yo+n)/(Yo+1),++Yo)}},200)):(r.wheelDX+=n,r.wheelDY+=i))}}function $n(t,e,n){if("string"==typeof e&&(e=ps[e],!e))return!1;t.display.pollingFast&&cn(t)&&(t.display.pollingFast=!1);var i=t.display.shift,r=!1;try{fn(t)&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=zs}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function jn(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function Pn(t,e){var n=di(t.options.keyMap),i=n.auto;clearTimeout(Jo),i&&!gs(e)&&(Jo=setTimeout(function(){di(t.options.keyMap)==n&&(t.options.keyMap=i.call?i.call(null,t):i,a(t))},50));var r=vs(e,!0),o=!1;if(!r)return!1;var s=jn(t);return o=e.shiftKey?ms("Shift-"+r,s,function(e){return $n(t,e,!0)})||ms(r,s,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?$n(t,e):void 0}):ms(r,s,function(e){return $n(t,e)}),o&&(Ps(e),me(t),Nr(t,"keyHandled",t,r,e)),o}function Fn(t,e,n){var i=ms("'"+n+"'",jn(t),function(e){return $n(t,e,!0)});return i&&(Ps(e),me(t),Nr(t,"keyHandled",t,"'"+n+"'",e)),i}function Ln(t){var e=this;if(pn(e),!Ir(e,t)){bo&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=Pn(e,t);Mo&&(es=i?n:null,!i&&88==n&&!na&&(Do?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut"))}}function An(t){Ir(this,t)||16==t.keyCode&&(this.doc.sel.shift=!1)}function Nn(t){var e=this;if(!Ir(e,t)){var n=t.keyCode,i=t.charCode;if(Mo&&n==es)return es=null,void Ps(t);if(!(Mo&&(!t.which||t.which<10)||jo)||!Pn(e,t)){var r=String.fromCharCode(null==i?n:i);Fn(e,t,r)||(Co&&!_o&&(e.display.inputHasSelection=null),un(e))}}}function Dn(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Ds(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),t.curOp||(hn(t),To&&setTimeout(Kr(hn,t,!0),0))),ln(t),me(t))}function In(t){t.state.focused&&(Ds(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150)}function On(t,e){function n(){if(null!=r.input.selectionStart){var e=r.input.value="\u200b"+(t.somethingSelected()?r.input.value:"");r.prevInput="\u200b",r.input.selectionStart=1,r.input.selectionEnd=e.length}}function i(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,_o&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=s),ln(t),null!=r.input.selectionStart){(!Co||_o)&&n(),clearTimeout(ts);var e=0,i=function(){"\u200b"==r.prevInput&&0==r.input.selectionStart?Qe(t,ps.selectAll)(t):e++<10?ts=setTimeout(i,500):hn(t)};ts=setTimeout(i,200)}}if(!Ir(t,e,"contextmenu")){var r=t.display;if(!gn(r,e)&&!zn(t,e)){var o=vn(t,e),s=r.scroller.scrollTop;if(o&&!Mo){var a=t.options.resetSelectionOnContextMenu;a&&-1==t.doc.sel.contains(o)&&Qe(t,se)(t.doc,G(o),Hs);var l=r.input.style.cssText;if(r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(Co?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",dn(t),hn(t),t.somethingSelected()||(r.input.value=r.prevInput=" "),Co&&!_o&&n(),Ho){Ls(e);var u=function(){Ns(window,"mouseup",u),setTimeout(i,20)};As(window,"mouseup",u)}else setTimeout(i,50)}}}}function zn(t,e){return Or(t,"gutterContextMenu")?kn(t,e,"gutterContextMenu",!1,Ds):!1}function Hn(t,e){if(qo(t,e.from)<0)return t;if(qo(t,e.to)<=0)return ns(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=ns(e).ch-e.to.ch),Ro(n,i)}function Wn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new V(Hn(r.anchor,e),Hn(r.head,e)))}return U(n,t.sel.primIndex)}function Bn(t,e,n){return t.line==e.line?Ro(n.line,t.ch-e.ch+n.ch):Ro(n.line+(t.line-e.line),t.ch)}function Rn(t,e,n){for(var i=[],r=Ro(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Bn(a.from,r,o),u=Bn(ns(a),r,o);if(r=a.to,o=u,"around"==n){var c=t.sel.ranges[s],h=qo(c.head,c.anchor)<0;i[s]=new V(h?u:l,h?l:u)}else i[s]=new V(l,l)}return new q(i,t.sel.primIndex)}function qn(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,r){e&&(this.from=Q(t,e)),n&&(this.to=Q(t,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Ds(t,"beforeChange",t,i),t.cm&&Ds(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Vn(t,e,n){if(t.cm){if(!t.cm.curOp)return Qe(t.cm,Vn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Or(t,"beforeChange")||t.cm&&Or(t.cm,"beforeChange"))||(e=qn(t,e,!0))){var i=Wo&&!n&&Ci(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Un(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else Un(t,e)}}function Un(t,e){if(1!=e.text.length||""!=e.text[0]||0!=qo(e.from,e.to)){var n=Wn(t,e);_r(t,e,n,t.cm?t.cm.curOp.id:0/0),Qn(t,e,n,_i(t,e));var i=[];ar(t,function(t,n){n||-1!=qr(i,t.history)||(Pr(t.history,e),i.push(t.history)),Qn(t,e,null,_i(t,e))})}}function Gn(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(Cr(i,a),n&&!i.equals(t.sel))return void se(t,i,{clearRedo:!1});o=i}var u=[];Cr(o,a),a.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var c=Or(t,"beforeChange")||t.cm&&Or(t.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var h=i.changes[l];if(h.origin=e,c&&!qn(t,h,!1))return void(s.length=0);u.push(yr(t,h));var d=l?Wn(t,h,null):Rr(s);Qn(t,h,d,xi(t,h)),t.cm&&ii(t.cm);var p=[];ar(t,function(t,e){e||-1!=qr(p,t.history)||(Pr(t.history,h),p.push(t.history)),Qn(t,h,null,xi(t,h))})}}}}function Kn(t,e){t.first+=e,t.sel=new q(Vr(t.sel.ranges,function(t){return new V(Ro(t.anchor.line+e,t.anchor.ch),Ro(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm&&tn(t.cm,t.first,t.first-e,e)}function Qn(t,e,n,i){if(t.cm&&!t.cm.curOp)return Qe(t.cm,Qn)(t,e,n,i);if(e.to.line<t.first)return void Kn(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Kn(t,r),e={from:Ro(t.first,0),to:Ro(e.to.line+r,e.to.ch),text:[Rr(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ro(o,ur(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=cr(t,e.from,e.to),n||(n=Wn(t,e,null)),t.cm?Xn(t.cm,e,i):rr(t,e,i),ae(t,n,Hs)}}function Xn(t,e,n){var i=t.doc,r=t.display,s=e.from,a=e.to,l=!1,u=s.line;t.options.lineWrapping||(u=pr(Ai(ur(i,s.line))),i.iter(u,a.line+1,function(t){return t==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(e.from,e.to)>-1&&(t.curOp.cursorActivity=!0),rr(i,e,n,o(t)),t.options.lineWrapping||(i.iter(u,s.line+e.text.length,function(t){var e=h(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),ge(t,400);var c=e.text.length-(a.line-s.line)-1;s.line!=a.line||1!=e.text.length||ir(t.doc,e)?tn(t,s.line,a.line+1,c):en(t,s.line,"text"),(Or(t,"change")||Or(t,"changes"))&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push({from:s,to:a,text:e.text,removed:e.removed,origin:e.origin})}function Yn(t,e,n,i,r){if(i||(i=n),qo(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=ta(e)),Vn(t,{from:n,to:i,text:e,origin:r})}function Zn(t,e){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Lo){var o=Yr("div","\u200b",null,"position: absolute; top: "+(e.top-n.viewOffset-we(t.display))+"px; height: "+(e.bottom-e.top+Os)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}function Jn(t,e,n,i){for(null==i&&(i=0);;){var r=!1,o=ze(t,e),s=n&&n!=e?ze(t,n):o,a=ei(t,Math.min(o.left,s.left),Math.min(o.top,s.top)-i,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+i),l=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=a.scrollTop&&(Sn(t,a.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(r=!0)),null!=a.scrollLeft&&(En(t,a.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(r=!0)),!r)return o}}function ti(t,e,n,i,r){var o=ei(t,e,n,i,r);null!=o.scrollTop&&Sn(t,o.scrollTop),null!=o.scrollLeft&&En(t,o.scrollLeft)}function ei(t,e,n,i,r){var o=t.display,s=qe(t.display);0>n&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=o.scroller.clientHeight-Os,u={},c=t.doc.height+_e(o),h=s>n,d=r>c-s;if(a>n)u.scrollTop=h?0:n;else if(r>a+l){var p=Math.min(n,(d?c:r)-l);p!=a&&(u.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,m=o.scroller.clientWidth-Os;e+=o.gutters.offsetWidth,i+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return f+g>e||v?(v&&(e=0),u.scrollLeft=Math.max(0,e-10-g)):i>m+f-3&&(u.scrollLeft=i+10-m),u}function ni(t,e,n){(null!=e||null!=n)&&ri(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function ii(t){ri(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?Ro(e.line,e.ch-1):e,i=Ro(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function ri(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=He(t,e.from),i=He(t,e.to),r=ei(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function oi(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(t.doc.mode.indent?r=be(t,e):n="prev");var s=t.options.tabSize,a=ur(o,e),l=Rs(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(u=t.doc.mode.indent(r,a.text.slice(c.length),a.text),u==zs)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?Rs(ur(o,e-1).text,null,s):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(u/s);p;--p)d+=s,h+="	";if(u>d&&(h+=Br(u-d)),h!=c)Yn(t.doc,h,Ro(e,0),Ro(e,c.length),"+input");else for(var p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==e&&f.head.ch<c.length){var d=Ro(e,c.length);ne(o,p,new V(d,d));break}}a.stateAfter=null}function si(t,e,n,i){var r=e,o=e,s=t.doc;return"number"==typeof e?o=ur(s,K(s,e)):r=pr(e),null==r?null:i(o,r)?(en(t,r,n),o):null}function ai(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&qo(o.from,Rr(i).to)<=0;){var s=i.pop();if(qo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Ke(t,function(){for(var e=i.length-1;e>=0;e--)Yn(t.doc,"",i[e].from,i[e].to,"+delete");ii(t)})}function li(t,e,n,i,r){function o(){var e=a+n;return e<t.first||e>=t.first+t.size?h=!1:(a=e,c=ur(t,e))}function s(t){var e=(r?go:vo)(c,l,n,!0);if(null==e){if(t||!o())return h=!1;l=r?(0>n?uo:lo)(c):0>n?c.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,u=n,c=ur(t,a),h=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,p="group"==i,f=!0;!(0>n)||s(!f);f=!1){var m=c.text.charAt(l)||"\n",g=Ks(m)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||f||g||(g="s"),d&&d!=g){0>n&&(n=1,s());break}if(g&&(d=g),n>0&&!s(!f))break}var v=he(t,Ro(a,l),u,!0);return h||(v.hitSide=!0),v}function ui(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(0>n?1.5:.5)*qe(t.display))}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){var l=Be(t,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function ci(t,e){var n=ur(t,e.line).text,i=e.ch,r=e.ch;if(n){(e.xRel<0||r==n.length)&&i?--i:++r;for(var o=n.charAt(i),s=Ks(o)?Ks:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Ks(t)};i>0&&s(n.charAt(i-1));)--i;for(;r<n.length&&s(n.charAt(r));)++r}return new V(Ro(e.line,i),Ro(e.line,r))}function hi(e,n,i,r){t.defaults[e]=n,i&&(rs[e]=r?function(t,e,n){n!=os&&i(t,e,n)}:i)}function di(t){return"string"==typeof t?fs[t]:t}function pi(t,e,n,i,r){if(i&&i.shared)return fi(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Qe(t.cm,pi)(t,e,n,i,r);var o=new bs(t,r),s=qo(e,n);if(i&&Gr(i,o),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Yr("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||(o.widgetNode.ignoreEvents=!0),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Li(t,e.line,e,n,o)||e.line!=n.line&&Li(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Bo=!0}o.addToHistory&&_r(t,{from:e,to:n,origin:"markText"},t.sel,0/0);var a,l=e.line,u=t.cm;if(t.iter(l,n.line+1,function(t){u&&o.collapsed&&!u.options.lineWrapping&&Ai(t)==u.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&dr(t,0),yi(t,new mi(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Oi(t,e)&&dr(e,0)}),o.clearOnEnter&&As(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Wo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ws,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)tn(u,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle)for(var c=e.line;c<=n.line;c++)en(u,c,"text");o.atomic&&ue(u.doc),Nr(u,"markerAdded",u,o)}return o}function fi(t,e,n,i,r){i=Gr(i),i.shared=!1;var o=[pi(t,e,n,i,r)],s=o[0],a=i.widgetNode;return ar(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(pi(t,Q(t,e),Q(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Rr(o)}),new _s(o,s)}function mi(t,e,n){this.marker=t,this.from=e,this.to=n}function gi(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function vi(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function yi(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function bi(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new mi(s,o.from,l?null:o.to))}}return i}function wi(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new mi(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return i}function _i(t,e){var n=Y(t,e.from.line)&&ur(t,e.from.line).markedSpans,i=Y(t,e.to.line)&&ur(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==qo(e.from,e.to),a=bi(n,r,s),l=wi(i,o,s),u=1==e.text.length,c=Rr(e.text).length+(u?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=gi(l,d.marker);p?u&&(d.to=null==p.to?null:p.to+c):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=c),null==d.from){var p=gi(a,d.marker);p||(d.from=c,u&&(a||(a=[])).push(d))}else d.from+=c,u&&(a||(a=[])).push(d)}a&&(a=ki(a)),l&&l!=a&&(l=ki(l));var f=[a];if(!u){var m,g=e.text.length-2;if(g>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new mi(a[h].marker,null,null));for(var h=0;g>h;++h)f.push(m);f.push(l)}return f}function ki(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function xi(t,e){var n=Er(t,e),i=_i(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function Ci(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=qr(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(qo(u.to,a.from)<0||qo(u.from,a.to)>0)){var c=[l,1],h=qo(u.from,a.from),d=qo(u.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&c.push({from:u.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),l+=c.length-1}}return r}function Ti(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Si(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Ei(t){return t.inclusiveLeft?-1:0}function Mi(t){return t.inclusiveRight?1:0}function $i(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=qo(i.from,r.from)||Ei(t)-Ei(e);if(o)return-o;var s=qo(i.to,r.to)||Mi(t)-Mi(e);return s?s:e.id-t.id}function ji(t,e){var n,i=Bo&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!n||$i(n,r.marker)<0)&&(n=r.marker);return n}function Pi(t){return ji(t,!0)}function Fi(t){return ji(t,!1)}function Li(t,e,n,i,r){var o=ur(t,e),s=Bo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=qo(u.from,n)||Ei(l.marker)-Ei(r),h=qo(u.to,i)||Mi(l.marker)-Mi(r);if(!(c>=0&&0>=h||0>=c&&h>=0)&&(0>=c&&(qo(u.to,n)||Mi(l.marker)-Ei(r))>0||c>=0&&(qo(u.from,i)||Ei(l.marker)-Mi(r))<0))return!0}}}function Ai(t){for(var e;e=Pi(t);)t=e.find(-1,!0).line;return t}function Ni(t){for(var e,n;e=Fi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function Di(t,e){var n=ur(t,e),i=Ai(n);return n==i?e:pr(i)}function Ii(t,e){if(e>t.lastLine())return e;var n,i=ur(t,e);if(!Oi(t,i))return e;for(;n=Fi(i);)i=n.find(1,!0).line;return pr(i)+1}function Oi(t,e){var n=Bo&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&zi(t,e,i))return!0}}function zi(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return zi(t,i.line,gi(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&zi(t,e,r))return!0}function Hi(t,e,n){mr(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&ni(t,null,n)}function Wi(t){return null!=t.height?t.height:(to(document.body,t.node)||Jr(t.cm.display.measure,Yr("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Bi(t,e,n,i){var r=new ks(t,n,i);return r.noHScroll&&(t.display.alignWidgets=!0),si(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,!Oi(t.doc,e)){var i=mr(e)<t.doc.scrollTop;dr(e,e.height+Wi(r)),i&&ni(t,null,r.height),t.curOp.forceUpdate=!0}return!0}),r}function Ri(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ti(t),Si(t,n);var r=i?i(t):1;r!=t.height&&dr(t,r)}function qi(t){t.parent=null,Ti(t)}function Vi(e,n,i,r,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,h=new ys(n,e.options.tabSize);for(""==n&&i.blankLine&&i.blankLine(r);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&Ki(e,n,r,h.pos),h.pos=n.length,l=null):l=i.token(h,r),e.options.addModeClass){var d=t.innerMode(i,r).mode.name;d&&(l="m-"+(l?d+" "+l:d))}a&&c==l||(u<h.start&&o(h.start,c),u=h.start,c=l),h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e4);o(p,c),u=p}}function Ui(t,e,n,i){var r=[t.state.modeGen];Vi(t,e.text,t.doc.mode,n,function(t,e){r.push(t,e)},i);for(var o=0;o<t.state.overlays.length;++o){var s=t.state.overlays[o],a=1,l=0;Vi(t,e.text,s.mode,!0,function(t,e){for(var n=a;t>l;){var i=r[a];i>t&&r.splice(a,1,t,r[a+1],i),a+=2,l=Math.min(t,i)}if(e)if(s.opaque)r.splice(n,a-n,t,e),a=n+2;else for(;a>n;n+=2){var o=r[n+1];r[n+1]=o?o+" "+e:e}})}return r}function Gi(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Ui(t,e,e.stateAfter=be(t,pr(e)))),e.styles}function Ki(t,e,n,i){var r=t.doc.mode,o=new ys(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&r.blankLine&&r.blankLine(n);!o.eol()&&o.pos<=t.options.maxHighlightLength;)r.token(o,n),o.start=o.pos}function Qi(t,e){if(!t)return null;for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;
t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}if(/^\s*$/.test(t))return null;var r=e.cm.options.addModeClass?Ts:Cs;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Xi(t,e){var n=Yr("span",null,null,To?"padding-right: .1px":null),i={pre:Yr("pre",[n]),content:n,col:0,pos:0,cm:t};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=Zi,(Co||To)&&t.getOption("lineWrapping")&&(i.addToken=Ji(i.addToken)),ro(t.display.measure)&&(o=gr(s))&&(i.addToken=tr(i.addToken,o)),i.map=[],nr(s,i,Gi(t,s)),0==i.map.length&&i.map.push(0,0,i.content.appendChild(io(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return Ds(t,"renderLine",t,e.line,i.pre),i}function Yi(t){var e=Yr("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e}function Zi(t,e,n,i,r,o){if(e){var s=t.cm.options.specialChars,a=!1;if(s.test(e))for(var l=document.createDocumentFragment(),u=0;;){s.lastIndex=u;var c=s.exec(e),h=c?c.index-u:e.length-u;if(h){var d=document.createTextNode(e.slice(u,u+h));l.appendChild(_o?Yr("span",[d]):d),t.map.push(t.pos,t.pos+h,d),t.col+=h,t.pos+=h}if(!c)break;if(u+=h+1,"	"==c[0]){var p=t.cm.options.tabSize,f=p-t.col%p,d=l.appendChild(Yr("span",Br(f),"cm-tab"));t.col+=f}else{var d=t.cm.options.specialCharPlaceholder(c[0]);l.appendChild(_o?Yr("span",[d]):d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var l=document.createTextNode(e);t.map.push(t.pos,t.pos+e.length,l),_o&&(a=!0),t.pos+=e.length}if(n||i||r||a){var m=n||"";i&&(m+=i),r&&(m+=r);var g=Yr("span",[l],m);return o&&(g.title=o),t.content.appendChild(g)}t.content.appendChild(l)}}function Ji(t){function e(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"\xa0";return e+=" "}return function(n,i,r,o,s,a){t(n,i.replace(/ {3,}/g,e),r,o,s,a)}}function tr(t,e){return function(n,i,r,o,s,a){r=r?r+" cm-force-border":"cm-force-border";for(var l=n.pos,u=l+i.length;;){for(var c=0;c<e.length;c++){var h=e[c];if(h.to>l&&h.from<=l)break}if(h.to>=u)return t(n,i,r,o,s,a);t(n,i.slice(0,h.to-l),r,o,null,a),o=null,i=i.slice(h.to-l),l=h.to}}}function er(t,e,n,i){var r=!i&&n.widgetNode;r&&(t.map.push(t.pos,t.pos+e,r),t.content.appendChild(r)),t.pos+=e}function nr(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,u,c,h,d=r.length,p=0,f=1,m="",g=0;;){if(g==p){a=l=u=c="",h=null,g=1/0;for(var v=[],y=0;y<i.length;++y){var b=i[y],w=b.marker;b.from<=p&&(null==b.to||b.to>p)?(null!=b.to&&g>b.to&&(g=b.to,l=""),w.className&&(a+=" "+w.className),w.startStyle&&b.from==p&&(u+=" "+w.startStyle),w.endStyle&&b.to==g&&(l+=" "+w.endStyle),w.title&&!c&&(c=w.title),w.collapsed&&(!h||$i(h.marker,w)<0)&&(h=b)):b.from>p&&g>b.from&&(g=b.from),"bookmark"==w.type&&b.from==p&&w.widgetNode&&v.push(w)}if(h&&(h.from||0)==p&&(er(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to))return;if(!h&&v.length)for(var y=0;y<v.length;++y)er(e,0,v[y])}if(p>=d)break;for(var _=Math.min(d,g);;){if(m){var k=p+m.length;if(!h){var x=k>_?m.slice(0,_-p):m;e.addToken(e,x,s?s+a:a,u,p+x.length==g?l:"",c)}if(k>=_){m=m.slice(_-p),p=_;break}p=k,u=""}m=r.slice(o,o=n[f++]),s=Qi(n[f++],e)}}else for(var f=1;f<n.length;f+=2)e.addToken(e,r.slice(o,o=n[f]),Qi(n[f+1],e))}function ir(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Rr(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function rr(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){Ri(t,n,r,i),Nr(t,"change",t,e)}var s=e.from,a=e.to,l=e.text,u=ur(t,s.line),c=ur(t,a.line),h=Rr(l),d=r(l.length-1),p=a.line-s.line;if(ir(t,e)){for(var f=0,m=[];f<l.length-1;++f)m.push(new xs(l[f],r(f),i));o(c,c.text,d),p&&t.remove(s.line,p),m.length&&t.insert(s.line,m)}else if(u==c)if(1==l.length)o(u,u.text.slice(0,s.ch)+h+u.text.slice(a.ch),d);else{for(var m=[],f=1;f<l.length-1;++f)m.push(new xs(l[f],r(f),i));m.push(new xs(h+u.text.slice(a.ch),d,i)),o(u,u.text.slice(0,s.ch)+l[0],r(0)),t.insert(s.line+1,m)}else if(1==l.length)o(u,u.text.slice(0,s.ch)+l[0]+c.text.slice(a.ch),r(0)),t.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+l[0],r(0)),o(c,h+c.text.slice(a.ch),d);for(var f=1,m=[];f<l.length-1;++f)m.push(new xs(l[f],r(f),i));p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,m)}Nr(t,"change",t,e)}function or(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function sr(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function ar(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function lr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),n(t),t.options.lineWrapping||d(t),t.options.mode=e.modeOption,tn(t)}function ur(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>e){n=r;break}e-=o}return n.lines[e]}function cr(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function hr(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function dr(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function pr(t){if(null==t.parent)return null;for(var e=t.parent,n=qr(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function fr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(o>e){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var i=0;i<t.lines.length;++i){var s=t.lines[i],a=s.height;if(a>e)break;e-=a}return n+i}function mr(t){t=Ai(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;e+=s.height}return e}function gr(t){var e=t.order;return null==e&&(e=t.order=oa(t.text)),e}function vr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function yr(t,e){var n={from:W(e.from),to:ns(e),text:cr(t,e.from,e.to)};return Tr(t,n,e.from.line,e.to.line+1),ar(t,function(t){Tr(t,n,e.from.line,e.to.line+1)},!0),n}function br(t){for(;t.length;){var e=Rr(t);if(!e.ranges)break;t.pop()}}function wr(t,e){return e?(br(t.done),Rr(t.done)):t.done.length&&!Rr(t.done).ranges?Rr(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Rr(t.done)):void 0}function _r(t,e,n,i){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=wr(r,r.lastOp==i))){var a=Rr(o.changes);0==qo(e.from,e.to)&&0==qo(e.from,a.to)?a.to=ns(e):o.changes.push(yr(t,e))}else{var l=Rr(r.done);for(l&&l.ranges||Cr(t.sel,r.done),o={changes:[yr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||Ds(t,"historyAdded")}function kr(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function xr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||kr(t,o,Rr(r.done),e))?r.done[r.done.length-1]=e:Cr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastOp=n,i&&i.clearRedo!==!1&&br(r.undone)}function Cr(t,e){var n=Rr(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Tr(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function Sr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Er(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(Sr(n[i]));return r}function Mr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?q.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&qr(e,Number(u[1]))>-1&&(Rr(a)[h]=c[h],delete c[h])}}}return r}function $r(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function jr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)$r(o.ranges[a].anchor,e,n,i),$r(o.ranges[a].head,e,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Ro(l.from.line+i,l.from.ch),l.to=Ro(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function Pr(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;jr(t.done,n,i,r),jr(t.undone,n,i,r)}function Fr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Lr(t){return t.target||t.srcElement}function Ar(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Do&&t.ctrlKey&&1==e&&(e=3),e}function Nr(t,e){function n(t){return function(){t.apply(null,r)}}var i=t._handlers&&t._handlers[e];if(i){var r=Array.prototype.slice.call(arguments,2);js||(++Is,js=[],setTimeout(Dr,0));for(var o=0;o<i.length;++o)js.push(n(i[o]))}}function Dr(){--Is;var t=js;js=null;for(var e=0;e<t.length;++e)t[e]()}function Ir(t,e,n){return Ds(t,n||e.type,t,e),Fr(e)||e.codemirrorIgnore}function Or(t,e){var n=t._handlers&&t._handlers[e];return n&&n.length>0}function zr(t){t.prototype.on=function(t,e){As(this,t,e)},t.prototype.off=function(t,e){Ns(this,t,e)}}function Hr(){this.id=null}function Wr(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("	",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=e)return i}}function Br(t){for(;qs.length<=t;)qs.push(Rr(qs)+" ");return qs[t]}function Rr(t){return t[t.length-1]}function qr(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Vr(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Ur(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&Gr(e,n),n}function Gr(t,e){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Kr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Qr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Xr(t){return t.charCodeAt(0)>=768&&Qs.test(t)}function Yr(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function Zr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Jr(t,e){return Zr(t).appendChild(e)}function to(t,e){if(t.contains)return t.contains(e);for(;e=e.parentNode;)if(e==t)return!0}function eo(){return document.activeElement}function no(t){if(null!=Xs)return Xs;var e=Yr("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Jr(t,e),e.offsetWidth&&(Xs=e.offsetHeight-e.clientHeight),Xs||0}function io(t){if(null==Ys){var e=Yr("span","\u200b");Jr(t,Yr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ys=e.offsetWidth<=1&&e.offsetHeight>2&&!wo)}return Ys?Yr("span","\u200b"):Yr("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function ro(t){if(null!=Zs)return Zs;var e=Jr(t,document.createTextNode("A\u062eA")),n=Us(e,0,1).getBoundingClientRect();if(n.left==n.right)return!1;var i=Us(e,1,2).getBoundingClientRect();return Zs=i.right-n.right<3}function oo(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function so(t){return t.level%2?t.to:t.from}function ao(t){return t.level%2?t.from:t.to}function lo(t){var e=gr(t);return e?so(e[0]):0}function uo(t){var e=gr(t);return e?ao(Rr(e)):t.text.length}function co(t,e){var n=ur(t.doc,e),i=Ai(n);i!=n&&(e=pr(i));var r=gr(i),o=r?r[0].level%2?uo(i):lo(i):0;return Ro(e,o)}function ho(t,e){for(var n,i=ur(t.doc,e);n=Fi(i);)i=n.find(1,!0).line,e=null;var r=gr(i),o=r?r[0].level%2?lo(i):uo(i):i.text.length;return Ro(null==e?pr(i):e,o)}function po(t,e,n){var i=t[0].level;return e==i?!0:n==i?!1:n>e}function fo(t,e){ra=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return po(t,r.level,t[n].level)?(r.from!=r.to&&(ra=n),i):(r.from!=r.to&&(ra=i),n);n=i}}return n}function mo(t,e,n,i){if(!i)return e+n;do e+=n;while(e>0&&Xr(t.text.charAt(e)));return e}function go(t,e,n,i){var r=gr(t);if(!r)return vo(t,e,n,i);for(var o=fo(r,e),s=r[o],a=mo(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return fo(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?mo(t,s.to,-1,i):mo(t,s.from,1,i)}}function vo(t,e,n,i){var r=e+n;if(i)for(;r>0&&Xr(t.text.charAt(r));)r+=n;return 0>r||r>t.text.length?null:r}var yo=/gecko\/\d/i.test(navigator.userAgent),bo=/MSIE \d/.test(navigator.userAgent),wo=bo&&(null==document.documentMode||document.documentMode<8),_o=bo&&(null==document.documentMode||document.documentMode<9),ko=bo&&(null==document.documentMode||document.documentMode<10),xo=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Co=bo||xo,To=/WebKit\//.test(navigator.userAgent),So=To&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Eo=/Chrome\//.test(navigator.userAgent),Mo=/Opera\//.test(navigator.userAgent),$o=/Apple Computer/.test(navigator.vendor),jo=/KHTML\//.test(navigator.userAgent),Po=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Fo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Lo=/PhantomJS/.test(navigator.userAgent),Ao=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),No=Ao||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Do=Ao||/Mac/.test(navigator.platform),Io=/win/i.test(navigator.platform),Oo=Mo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Oo&&(Oo=Number(Oo[1])),Oo&&Oo>=15&&(Mo=!1,To=!0);var zo=Do&&(So||Mo&&(null==Oo||12.11>Oo)),Ho=yo||Co&&!_o,Wo=!1,Bo=!1,Ro=t.Pos=function(t,e){return this instanceof Ro?(this.line=t,void(this.ch=e)):new Ro(t,e)},qo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch};q.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=qo(n.anchor,i.anchor)||0!=qo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new V(W(this.ranges[e].anchor),W(this.ranges[e].head));return new q(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(qo(e,i.from())>=0&&qo(t,i.to())<=0)return n}return-1}},V.prototype={from:function(){return R(this.anchor,this.head)},to:function(){return B(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Vo,Uo,Go,Ko={left:0,right:0,top:0,bottom:0},Qo=0,Xo=0,Yo=0,Zo=null;Co?Zo=-.53:yo?Zo=15:Eo?Zo=-.7:$o&&(Zo=-1/3);var Jo,ts,es=null,ns=t.changeEnd=function(t){return t.text?Ro(t.from.line+t.text.length-1,Rr(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),dn(this),un(this)},setOption:function(t,e){var n=this.options,i=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,rs.hasOwnProperty(t)&&Qe(this,rs[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||"string"!=typeof e[n]&&e[n].name==t)return e.splice(n,1),!0},addOverlay:Xe(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,tn(this)}),removeOverlay:Xe(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void tn(this)}}),indentLine:Xe(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Y(this.doc,t)&&oi(this,t,e,n)}),indentSelection:Xe(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(oi(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&ii(this));else{var o=Math.max(n,r.from().line),s=r.to();n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var a=o;n>a;++a)oi(this,a,t)}}}),getTokenAt:function(t,e){var n=this.doc;t=Q(n,t);for(var i=be(this,t.line,e),r=this.doc.mode,o=ur(n,t.line),s=new ys(o.text,this.options.tabSize);s.pos<t.ch&&!s.eol();){s.start=s.pos;var a=r.token(s,i)}return{start:s.start,end:s.pos,string:s.current(),type:a||null,state:i}},getTokenTypeAt:function(t){t=Q(this.doc,t);var e=Gi(this,ur(this.doc,t.line)),n=0,i=(e.length-1)/2,r=t.ch;if(0==r)return e[2];for(;;){var o=n+i>>1;if((o?e[2*o-1]:0)>=r)i=o;else{if(!(e[2*o+1]<r))return e[2*o+2];n=o+1}}},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!cs.hasOwnProperty(e))return cs;var i=cs[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=i[r[e][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==qr(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=K(n,null==t?n.first+n.size-1:t),be(this,t+1,e)},cursorCoords:function(t,e){var n,i=this.doc.sel.primary();return n=null==t?i.head:"object"==typeof t?Q(this.doc,t):t?i.from():i.to(),ze(this,n,e||"page")},charCoords:function(t,e){return Oe(this,Q(this.doc,t),e||"page")},coordsChar:function(t,e){return t=Ie(this,t,e||"page"),Be(this,t.left,t.top)},lineAtHeight:function(t,e){return t=Ie(this,{top:t,left:0},e||"page").top,fr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n=!1,i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,n=!0);var r=ur(this.doc,t);return De(this,r,{top:0,left:0},e||"page").top+(n?this.doc.height-mr(r):0)},defaultTextHeight:function(){return qe(this.display)},defaultCharWidth:function(){return Ve(this.display)},setGutterMarker:Xe(function(t,e,n){return si(this,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&Qr(i)&&(t.gutterMarkers=null),!0})}),clearGutter:Xe(function(t){var e=this,n=e.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,en(e,i,"gutter"),Qr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),addLineClass:Xe(function(t,e,n){return si(this,t,"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[i]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:Xe(function(t,e,n){return si(this,t,"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Xe(function(t,e,n){return Bi(this,t,e,n)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!Y(this.doc,t))return null;var e=t;if(t=ur(this.doc,t),!t)return null}else{var e=pr(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display;t=ze(this,Q(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>u&&(a=u-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&ti(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Xe(Ln),triggerOnKeyPress:Xe(Nn),triggerOnKeyUp:Xe(An),execCommand:function(t){return ps.hasOwnProperty(t)?ps[t](this):void 0},findPosH:function(t,e,n,i){var r=1;0>e&&(r=-1,e=-e);for(var o=0,s=Q(this.doc,t);e>o&&(s=li(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Xe(function(t,e){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?li(n.doc,i.head,t,e,n.options.rtlMoveVisually):0>t?i.from():i.to()},Bs)}),deleteH:Xe(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):ai(this,function(n){var r=li(i,n.head,t,e,!1);return 0>t?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,i){var r=1,o=i;0>e&&(r=-1,e=-e);for(var s=0,a=Q(this.doc,t);e>s;++s){var l=ze(this,a,"div");if(null==o?o=l.left:l.left=o,a=ui(this,l,r,n),a.hitSide)break}return a},moveV:Xe(function(t,e){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>t?s.from():s.to();var a=ze(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=ui(n,a,t,e);return"page"==e&&s==i.sel.primary()&&ni(n,null,Oe(n,l,"div").top-a.top),l},Bs),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursorDiv.className+=" CodeMirror-overwrite":this.display.cursorDiv.className=this.display.cursorDiv.className.replace(" CodeMirror-overwrite",""),Ds(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return eo()==this.display.input},scrollTo:Xe(function(t,e){(null!=t||null!=e)&&ri(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller,e=Os;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:Xe(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ro(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)ri(this),this.curOp.scrollToPos=t;else{var n=ei(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Xe(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&Fe(this),this.curOp.forceUpdate=!0,Ds(this,"refresh",this)}),operation:function(t){return Ke(this,t)},refresh:Xe(function(){var t=this.display.cachedTextHeight;tn(this),Le(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),(null==t||Math.abs(t-qe(this.display))>.5)&&s(this),Ds(this,"refresh",this)}),swapDoc:Xe(function(t){var e=this.doc;return e.cm=null,lr(this,t),Le(this),hn(this),this.scrollTo(t.scrollLeft,t.scrollTop),Nr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},zr(t);var is=t.defaults={},rs=t.optionHandlers={},os=t.Init={toString:function(){return"CodeMirror.Init"}};hi("value","",function(t,e){t.setValue(e)},!0),hi("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),hi("indentUnit",2,n,!0),hi("indentWithTabs",!1),hi("smartIndent",!0),hi("tabSize",4,function(t){i(t),Le(t),tn(t)},!0),hi("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(t,e){t.options.specialChars=new RegExp(e.source+(e.test("	")?"":"|	"),"g"),t.refresh()},!0),hi("specialCharPlaceholder",Yi,function(t){t.refresh()},!0),hi("electricChars",!0),hi("rtlMoveVisually",!Io),hi("wholeLineUpdateBefore",!0),hi("theme","default",function(t){l(t),u(t)},!0),hi("keyMap","default",a),hi("extraKeys",null),hi("lineWrapping",!1,r,!0),hi("gutters",[],function(t){p(t.options),u(t)},!0),hi("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?w(t.display)+"px":"0",t.refresh()},!0),hi("coverGutterNextToScrollbar",!1,m,!0),hi("lineNumbers",!1,function(t){p(t.options),u(t)},!0),hi("firstLineNumber",1,u,!0),hi("lineNumberFormatter",function(t){return t},u,!0),hi("showCursorWhenSelecting",!1,de,!0),hi("resetSelectionOnContextMenu",!0),hi("readOnly",!1,function(t,e){"nocursor"==e?(In(t),t.display.input.blur(),t.display.disabled=!0):(t.display.disabled=!1,e||hn(t))}),hi("disableInput",!1,function(t,e){e||hn(t)},!0),hi("dragDrop",!0),hi("cursorBlinkRate",530),hi("cursorScrollMargin",0),hi("cursorHeight",1),hi("workTime",100),hi("workDelay",100),hi("flattenSpans",!0,i,!0),hi("addModeClass",!1,i,!0),hi("pollInterval",100),hi("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),hi("historyEventDelay",1250),hi("viewportMargin",10,function(t){t.refresh()},!0),hi("maxHighlightLength",1e4,i,!0),hi("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),hi("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),hi("autofocus",null);var ss=t.modes={},as=t.mimeModes={};t.defineMode=function(e,n){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){n.dependencies=[];for(var i=2;i<arguments.length;++i)n.dependencies.push(arguments[i])}ss[e]=n},t.defineMIME=function(t,e){as[t]=e},t.resolveMode=function(e){if("string"==typeof e&&as.hasOwnProperty(e))e=as[e];else if(e&&"string"==typeof e.name&&as.hasOwnProperty(e.name)){var n=as[e.name];"string"==typeof n&&(n={name:n}),e=Ur(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),i=ss[n.name];if(!i)return t.getMode(e,"text/plain");var r=i(e,n);if(ls.hasOwnProperty(n.name)){var o=ls[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ls=t.modeExtensions={};t.extendMode=function(t,e){var n=ls.hasOwnProperty(t)?ls[t]:ls[t]={};Gr(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){Es.prototype[t]=e},t.defineOption=hi;var us=[];t.defineInitHook=function(t){us.push(t)};var cs=t.helpers={};t.registerHelper=function(e,n,i){cs.hasOwnProperty(e)||(cs[e]=t[e]={_global:[]}),cs[e][n]=i},t.registerGlobalHelper=function(e,n,i,r){t.registerHelper(e,n,r),cs[e]._global.push({pred:i,val:r})};var hs=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},ds=t.startState=function(t,e,n){return t.startState?t.startState(e,n):!0};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ps=t.commands={selectAll:function(t){t.setSelection(Ro(t.firstLine(),0),Ro(t.lastLine()),Hs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Hs)},killLine:function(t){ai(t,function(e){if(e.empty()){var n=ur(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Ro(e.head.line+1,0)}:{from:e.head,to:Ro(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){ai(t,function(e){return{from:Ro(e.from().line,0),to:Q(t.doc,Ro(e.to().line+1,0))}})},delLineLeft:function(t){ai(t,function(t){return{from:Ro(t.from().line,0),to:t.from()}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ro(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ro(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return co(t,e.head.line)},Bs)},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){var n=co(t,e.head.line),i=t.getLineHandle(n.line),r=gr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.head.line==n.line&&e.head.ch<=o&&e.head.ch;return Ro(n.line,s?0:o)}return n},Bs)},goLineEnd:function(t){t.extendSelectionsBy(function(e){return ho(t,e.head.line)},Bs)},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Bs)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Bs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Ke(t,function(){for(var e=t.listSelections(),n=0;n<e.length;n++){var i=e[n].head,r=ur(t.doc,i.line).text;i.ch>0&&i.ch<r.length-1&&t.replaceRange(r.charAt(i.ch)+r.charAt(i.ch-1),Ro(i.line,i.ch-1),Ro(i.line,i.ch+1))}})},newlineAndIndent:function(t){Ke(t,function(){for(var e=t.listSelections().length,n=0;e>n;n++){var i=t.listSelections()[n];t.replaceRange("\n",i.anchor,i.head,"+input"),t.indentLine(i.from().line+1,null,!0),ii(t)}})},toggleOverwrite:function(t){t.toggleOverwrite()}},fs=t.keyMap={};fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},fs["default"]=Do?fs.macDefault:fs.pcDefault;
var ms=t.lookupKey=function(t,e,n){function i(e){e=di(e);var r=e[t];if(r===!1)return"stop";if(null!=r&&n(r))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return i(o);for(var s=0;s<o.length;++s){var a=i(o[s]);if(a)return a}return!1}for(var r=0;r<e.length;++r){var o=i(e[r]);if(o)return"stop"!=o}},gs=t.isModifierKey=function(t){var e=ia[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},vs=t.keyName=function(t,e){if(Mo&&34==t.keyCode&&t["char"])return!1;var n=ia[t.keyCode];return null==n||t.altGraphKey?!1:(t.altKey&&(n="Alt-"+n),(zo?t.metaKey:t.ctrlKey)&&(n="Ctrl-"+n),(zo?t.ctrlKey:t.metaKey)&&(n="Cmd-"+n),!e&&t.shiftKey&&(n="Shift-"+n),n)};t.fromTextArea=function(e,n){function i(){e.value=u.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=eo();n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(As(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return u.save=i,u.getTextArea=function(){return e},u.toTextArea=function(){i(),e.parentNode.removeChild(u.getWrapperElement()),e.style.display="",e.form&&(Ns(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=s))},u};var ys=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ys.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Rs(this.string,null,this.tabSize)-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&e!==!1&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return r(o)==r(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var bs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t};zr(bs),bs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Ue(t),Or(this,"clear")){var n=this.find();n&&Nr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=gi(s.markedSpans,this);t&&!this.collapsed?en(t,pr(s),"text"):t&&(null!=a.to&&(r=pr(s)),null!=a.from&&(i=pr(s))),s.markedSpans=vi(s.markedSpans,a),null==a.from&&this.collapsed&&!Oi(this.doc,s)&&t&&dr(s,qe(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Ai(this.lines[o]),u=h(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&tn(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ue(t.doc)),t&&Nr(t,"markerCleared",t,this),e&&Ge(t)}},bs.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=gi(o.markedSpans,this);if(null!=s.from&&(n=Ro(e?o:pr(o),s.from),-1==t))return n;if(null!=s.to&&(i=Ro(e?o:pr(o),s.to),1==t))return i}return n&&{from:n,to:i}},bs.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Ke(n,function(){var i=t.line,r=pr(t.line),o=Ee(n,r);if(o&&(Pe(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Oi(e.doc,i)&&null!=e.height){var s=e.height;e.height=null;var a=Wi(e)-s;a&&dr(i,i.height+a)}})},bs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=qr(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},bs.prototype.detachLine=function(t){if(this.lines.splice(qr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ws=0,_s=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0,i=this;n<t.length;++n)t[n].parent=this,As(t[n],"clear",function(){i.clear()})};zr(_s),_s.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Nr(this,"clear")}},_s.prototype.find=function(t,e){return this.primary.find(t,e)};var ks=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.cm=t,this.node=e};zr(ks),ks.prototype.clear=function(){var t=this.cm,e=this.line.widgets,n=this.line,i=pr(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Wi(this);Ke(t,function(){Hi(t,n,-o),en(t,i,"widget"),dr(n,Math.max(0,n.height-o))})}},ks.prototype.changed=function(){var t=this.height,e=this.cm,n=this.line;this.height=null;var i=Wi(this)-t;i&&Ke(e,function(){e.curOp.forceUpdate=!0,Hi(e,n,i),dr(n,n.height+i)})};var xs=t.Line=function(t,e,n){this.text=t,Si(this,e),this.height=n?n(this):1};zr(xs),xs.prototype.lineNo=function(){return pr(this)};var Cs={},Ts={};or.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;i>n;++n){var r=this.lines[n];this.height-=r.height,qi(r),Nr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;i>t;++t)if(n(this.lines[t]))return!0}},sr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>t){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof or))){var a=[];this.collapse(a),this.children=[new or(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=t){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new or(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new sr(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=qr(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new sr(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>t){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Ss=0,Es=t.Doc=function(t,e,n){if(!(this instanceof Es))return new Es(t,e,n);null==n&&(n=0),sr.call(this,[new or([new xs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Ro(n,0);this.sel=G(i),this.history=new vr(null),this.id=++Ss,this.modeOption=e,"string"==typeof t&&(t=ta(t)),rr(this,{from:i,to:i,text:t}),se(this,G(i),Hs)};Es.prototype=Ur(sr.prototype,{constructor:Es,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=hr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:Ye(function(t){var e=Ro(this.first,0),n=this.first+this.size-1;Vn(this,{from:e,to:Ro(n,ur(this,n).text.length),text:ta(t),origin:"setValue"},!0),se(this,G(e))}),replaceRange:function(t,e,n,i){e=Q(this,e),n=n?Q(this,n):e,Yn(this,t,e,n,i)},getRange:function(t,e,n){var i=cr(this,Q(this,t),Q(this,e));return n===!1?i:i.join(n||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return Y(this,t)?ur(this,t):void 0},getLineNumber:function(t){return pr(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=ur(this,t)),Ai(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Q(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ye(function(t,e,n){ie(this,Q(this,"number"==typeof t?Ro(t,e||0):t),null,n)}),setSelection:Ye(function(t,e,n){ie(this,Q(this,t),Q(this,e||t),n)}),extendSelection:Ye(function(t,e,n){te(this,Q(this,t),e&&Q(this,e),n)}),extendSelections:Ye(function(t,e){ee(this,Z(this,t,e))}),extendSelectionsBy:Ye(function(t,e){ee(this,Vr(this.sel.ranges,t),e)}),setSelections:Ye(function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new V(Q(this,t[i].anchor),Q(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),se(this,U(r,e),n)}}),addSelection:Ye(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new V(Q(this,t),Q(this,e||t))),se(this,U(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=cr(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return t===!1?e:e.join(t||"\n")},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=cr(this,n[i].from(),n[i].to());t!==!1&&(r=r.join(t||"\n")),e[i]=r}return e},replaceSelection:Ye(function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")}),replaceSelections:function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:ta(t[o]),origin:n}}for(var a=e&&"end"!=e&&Rn(this,i,e),o=i.length-1;o>=0;o--)Vn(this,i[o]);a?oe(this,a):this.cm&&ii(this.cm)},undo:Ye(function(){Gn(this,"undo")}),redo:Ye(function(){Gn(this,"redo")}),undoSelection:Ye(function(){Gn(this,"undo",!0)}),redoSelection:Ye(function(){Gn(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new vr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Mr(this.history.done),undone:Mr(this.history.undone)}},setHistory:function(t){var e=this.history=new vr(this.history.maxGeneration);e.done=Mr(t.done.slice(0),null,!0),e.undone=Mr(t.undone.slice(0),null,!0)},markText:function(t,e,n){return pi(this,Q(this,t),Q(this,e),n,"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared};return t=Q(this,t),pi(this,t,t,n,"bookmark")},findMarksAt:function(t){t=Q(this,t);var e=[],n=ur(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e){t=Q(this,t),e=Q(this,e);var n=[],i=t.line;return this.iter(t.line,e.line+1,function(r){var o=r.markedSpans;if(o)for(var s=0;s<o.length;s++){var a=o[s];i==t.line&&t.ch>a.to||null==a.from&&i!=t.line||i==e.line&&a.from>e.ch||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>t?(e=t,!0):(t-=r,void++n)}),Q(this,Ro(n,e))},indexFromPos:function(t){t=Q(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new Es(hr(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Es(hr(this,e,n),t.mode||this.modeOption,e);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==e){this.linked.splice(n,1),e.unlinkDoc(this);break}}if(e.history==this.history){var r=[e.id];ar(e,function(t){r.push(t.id)},!0),e.history=new vr(null),e.history.done=Mr(this.history.done,r),e.history.undone=Mr(this.history.undone,r)}},iterLinkedDocs:function(t){ar(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Es.prototype.eachLine=Es.prototype.iter;var Ms="iter insert remove copy getEditor".split(" ");for(var $s in Es.prototype)Es.prototype.hasOwnProperty($s)&&qr(Ms,$s)<0&&(t.prototype[$s]=function(t){return function(){return t.apply(this.doc,arguments)}}(Es.prototype[$s]));zr(Es);var js,Ps=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Fs=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ls=t.e_stop=function(t){Ps(t),Fs(t)},As=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={}),r=i[e]||(i[e]=[]);r.push(n)}},Ns=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers&&t._handlers[e];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Ds=t.signal=function(t,e){var n=t._handlers&&t._handlers[e];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Is=0,Os=30,zs=t.Pass={toString:function(){return"CodeMirror.Pass"}},Hs={scroll:!1},Ws={origin:"*mouse"},Bs={origin:"+move"};Hr.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Rs=t.countColumn=function(t,e,n,i,r){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=i||0,s=r||0;;){var a=t.indexOf("	",o);if(0>a||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}},qs=[""],Vs=function(t){t.select()};Ao?Vs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:Co&&(Vs=function(t){try{t.select()}catch(e){}}),[].indexOf&&(qr=function(t,e){return t.indexOf(e)}),[].map&&(Vr=function(t,e){return t.map(e)});var Us,Gs=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ks=t.isWordChar=function(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||Gs.test(t))},Qs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Us=document.createRange?function(t,e,n){var i=document.createRange();return i.setEnd(t,n),i.setStart(t,e),i}:function(t,e,n){var i=document.body.createTextRange();return i.moveToElementText(t.parentNode),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i},bo&&(eo=function(){try{return document.activeElement}catch(t){return document.body}});var Xs,Ys,Zs,Js=function(){if(_o)return!1;var t=Yr("div");return"draggable"in t||"dragDrop"in t}(),ta=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;i>=e;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ea=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},na=function(){var t=Yr("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),ia={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};t.keyNames=ia,function(){for(var t=0;10>t;t++)ia[t+48]=ia[t+96]=String(t);for(var t=65;90>=t;t++)ia[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)ia[t+111]=ia[t+63235]="F"+t}();var ra,oa=function(){function t(t){return 247>=t?n.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?i.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!r.test(n))return!1;for(var i,c=n.length,h=[],d=0;c>d;++d)h.push(i=t(n.charCodeAt(d)));for(var d=0,p=u;c>d;++d){var i=h[d];"m"==i?h[d]=p:p=i}for(var d=0,f=u;c>d;++d){var i=h[d];"1"==i&&"r"==f?h[d]="n":s.test(i)&&(f=i,"r"==i&&(h[d]="R"))}for(var d=1,p=h[0];c-1>d;++d){var i=h[d];"+"==i&&"1"==p&&"1"==h[d+1]?h[d]="1":","!=i||p!=h[d+1]||"1"!=p&&"n"!=p||(h[d]=p),p=i}for(var d=0;c>d;++d){var i=h[d];if(","==i)h[d]="N";else if("%"==i){for(var m=d+1;c>m&&"%"==h[m];++m);for(var g=d&&"!"==h[d-1]||c>m&&"1"==h[m]?"1":"N",v=d;m>v;++v)h[v]=g;d=m-1}}for(var d=0,f=u;c>d;++d){var i=h[d];"L"==f&&"1"==i?h[d]="L":s.test(i)&&(f=i)}for(var d=0;c>d;++d)if(o.test(h[d])){for(var m=d+1;c>m&&o.test(h[m]);++m);for(var y="L"==(d?h[d-1]:u),b="L"==(c>m?h[m]:u),g=y||b?"L":"R",v=d;m>v;++v)h[v]=g;d=m-1}for(var w,_=[],d=0;c>d;)if(a.test(h[d])){var k=d;for(++d;c>d&&a.test(h[d]);++d);_.push(new e(0,k,d))}else{var x=d,C=_.length;for(++d;c>d&&"L"!=h[d];++d);for(var v=x;d>v;)if(l.test(h[v])){v>x&&_.splice(C,0,new e(1,x,v));var T=v;for(++v;d>v&&l.test(h[v]);++v);_.splice(C,0,new e(2,T,v)),x=v}else++v;d>x&&_.splice(C,0,new e(1,x,d))}return 1==_[0].level&&(w=n.match(/^\s+/))&&(_[0].from=w[0].length,_.unshift(new e(0,0,w[0].length))),1==Rr(_).level&&(w=n.match(/\s+$/))&&(Rr(_).to-=w[0].length,_.push(new e(0,c-w[0].length,c))),_[0].level!=Rr(_).level&&_.push(new e(_[0].level,c,c)),_}}();return t.version="4.0.3",t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("clike",function(e,n){function i(t,e){var n=t.next();if(v[n]){var i=v[n](t,e);if(i!==!1)return i}if('"'==n||"'"==n)return e.tokenize=r(n),e.tokenize(t,e);if(/[\[\]{}\(\),;\:\.]/.test(n))return u=n,null;if(/\d/.test(n))return t.eatWhile(/[\w\.]/),"number";if("/"==n){if(t.eat("*"))return e.tokenize=o,o(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(b.test(n))return t.eatWhile(b),"operator";t.eatWhile(/[\w\$_]/);var s=t.current();return p.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(u="newstatement"),"keyword"):f.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(u="newstatement"),"builtin"):g.propertyIsEnumerable(s)?"atom":"variable"}function r(t){return function(e,n){for(var i,r=!1,o=!1;null!=(i=e.next());){if(i==t&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!y)&&(n.tokenize=null),"string"}}function o(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=null;break}i="*"==n}return"comment"}function s(t,e,n,i,r){this.indented=t,this.column=e,this.type=n,this.align=i,this.prev=r}function a(t,e,n){var i=t.indented;return t.context&&"statement"==t.context.type&&(i=t.context.indented),t.context=new s(i,e,n,null,t.context)}function l(t){var e=t.context.type;return(")"==e||"]"==e||"}"==e)&&(t.indented=t.context.indented),t.context=t.context.prev}var u,c=e.indentUnit,h=n.statementIndentUnit||c,d=n.dontAlignCalls,p=n.keywords||{},f=n.builtin||{},m=n.blockKeywords||{},g=n.atoms||{},v=n.hooks||{},y=n.multiLineStrings,b=/[+\-*&%=<>!?|\/]/;return{startState:function(t){return{tokenize:null,context:new s((t||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(t,e){var n=e.context;if(t.sol()&&(null==n.align&&(n.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return null;u=null;var r=(e.tokenize||i)(t,e);if("comment"==r||"meta"==r)return r;if(null==n.align&&(n.align=!0),";"!=u&&":"!=u&&","!=u||"statement"!=n.type)if("{"==u)a(e,t.column(),"}");else if("["==u)a(e,t.column(),"]");else if("("==u)a(e,t.column(),")");else if("}"==u){for(;"statement"==n.type;)n=l(e);for("}"==n.type&&(n=l(e));"statement"==n.type;)n=l(e)}else u==n.type?l(e):(("}"==n.type||"top"==n.type)&&";"!=u||"statement"==n.type&&"newstatement"==u)&&a(e,t.column(),"statement");else l(e);return e.startOfLine=!1,r},indent:function(e,n){if(e.tokenize!=i&&null!=e.tokenize)return t.Pass;var r=e.context,o=n&&n.charAt(0);"statement"==r.type&&"}"==o&&(r=r.prev);var s=o==r.type;return"statement"==r.type?r.indented+("{"==o?0:h):!r.align||d&&")"==r.type?")"!=r.type||s?r.indented+(s?0:c):r.indented+h:r.column+(s?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),function(){function e(t){for(var e={},n=t.split(" "),i=0;i<n.length;++i)e[n[i]]=!0;return e}function n(t,e){if(!e.startOfLine)return!1;for(;;){if(!t.skipTo("\\")){t.skipToEnd(),e.tokenize=null;break}if(t.next(),t.eol()){e.tokenize=n;break}}return"meta"}function i(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var n=t.match(/"(.{0,16})\(/);return n?(e.cpp11RawStringDelim=n[1],e.tokenize=o,o(t,e)):!1}return t.match(/(u8|u|U|L)/)?t.match(/["']/,!1)?"string":!1:(t.next(),!1)}function r(t,e){for(var n;null!=(n=t.next());)if('"'==n&&!t.eat('"')){e.tokenize=null;break}return"string"}function o(t,e){var n=new RegExp(".*?\\)"+e.cpp11RawStringDelim+'"'),i=t.match(n);return i?e.tokenize=null:t.skipToEnd(),"string"}function s(e,n){function i(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}var r=[];i(n.keywords),i(n.builtin),i(n.atoms),r.length&&(n.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],n)}var a="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";s(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(a),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),s(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(a+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":n,u:i,U:i,L:i,R:i},modeProps:{fold:["brace","include"]}}),t.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),t.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=r,r(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),t.defineMIME("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"}}}),s(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:e("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:e("for while do if else struct"),builtin:e("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:e("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}})
}()}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=!0;return e}function n(t,e){for(var n,i=!1;null!=(n=t.next());){if(i&&"/"==n){e.tokenize=null;break}i="*"==n}return["comment","comment"]}function i(t,e){return t.skipTo("-->")?(t.match("-->"),e.tokenize=null):t.skipToEnd(),["comment","comment"]}t.defineMode("css",function(e,n){function i(t,e){return p=e,t}function r(t,e){var n=t.next();if(g[n]){var r=g[n](t,e);if(r!==!1)return r}return"@"==n?(t.eatWhile(/[\w\\\-]/),i("def",t.current())):"="==n||("~"==n||"|"==n)&&t.eat("=")?i(null,"compare"):'"'==n||"'"==n?(e.tokenize=o(n),e.tokenize(t,e)):"#"==n?(t.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(t.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&t.eat(/\d/)?(t.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&t.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&t.match("rl(")?(t.backUp(1),e.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(t.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(t.peek())?(t.eatWhile(/[\w.%]/),i("number","unit")):t.match(/^[^-]+-/)?i("meta","meta"):void 0}function o(t){return function(e,n){for(var r,o=!1;null!=(r=e.next());){if(r==t&&!o){")"==t&&e.backUp(1);break}o=!o&&"\\"==r}return(r==t||!o&&")"!=t)&&(n.tokenize=null),i("string","string")}}function s(t,e){return t.next(),e.tokenize=t.match(/\s*[\"\']/,!1)?null:o(")"),i(null,"(")}function a(t,e,n){this.type=t,this.indent=e,this.prev=n}function l(t,e,n){return t.context=new a(n,e.indentation()+m,t.context),n}function u(t){return t.context=t.context.prev,t.context.type}function c(t,e,n){return C[n.context.type](t,e,n)}function h(t,e,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return c(t,e,n)}function d(t){var e=t.current().toLowerCase();f=_.hasOwnProperty(e)?"atom":w.hasOwnProperty(e)?"keyword":"variable"}n.propertyKeywords||(n=t.resolveMode("text/css"));var p,f,m=e.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},w=n.colorKeywords||{},_=n.valueKeywords||{},k=n.fontProperties||{},x=n.allowNested,C={};return C.top=function(t,e,n){if("{"==t)return l(n,e,"block");if("}"==t&&n.context.prev)return u(n);if("@media"==t)return l(n,e,"media");if("@font-face"==t)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(t))return"keyframes";if(t&&"@"==t.charAt(0))return l(n,e,"at");if("hash"==t)f="builtin";else if("word"==t)f="tag";else{if("variable-definition"==t)return"maybeprop";if("interpolation"==t)return l(n,e,"interpolation");if(":"==t)return"pseudo";if(x&&"("==t)return l(n,e,"params")}return n.context.type},C.block=function(t,e,n){return"word"==t?b.hasOwnProperty(e.current().toLowerCase())?(f="property","maybeprop"):x?(f=e.match(/^\s*:/,!1)?"property":"tag","block"):(f+=" error","maybeprop"):"meta"==t?"block":x||"hash"!=t&&"qualifier"!=t?C.top(t,e,n):(f="error","block")},C.maybeprop=function(t,e,n){return":"==t?l(n,e,"prop"):c(t,e,n)},C.prop=function(t,e,n){if(";"==t)return u(n);if("{"==t&&x)return l(n,e,"propBlock");if("}"==t||"{"==t)return h(t,e,n);if("("==t)return l(n,e,"parens");if("hash"!=t||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())){if("word"==t)d(e);else if("interpolation"==t)return l(n,e,"interpolation")}else f+=" error";return"prop"},C.propBlock=function(t,e,n){return"}"==t?u(n):"word"==t?(f="property","maybeprop"):n.context.type},C.parens=function(t,e,n){return"{"==t||"}"==t?h(t,e,n):")"==t?u(n):"parens"},C.pseudo=function(t,e,n){return"word"==t?(f="variable-3",n.context.type):c(t,e,n)},C.media=function(t,e,n){if("("==t)return l(n,e,"media_parens");if("}"==t)return h(t,e,n);if("{"==t)return u(n)&&l(n,e,x?"block":"top");if("word"==t){var i=e.current().toLowerCase();f="only"==i||"not"==i||"and"==i?"keyword":v.hasOwnProperty(i)?"attribute":y.hasOwnProperty(i)?"property":"error"}return n.context.type},C.media_parens=function(t,e,n){return")"==t?u(n):"{"==t||"}"==t?h(t,e,n,2):C.media(t,e,n)},C.font_face_before=function(t,e,n){return"{"==t?l(n,e,"font_face"):c(t,e,n)},C.font_face=function(t,e,n){return"}"==t?u(n):"word"==t?(f=k.hasOwnProperty(e.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},C.keyframes=function(t,e,n){return"word"==t?(f="variable","keyframes"):"{"==t?l(n,e,"top"):c(t,e,n)},C.at=function(t,e,n){return";"==t?u(n):"{"==t||"}"==t?h(t,e,n):("word"==t?f="tag":"hash"==t&&(f="builtin"),"at")},C.interpolation=function(t,e,n){return"}"==t?u(n):"{"==t||";"==t?h(t,e,n):("variable"!=t&&(f="error"),"interpolation")},C.params=function(t,e,n){return")"==t?u(n):"{"==t||"}"==t?h(t,e,n):("word"==t&&d(e),"params")},{startState:function(t){return{tokenize:null,state:"top",context:new a("top",t||0,null)}},token:function(t,e){if(!e.tokenize&&t.eatSpace())return null;var n=(e.tokenize||r)(t,e);return n&&"object"==typeof n&&(p=n[1],n=n[0]),f=n,e.state=C[e.state](p,t,e),f},indent:function(t,e){var n=t.context,i=e&&e.charAt(0),r=n.indent;return"prop"==n.type&&"}"==i&&(n=n.prev),!n.prev||("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=i||"parens"!=n.type&&"params"!=n.type&&"media_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"media"!=n.type)||(r=n.indent-m,n=n.prev),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(r),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=e(s),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-inside","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","zoom","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-profile","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","writing-mode"],u=e(l),c=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],h=e(c),d=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],p=e(d),f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=e(f),g=r.concat(s).concat(l).concat(c).concat(d);t.registerHelper("hintWords","css",g),t.defineMIME("text/css",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,colorKeywords:h,valueKeywords:p,fontProperties:m,tokenHooks:{"<":function(t,e){return t.match("!--")?(e.tokenize=i,i(t,e)):!1},"/":function(t,e){return t.eat("*")?(e.tokenize=n,n(t,e)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,colorKeywords:h,valueKeywords:p,fontProperties:m,allowNested:!0,tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=n,n(t,e)):["operator","operator"]},":":function(t){return t.match(/\s*{/)?[null,"{"]:!1},$:function(t){return t.match(/^[\w-]+/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(t){return t.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,colorKeywords:h,valueKeywords:p,fontProperties:m,allowNested:!0,tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=n,n(t,e)):["operator","operator"]},"@":function(t){return t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("htmlembedded",function(e,n){function i(t,e){return t.match(a,!1)?(e.token=r,o.token(t,e.scriptState)):s.token(t,e.htmlState)}function r(t,e){return t.match(l,!1)?(e.token=i,s.token(t,e.htmlState)):o.token(t,e.scriptState)}var o,s,a=n.scriptStartRegex||/^<%/i,l=n.scriptEndRegex||/^%>/i;return{startState:function(){return o=o||t.getMode(e,n.scriptingModeSpec),s=s||t.getMode(e,"htmlmixed"),{token:n.startOpen?r:i,htmlState:t.startState(s),scriptState:t.startState(o)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return t.token==i?s.indent(t.htmlState,e):o.indent?o.indent(t.scriptState,e):void 0},copyState:function(e){return{token:e.token,htmlState:t.copyState(s,e.htmlState),scriptState:t.copyState(o,e.scriptState)}},innerMode:function(t){return t.token==r?{state:t.scriptState,mode:o}:{state:t.htmlState,mode:s}}}},"htmlmixed"),t.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),t.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),t.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),t.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("htmlmixed",function(e,n){function i(t,e){var n=e.htmlState.tagName,i=a.token(t,e.htmlState);if("script"==n&&/\btag\b/.test(i)&&">"==t.current()){var r=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);r=r?r[1]:"",r&&/[\"\']/.test(r.charAt(0))&&(r=r.slice(1,r.length-1));for(var c=0;c<u.length;++c){var h=u[c];if("string"==typeof h.matches?r==h.matches:h.matches.test(r)){h.mode&&(e.token=o,e.localMode=h.mode,e.localState=h.mode.startState&&h.mode.startState(a.indent(e.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(i)&&">"==t.current()&&(e.token=s,e.localMode=l,e.localState=l.startState(a.indent(e.htmlState,"")));return i}function r(t,e,n){var i,r=t.current(),o=r.search(e);return o>-1?t.backUp(r.length-o):(i=r.match(/<\/?$/))&&(t.backUp(r.length),t.match(e,!1)||t.match(r)),n}function o(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):r(t,/<\/\s*script\s*>/,e.localMode.token(t,e.localState))}function s(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):r(t,/<\/\s*style\s*>/,l.token(t,e.localState))}var a=t.getMode(e,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=t.getMode(e,"css"),u=[],c=n&&n.scriptTypes;if(u.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:t.getMode(e,"javascript")}),c)for(var h=0;h<c.length;++h){var d=c[h];u.push({matches:d.matches,mode:d.mode&&t.getMode(e,d.mode)})}return u.push({matches:/./,mode:t.getMode(e,"text/plain")}),{startState:function(){var t=a.startState();return{token:i,localMode:null,localState:null,htmlState:t}},copyState:function(e){if(e.localState)var n=t.copyState(e.localMode,e.localState);return{token:e.token,localMode:e.localMode,localState:n,htmlState:t.copyState(a,e.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(e,n){return!e.localMode||/^\s*<\//.test(n)?a.indent(e.htmlState,n):e.localMode.indent?e.localMode.indent(e.localState,n):t.Pass},innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||a}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("javascript",function(e,n){function i(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}function r(t,e,n){return pe=t,fe=n,e}function o(t,e){var n=t.next();if('"'==n||"'"==n)return e.tokenize=s(n),e.tokenize(t,e);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&t.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&t.eat(">"))return r("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return t.eat("*")?(e.tokenize=a,a(t,e)):t.eat("/")?(t.skipToEnd(),r("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(i(t),t.eatWhile(/[gimy]/),r("regexp","string-2")):(t.eatWhile(_e),r("operator","operator",t.current()));if("`"==n)return e.tokenize=l,l(t,e);if("#"==n)return t.skipToEnd(),r("error","error");if(_e.test(n))return t.eatWhile(_e),r("operator","operator",t.current());t.eatWhile(/[\w\$_]/);var o=t.current(),u=we.propertyIsEnumerable(o)&&we[o];return u&&"."!=e.lastType?r(u.type,u.style,o):r("variable","variable",o)}function s(t){return function(e,n){var i,s=!1;if(ve&&"@"==e.peek()&&e.match(ke))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=t||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}function a(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(0>n)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=t.string.charAt(o),a=xe.indexOf(s);if(a>=0&&3>a){if(!i){++o;break}if(0==--i)break}else if(a>=3&&6>a)++i;else if(/[$\w]/.test(s))r=!0;else if(r&&!i){++o;break}}r&&!i&&(e.fatArrowAt=o)}}function c(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function h(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function d(t,e,n,i,r){var o=t.cc;for(Te.state=t,Te.stream=r,Te.marked=null,Te.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var s=o.length?o.pop():ye?k:_;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Te.marked?Te.marked:"variable"==n&&h(t,i)?"variable-2":e}}}function p(){for(var t=arguments.length-1;t>=0;t--)Te.cc.push(arguments[t])}function f(){return p.apply(null,arguments),!0}function m(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var i=Te.state;if(i.context){if(Te.marked="def",e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;n.globalVars&&(i.globalVars={name:t,next:i.globalVars})}}function g(){Te.state.context={prev:Te.state.context,vars:Te.state.localVars},Te.state.localVars=Se}function v(){Te.state.localVars=Te.state.context.vars,Te.state.context=Te.state.context.prev}function y(t,e){var n=function(){var n=Te.state,i=n.indented;"stat"==n.lexical.type&&(i=n.lexical.indented),n.lexical=new c(i,Te.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function b(){var t=Te.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function w(t){function e(n){return n==t?f():";"==t?p():f(e)}return e}function _(t,e){return"var"==t?f(y("vardef",e.length),R,w(";"),b):"keyword a"==t?f(y("form"),k,_,b):"keyword b"==t?f(y("form"),_,b):"{"==t?f(y("}"),H,b):";"==t?f():"if"==t?f(y("form"),k,_,b,K):"function"==t?f(te):"for"==t?f(y("form"),Q,_,b):"variable"==t?f(y("stat"),L):"switch"==t?f(y("form"),k,y("}","switch"),w("{"),H,b,b):"case"==t?f(k,w(":")):"default"==t?f(w(":")):"catch"==t?f(y("form"),g,w("("),ee,w(")"),_,b,v):"module"==t?f(y("form"),g,oe,v,b):"class"==t?f(y("form"),ne,re,b):"export"==t?f(y("form"),se,b):"import"==t?f(y("form"),ae,b):p(y("stat"),k,w(";"),b)}function k(t){return C(t,!1)}function x(t){return C(t,!0)}function C(t,e){if(Te.state.fatArrowAt==Te.stream.start){var n=e?F:P;if("("==t)return f(g,y(")"),O(q,")"),b,w("=>"),n,v);if("variable"==t)return p(g,q,w("=>"),n,v)}var i=e?M:E;return Ce.hasOwnProperty(t)?f(i):"function"==t?f(te):"keyword c"==t?f(e?S:T):"("==t?f(y(")"),T,de,w(")"),b,i):"operator"==t||"spread"==t?f(e?x:k):"["==t?f(y("]"),ce,b,i):"{"==t?z(N,"}",null,i):f()}function T(t){return t.match(/[;\}\)\],]/)?p():p(k)}function S(t){return t.match(/[;\}\)\],]/)?p():p(x)}function E(t,e){return","==t?f(k):M(t,e,!1)}function M(t,e,n){var i=0==n?E:M,r=0==n?k:x;return"=>"==e?f(g,n?F:P,v):"operator"==t?/\+\+|--/.test(e)?f(i):"?"==e?f(k,w(":"),r):f(r):"quasi"==t?(Te.cc.push(i),$(e)):";"!=t?"("==t?z(x,")","call",i):"."==t?f(A,i):"["==t?f(y("]"),T,w("]"),b,i):void 0:void 0}function $(t){return"${"!=t.slice(t.length-2)?f():f(k,j)}function j(t){return"}"==t?(Te.marked="string-2",Te.state.tokenize=l,f()):void 0}function P(t){return u(Te.stream,Te.state),p("{"==t?_:k)}function F(t){return u(Te.stream,Te.state),p("{"==t?_:x)}function L(t){return":"==t?f(b,_):p(E,w(";"),b)}function A(t){return"variable"==t?(Te.marked="property",f()):void 0}function N(t,e){if("variable"==t){if(Te.marked="property","get"==e||"set"==e)return f(D)}else if("number"==t||"string"==t)Te.marked=ve?"property":t+" property";else if("["==t)return f(k,w("]"),I);return Ce.hasOwnProperty(t)?f(I):void 0}function D(t){return"variable"!=t?p(I):(Te.marked="property",f(te))}function I(t){return":"==t?f(x):"("==t?p(te):void 0}function O(t,e){function n(i){if(","==i){var r=Te.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),f(t,n)}return i==e?f():f(w(e))}return function(i){return i==e?f():p(t,n)}}function z(t,e,n){for(var i=3;i<arguments.length;i++)Te.cc.push(arguments[i]);return f(y(e,n),O(t,e),b)}function H(t){return"}"==t?f():p(_,H)}function W(t){return be&&":"==t?f(B):void 0}function B(t){return"variable"==t?(Te.marked="variable-3",f()):void 0}function R(){return p(q,W,U,G)}function q(t,e){return"variable"==t?(m(e),f()):"["==t?z(q,"]"):"{"==t?z(V,"}"):void 0}function V(t,e){return"variable"!=t||Te.stream.match(/^\s*:/,!1)?("variable"==t&&(Te.marked="property"),f(w(":"),q,U)):(m(e),f(U))}function U(t,e){return"="==e?f(x):void 0}function G(t){return","==t?f(R):void 0}function K(t,e){return"keyword b"==t&&"else"==e?f(y("form"),_,b):void 0}function Q(t){return"("==t?f(y(")"),X,w(")"),b):void 0}function X(t){return"var"==t?f(R,w(";"),Z):";"==t?f(Z):"variable"==t?f(Y):p(k,w(";"),Z)}function Y(t,e){return"in"==e||"of"==e?(Te.marked="keyword",f(k)):f(E,Z)}function Z(t,e){return";"==t?f(J):"in"==e||"of"==e?(Te.marked="keyword",f(k)):p(k,w(";"),J)}function J(t){")"!=t&&f(k)}function te(t,e){return"*"==e?(Te.marked="keyword",f(te)):"variable"==t?(m(e),f(te)):"("==t?f(g,y(")"),O(ee,")"),b,_,v):void 0}function ee(t){return"spread"==t?f(ee):p(q,W)}function ne(t,e){return"variable"==t?(m(e),f(ie)):void 0}function ie(t,e){return"extends"==e?f(k):void 0}function re(t){return"{"==t?z(N,"}"):void 0}function oe(t,e){return"string"==t?f(_):"variable"==t?(m(e),f(ue)):void 0}function se(t,e){return"*"==e?(Te.marked="keyword",f(ue,w(";"))):"default"==e?(Te.marked="keyword",f(k,w(";"))):p(_)}function ae(t){return"string"==t?f():p(le,ue)}function le(t,e){return"{"==t?z(le,"}"):("variable"==t&&m(e),f())}function ue(t,e){return"from"==e?(Te.marked="keyword",f(k)):void 0}function ce(t){return"]"==t?f():p(x,he)}function he(t){return"for"==t?p(de,w("]")):","==t?f(O(x,"]")):p(O(x,"]"))}function de(t){return"for"==t?f(Q,de):"if"==t?f(k,de):void 0}var pe,fe,me=e.indentUnit,ge=n.statementIndent,ve=n.jsonld,ye=n.json||ve,be=n.typescript,we=function(){function t(t){return{type:t,style:"keyword"}
}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},s={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),module:t("module"),"class":t("class"),"super":t("atom"),"yield":i,"export":t("export"),"import":t("import"),"extends":i};if(be){var a={type:"variable",style:"variable-3"},l={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:a,number:a,bool:a,any:a};for(var u in l)s[u]=l[u]}return s}(),_e=/[+\-*&%=<>!?|~^]/,ke=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,xe="([{}])",Ce={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Te={state:null,column:null,marked:null,cc:null},Se={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(t){var e={tokenize:o,lastType:"sof",cc:[],lexical:new c((t||0)-me,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=a&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==pe?n:(e.lastType="operator"!=pe||"++"!=fe&&"--"!=fe?pe:"incdec",d(e,n,pe,fe,t))},indent:function(e,i){if(e.tokenize==a)return t.Pass;if(e.tokenize!=o)return 0;for(var r=i&&i.charAt(0),s=e.lexical,l=e.cc.length-1;l>=0;--l){var u=e.cc[l];if(u==b)s=s.prev;else if(u!=K)break}"stat"==s.type&&"}"==r&&(s=s.prev),ge&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var c=s.type,h=r==c;return"vardef"==c?s.indented+("operator"==e.lastType||","==e.lastType?s.info+1:0):"form"==c&&"{"==r?s.indented:"form"==c?s.indented+me:"stat"==c?s.indented+("operator"==e.lastType||","==e.lastType?ge||me:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:me):s.indented+(/^(?:case|default)\b/.test(i)?me:2*me)},electricChars:":{}",blockCommentStart:ye?null:"/*",blockCommentEnd:ye?null:"*/",lineComment:ye?null:"//",fold:"brace",helperType:ye?"json":"javascript",jsonldMode:ve,jsonMode:ye}}),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},n=t.split(" "),i=0;i<n.length;++i)e[n[i]]=!0;return e}function n(t){return function(e,n){return e.match(t)?n.tokenize=null:e.skipToEnd(),"string"}}var i={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally"),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),atoms:e("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__"),builtin:e("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(t){return t.eatWhile(/[\w\$_]/),"variable-2"},"<":function(t,e){return t.match(/<</)?(t.eatWhile(/[\w\.]/),e.tokenize=n(t.current().slice(3)),e.tokenize(t,e)):!1},"#":function(t){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"},"/":function(t){if(t.eat("/")){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"}return!1}}};t.defineMode("php",function(e,n){function r(t,e){var n=e.curMode==s;if(t.sol()&&e.pending&&'"'!=e.pending&&"'"!=e.pending&&(e.pending=null),n)return n&&null==e.php.tokenize&&t.match("?>")?(e.curMode=o,e.curState=e.html,"meta"):s.token(t,e.curState);if(t.match(/^<\?\w*/))return e.curMode=s,e.curState=e.php,"meta";if('"'==e.pending||"'"==e.pending){for(;!t.eol()&&t.next()!=e.pending;);var i="string"}else if(e.pending&&t.pos<e.pending.end){t.pos=e.pending.end;var i=e.pending.style}else var i=o.token(t,e.curState);e.pending&&(e.pending=null);var r,a=t.current(),l=a.search(/<\?/);return-1!=l&&(e.pending="string"==i&&(r=a.match(/[\'\"]$/))&&!/\?>/.test(a)?r[0]:{end:t.pos,style:i},t.backUp(a.length-l)),i}var o=t.getMode(e,"text/html"),s=t.getMode(e,i);return{startState:function(){var e=t.startState(o),i=t.startState(s);return{html:e,php:i,curMode:n.startOpen?s:o,curState:n.startOpen?i:e,pending:null}},copyState:function(e){var n,i=e.html,r=t.copyState(o,i),a=e.php,l=t.copyState(s,a);return n=e.curMode==o?r:l,{html:r,php:l,curMode:e.curMode,curState:n,pending:e.pending}},token:r,indent:function(t,e){return t.curMode!=s&&/^\s*<\//.test(e)||t.curMode==s&&/^\?>/.test(e)?o.indent(t.html,e):t.curMode.indent(t.curState,e)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(t){return{state:t.curState,mode:t.curMode}}}},"htmlmixed","clike"),t.defineMIME("application/x-httpd-php","php"),t.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),t.defineMIME("text/x-php",i)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("ruby",function(t){function e(t){for(var e={},n=0,i=t.length;i>n;++n)e[t[n]]=!0;return e}function n(t,e,n){return n.tokenize.push(t),t(e,n)}function i(t,e){if(u=null,t.sol()&&t.match("=begin")&&t.eol())return e.tokenize.push(l),"comment";if(t.eatSpace())return null;var i,r=t.next();if("`"==r||"'"==r||'"'==r)return n(s(r,"string",'"'==r||"`"==r),t,e);if("/"!=r||t.eol()||" "==t.peek()){if("%"==r){var o="string",c=!0;t.eat("s")?o="atom":t.eat(/[WQ]/)?o="string":t.eat(/[r]/)?o="string-2":t.eat(/[wxq]/)&&(o="string",c=!1);var h=t.eat(/[^\w\s]/);return h?(p.propertyIsEnumerable(h)&&(h=p[h]),n(s(h,o,c,!0),t,e)):"operator"}if("#"==r)return t.skipToEnd(),"comment";if("<"==r&&(i=t.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(a(i[1]),t,e);if("0"==r)return t.eatWhile(t.eat("x")?/[\da-fA-F]/:t.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(r))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;t.match(/^\\[CM]-/););return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}return":"==r?t.eat("'")?n(s("'","atom",!1),t,e):t.eat('"')?n(s('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_]/)?(t.eatWhile(/[\w]/),t.eat(/[\?\!\=]/),"atom"):"operator":"@"==r&&t.match(/^@?[a-zA-Z_]/)?(t.eat("@"),t.eatWhile(/[\w]/),"variable-2"):"$"==r?(t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3"):/[a-zA-Z_]/.test(r)?(t.eatWhile(/[\w]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident"):"|"!=r||!e.varList&&"{"!=e.lastTok&&"do"!=e.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(u=r,null):"-"==r&&t.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(t.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(u="|",null)}return t.eat("=")?"operator":n(s(r,"string-2",!0),t,e)}function r(){var t=1;return function(e,n){if("}"==e.peek()){if(t--,0==t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return i(e,n)}}function o(){var t=!1;return function(e,n){return t?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)):(t=!0,i(e,n))}}function s(t,e,n,i){return function(s,a){var l,u=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,s.eat("}"));null!=(l=s.next());){if(l==t&&(i||!u)){a.tokenize.pop();break}if(n&&"#"==l&&!u){if(s.eat("{")){"}"==t&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(r());break}if(/[@\$]/.test(s.peek())){a.tokenize.push(o());break}}u=!u&&"\\"==l}return e}}function a(t){return function(e,n){return e.match(t)?n.tokenize.pop():e.skipToEnd(),"string"}}function l(t,e){return t.sol()&&t.match("=end")&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"}var u,c=e(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),h=e(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=e(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[i],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){t.sol()&&(e.indented=t.indentation());var n,i=e.tokenize[e.tokenize.length-1](t,e);if("ident"==i){var r=t.current();i=c.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(r)?"tag":"def"==e.lastTok||"class"==e.lastTok||e.varList?"def":"variable",h.propertyIsEnumerable(r)?n="indent":d.propertyIsEnumerable(r)?n="dedent":"if"!=r&&"unless"!=r||t.column()!=t.indentation()?"do"==r&&e.context.indented<e.indented&&(n="indent"):n="indent"}return(u||i&&"comment"!=i)&&(e.lastTok=r||u||i),"|"==u&&(e.varList=!e.varList),"indent"==n||/[\(\[\{]/.test(u)?e.context={prev:e.context,type:u||i,indented:e.indented}:("dedent"==n||/[\)\]\}]/.test(u))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"==u||"operator"==i),i},indent:function(e,n){if(e.tokenize[e.tokenize.length-1]!=i)return 0;var r=n&&n.charAt(0),o=e.context,s=o.type==p[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:t.indentUnit)+(e.continuedLine?t.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),t.defineMIME("text/x-ruby","ruby")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("xml",function(e,n){function i(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();if("<"==i){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(s("atom","]]>")):null:t.match("--")?n(s("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(a(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=s("meta","?>"),"meta";var o=t.eat("/");_="";for(var l;l=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)_+=l;return C.caseFold&&(_=_.toLowerCase()),_?(k=o?"closeTag":"openTag",e.tokenize=r,"tag"):"tag error"}if("&"==i){var u;return u=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),u?"atom":"error"}return t.eatWhile(/[^&<]/),null}function r(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=i,k=">"==n?"endTag":"selfcloseTag","tag";if("="==n)return k="equals",null;if("<"==n){e.tokenize=i,e.state=h,e.tagName=e.tagStart=null;var r=e.tokenize(t,e);return r?r+" error":"error"}return/[\'\"]/.test(n)?(e.tokenize=o(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function o(t){var e=function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"};return e.isInAttribute=!0,e}function s(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=i;break}n.next()}return t}}function a(t){return function(e,n){for(var r;null!=(r=e.next());){if("<"==r)return n.tokenize=a(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=i;break}return n.tokenize=a(t-1),n.tokenize(e,n)}}return"meta"}}function l(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function u(t){t.context&&(t.context=t.context.prev)}function c(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(e))return;u(t)}}function h(t,e,n){if("openTag"==t)return n.tagName=_,n.tagStart=e.column(),f;if("closeTag"==t){var i=!1;return n.context?n.context.tagName!=_&&(C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),i=!n.context||n.context.tagName!=_):i=!0,i&&(x="error"),i?p:d}return h}function d(t,e,n){return"endTag"!=t?(x="error",d):(u(n),h)}function p(t,e,n){return x="error",d(t,e,n)}function f(t,e,n){if("word"==t)return x="attribute",m;if("endTag"==t||"selfcloseTag"==t){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||C.autoSelfClosers.hasOwnProperty(i)?c(n,i):(c(n,i),n.context=new l(n,i,r==n.indented)),h}return x="error",f}function m(t,e,n){return"equals"==t?g:(C.allowMissing||(x="error"),f(t,e,n))}function g(t,e,n){return"string"==t?v:"word"==t&&C.allowUnquoted?(x="string",f):(x="error",f(t,e,n))}function v(t,e,n){return"string"==t?v:f(t,e,n)}var y=e.indentUnit,b=n.multilineTagIndentFactor||1,w=n.multilineTagIndentPastTag;null==w&&(w=!0);var _,k,x,C=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:i,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;_=k=null;var n=e.tokenize(t,e);return(n||k)&&"comment"!=n&&(x=null,e.state=e.state(k||n,t,e),x&&(n="error"==x?n+" error":x)),n},indent:function(e,n,o){var s=e.context;if(e.tokenize.isInAttribute)return e.stringStartCol+1;if(s&&s.noIndent)return t.Pass;if(e.tokenize!=r&&e.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(e.tagName)return w?e.tagStart+e.tagName.length+2:e.tagStart+y*b;if(T&&/<!\[CDATA\[/.test(n))return 0;for(s&&/^<\//.test(n)&&(s=s.prev);s&&!s.startOfLine;)s=s.prev;return s?s.indent+y:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})});/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.13.2",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(t){return encodeURIComponent(t)},escapeHTML:function(t){return t.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this.escapeHTML(t)+'">x</a>',e.firstChild.href},getScriptPath:function(t){for(var e,n,i,r,o,s,a=0,l="",u="",c=document.getElementsByTagName("script"),h=c.length,d=t.length;h>a;a++){for(r=c[a].src,n=r.lastIndexOf("/"),n>-1?(s=r.substring(n+1),o=r.substring(0,n+1)):(s=r,o=""),e=0;d>e;e++)if(u=t[e],i=s.indexOf(u),i>-1){l=o;break}if(""!==l)break}return l},secondsToTimeCode:function(t,e,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=Math.floor(t/3600)%24,o=Math.floor(t/60)%60,s=Math.floor(t%60),a=Math.floor((t%1*i).toFixed(3)),l=(e||r>0?(10>r?"0"+r:r)+":":"")+(10>o?"0"+o:o)+":"+(10>s?"0"+s:s)+(n?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(t,e,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=t.split(":"),o=parseInt(r[0],10),s=parseInt(r[1],10),a=parseInt(r[2],10),l=0,u=0;return n&&(l=parseInt(r[3])/i),u=3600*o+60*s+a+l},convertSMPTEtoSeconds:function(t){if("string"!=typeof t)return!1;t=t.replace(",",".");var e=0,n=-1!=t.indexOf(".")?t.split(".")[1].length:0,i=1;t=t.split(":").reverse();for(var r=0;r<t.length;r++)i=1,r>0&&(i=Math.pow(60,r)),e+=Number(t[r])*i;return Number(e.toFixed(n))},removeSwf:function(t){var e=document.getElementById(t);e&&/object|embed/i.test(e.nodeName)&&(mejs.MediaFeatures.isIE?(e.style.display="none",function(){4==e.readyState?mejs.Utility.removeObjectInIE(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))},removeObjectInIE:function(t){var e=document.getElementById(t);if(e){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}}},mejs.PluginDetector={hasPluginVersion:function(t,e){var n=this.plugins[t];return e[1]=e[1]||0,e[2]=e[2]||0,n[0]>e[0]||n[0]==e[0]&&n[1]>e[1]||n[0]==e[0]&&n[1]==e[1]&&n[2]>=e[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(t,e,n,i,r){this.plugins[t]=this.detectPlugin(e,n,i,r)},detectPlugin:function(t,e,n,i){var r,o,s,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[t]){if(r=this.nav.plugins[t].description,r&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[e]||this.nav.mimeTypes[e].enabledPlugin))for(a=r.replace(t,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),o=0;o<a.length;o++)a[o]=parseInt(a[o].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{s=new ActiveXObject(n),s&&(a=i(s))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(t){var e=[],n=t.GetVariable("$version");return n&&(n=n.split(" ")[1].split(","),e=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]),e}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(t){var e=[0,0,0,0],n=function(t,e,n,i){for(;t.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3]);)e[n]+=i;e[n]-=i};return n(t,e,0,1),n(t,e,1,1),n(t,e,2,1e4),n(t,e,2,1e3),n(t,e,2,100),n(t,e,2,10),n(t,e,2,1),n(t,e,3,1),e}),mejs.MediaFeatures={init:function(){var t,e,n=this,i=document,r=mejs.PluginDetector.nav,o=mejs.PluginDetector.ua.toLowerCase(),s=["source","track","audio","video"];n.isiPad=null!==o.match(/ipad/i),n.isiPhone=null!==o.match(/iphone/i),n.isiOS=n.isiPhone||n.isiPad,n.isAndroid=null!==o.match(/android/i),n.isBustedAndroid=null!==o.match(/android 2\.[12]/),n.isBustedNativeHTTPS="https:"===location.protocol&&(null!==o.match(/android [12]\./)||null!==o.match(/macintosh.* version.* safari/)),n.isIE=-1!=r.appName.toLowerCase().indexOf("microsoft")||null!==r.appName.toLowerCase().match(/trident/gi),n.isChrome=null!==o.match(/chrome/gi),n.isFirefox=null!==o.match(/firefox/gi),n.isWebkit=null!==o.match(/webkit/gi),n.isGecko=null!==o.match(/gecko/gi)&&!n.isWebkit&&!n.isIE,n.isOpera=null!==o.match(/opera/gi),n.hasTouch="ontouchstart"in window,n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(t=0;t<s.length;t++)e=document.createElement(s[t]);n.supportsMediaTag="undefined"!=typeof e.canPlayType||n.isBustedAndroid;try{e.canPlayType("video/mp4")}catch(a){n.supportsMediaTag=!1}n.hasSemiNativeFullScreen="undefined"!=typeof e.webkitEnterFullscreen,n.hasNativeFullscreen="undefined"!=typeof e.requestFullscreen,n.hasWebkitNativeFullScreen="undefined"!=typeof e.webkitRequestFullScreen,n.hasMozNativeFullScreen="undefined"!=typeof e.mozRequestFullScreen,n.hasMsNativeFullScreen="undefined"!=typeof e.msRequestFullscreen,n.hasTrueNativeFullScreen=n.hasWebkitNativeFullScreen||n.hasMozNativeFullScreen||n.hasMsNativeFullScreen,n.nativeFullScreenEnabled=n.hasTrueNativeFullScreen,n.hasMozNativeFullScreen?n.nativeFullScreenEnabled=document.mozFullScreenEnabled:n.hasMsNativeFullScreen&&(n.nativeFullScreenEnabled=document.msFullscreenEnabled),n.isChrome&&(n.hasSemiNativeFullScreen=!1),n.hasTrueNativeFullScreen&&(n.fullScreenEventName="",n.hasWebkitNativeFullScreen?n.fullScreenEventName="webkitfullscreenchange":n.hasMozNativeFullScreen?n.fullScreenEventName="mozfullscreenchange":n.hasMsNativeFullScreen&&(n.fullScreenEventName="MSFullscreenChange"),n.isFullScreen=function(){return e.mozRequestFullScreen?i.mozFullScreen:e.webkitRequestFullScreen?i.webkitIsFullScreen:e.hasMsNativeFullScreen?null!==i.msFullscreenElement:void 0},n.requestFullScreen=function(t){n.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():n.hasMozNativeFullScreen?t.mozRequestFullScreen():n.hasMsNativeFullScreen&&t.msRequestFullscreen()},n.cancelFullScreen=function(){n.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():n.hasMozNativeFullScreen?document.mozCancelFullScreen():n.hasMsNativeFullScreen&&document.msExitFullscreen()}),n.hasSemiNativeFullScreen&&o.match(/mac os x 10_5/i)&&(n.hasNativeFullScreen=!1,n.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(t){this.currentTime=t},setMuted:function(t){this.muted=t},setVolume:function(t){this.volume=t},stop:function(){this.pause()},setSrc:function(t){for(var e=this.getElementsByTagName("source");e.length>0;)this.removeChild(e[0]);if("string"==typeof t)this.src=t;else{var n,i;for(n=0;n<t.length;n++)if(i=t[n],this.canPlayType(i.type)){this.src=i.src;break}}},setVideoSize:function(t,e){this.width=t,this.height=e}},mejs.PluginMediaElement=function(t,e,n){this.id=t,this.pluginType=e,this.src=n,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(t){var e,n,i,r=mejs.plugins[this.pluginType];for(e=0;e<r.length;e++)if(i=r[e],mejs.PluginDetector.hasPluginVersion(this.pluginType,i.version))for(n=0;n<i.types.length;n++)if(t==i.types[n])return"probably";return""},positionFullscreenButton:function(t,e,n){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(t),Math.floor(e),n)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(t){if("string"==typeof t)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(t)),this.src=mejs.Utility.absolutizeUrl(t);else{var e,n;for(e=0;e<t.length;e++)if(n=t[e],this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(t);break}}},setCurrentTime:function(t){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(t):this.pluginApi.setCurrentTime(t),this.currentTime=t)},setVolume:function(t){null!=this.pluginApi&&(this.pluginApi.setVolume("youtube"==this.pluginType?100*t:t),this.volume=t)},setMuted:function(t){null!=this.pluginApi&&("youtube"==this.pluginType?(t?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=t,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(t),this.muted=t)},setVideoSize:function(t,e){this.pluginElement.style&&(this.pluginElement.style.width=t+"px",this.pluginElement.style.height=e+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(t,e)},setFullscreen:function(t){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(t)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},removeEventListener:function(t,e){if(!t)return this.events={},!0;var n=this.events[t];if(!n)return!0;if(!e)return this.events[t]=[],!0;for(i=0;i<n.length;i++)if(n[i]===e)return this.events[t].splice(i,1),!0;return!1},dispatchEvent:function(t){var e,n,i=this.events[t];if(i)for(n=Array.prototype.slice.call(arguments,1),e=0;e<i.length;e++)i[e].apply(null,n)},hasAttribute:function(t){return t in this.attributes},removeAttribute:function(t){delete this.attributes[t]},getAttribute:function(t){return this.hasAttribute(t)?this.attributes[t]:""},setAttribute:function(t,e){this.attributes[t]=e},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(t,e,n){this.pluginMediaElements[t]=e,this.htmlMediaElements[t]=n},unregisterPluginElement:function(t){delete this.pluginMediaElements[t],delete this.htmlMediaElements[t]},initPlugin:function(t){var e=this.pluginMediaElements[t],n=this.htmlMediaElements[t];if(e){switch(e.pluginType){case"flash":e.pluginElement=e.pluginApi=document.getElementById(t);break;case"silverlight":e.pluginElement=document.getElementById(e.id),e.pluginApi=e.pluginElement.Content.MediaElementJS}null!=e.pluginApi&&e.success&&e.success(e,n)}},fireEvent:function(t,e,n){var i,r,o,s=this.pluginMediaElements[t];if(s){i={type:e,target:s};for(r in n)s[r]=n[r],i[r]=n[r];o=n.bufferedTime||0,i.target.buffered=i.buffered={start:function(){return 0},end:function(){return o},length:1},s.dispatchEvent(i.type,i)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(t,e){return mejs.HtmlMediaElementShim.create(t,e)},mejs.HtmlMediaElementShim={create:function(t,e){var n,i,r=mejs.MediaElementDefaults,o="string"==typeof t?document.getElementById(t):t,s=o.tagName.toLowerCase(),a="audio"===s||"video"===s,l=o.getAttribute(a?"src":"href"),u=o.getAttribute("poster"),c=o.getAttribute("autoplay"),h=o.getAttribute("preload"),d=o.getAttribute("controls");for(i in e)r[i]=e[i];return l="undefined"==typeof l||null===l||""==l?null:l,u="undefined"==typeof u||null===u?"":u,h="undefined"==typeof h||null===h||"false"===h?"none":h,c=!("undefined"==typeof c||null===c||"false"===c),d=!("undefined"==typeof d||null===d||"false"===d),n=this.determinePlayback(o,r,mejs.MediaFeatures.supportsMediaTag,a,l),n.url=null!==n.url?mejs.Utility.absolutizeUrl(n.url):"","native"==n.method?(mejs.MediaFeatures.isBustedAndroid&&(o.src=n.url,o.addEventListener("click",function(){o.play()},!1)),this.updateNative(n,r,c,h)):""!==n.method?this.createPlugin(n,r,u,c,h,d):(this.createErrorMessage(n,r,u),this)},determinePlayback:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,m,g=[],v={method:"",url:"",htmlMediaElement:t,isVideo:"audio"!=t.tagName.toLowerCase()};if("undefined"!=typeof e.type&&""!==e.type)if("string"==typeof e.type)g.push({type:e.type,url:r});else for(o=0;o<e.type.length;o++)g.push({type:e.type[o],url:r});else if(null!==r)c=this.formatType(r,t.getAttribute("type")),g.push({type:c,url:r});else for(o=0;o<t.childNodes.length;o++)u=t.childNodes[o],1==u.nodeType&&"source"==u.tagName.toLowerCase()&&(r=u.getAttribute("src"),c=this.formatType(r,u.getAttribute("type")),m=u.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:c,url:r}));if(!i&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(t.canPlayType=function(t){return null!==t.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!n||"auto"!==e.mode&&"auto_plugin"!==e.mode&&"native"!==e.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&e.httpsBasicAuthSite===!0)){for(i||(f=document.createElement(v.isVideo?"video":"audio"),t.parentNode.insertBefore(f,t),t.style.display="none",v.htmlMediaElement=t=f),o=0;o<g.length;o++)if(""!==t.canPlayType(g[o].type).replace(/no/,"")||""!==t.canPlayType(g[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")){v.method="native",v.url=g[o].url;break}if("native"===v.method&&(null!==v.url&&(t.src=v.url),"auto_plugin"!==e.mode))return v}if("auto"===e.mode||"auto_plugin"===e.mode||"shim"===e.mode)for(o=0;o<g.length;o++)for(c=g[o].type,s=0;s<e.plugins.length;s++)for(h=e.plugins[s],d=mejs.plugins[h],a=0;a<d.length;a++)if(p=d[a],null==p.version||mejs.PluginDetector.hasPluginVersion(h,p.version))for(l=0;l<p.types.length;l++)if(c==p.types[l])return v.method=h,v.url=g[o].url,v;return"auto_plugin"===e.mode&&"native"===v.method?v:(""===v.method&&g.length>0&&(v.url=g[0].url),v)},formatType:function(t,e){return t&&!e?this.getTypeFromFile(t):e&&~e.indexOf(";")?e.substr(0,e.indexOf(";")):e},getTypeFromFile:function(t){t=t.split("?")[0];var e=t.substring(t.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(e)?"video":"audio")+"/"+this.getTypeFromExtension(e)},getTypeFromExtension:function(t){switch(t){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return t}},createErrorMessage:function(t,e,n){var i=t.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=i.width+"px",r.style.height=i.height+"px"}catch(o){}r.innerHTML=e.customError?e.customError:""!==n?'<a href="'+t.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+t.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",i.parentNode.insertBefore(r,i),i.style.display="none",e.error(i)},createPlugin:function(t,e,n,i,r,o){var s,a,l,u=t.htmlMediaElement,c=1,h=1,d="me_"+t.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(d,t.method,t.url),f=document.createElement("div");p.tagName=u.tagName;for(var m=0;m<u.attributes.length;m++){var g=u.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=u.parentNode;null!==a&&"body"!=a.tagName.toLowerCase();){if("p"==a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(t.isVideo?(c=e.pluginWidth>0?e.pluginWidth:e.videoWidth>0?e.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):e.defaultVideoWidth,h=e.pluginHeight>0?e.pluginHeight:e.videoHeight>0?e.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):e.defaultVideoHeight,c=mejs.Utility.encodeUrl(c),h=mejs.Utility.encodeUrl(h)):e.enablePluginDebug&&(c=320,h=240),p.success=e.success,mejs.MediaPluginBridge.registerPluginElement(d,p,u),f.className="me-plugin",f.id=d+"_container",t.isVideo?u.parentNode.insertBefore(f,u):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+d,"isvideo="+(t.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+r,"width="+c,"startvolume="+e.startVolume,"timerrate="+e.timerRate,"flashstreamer="+e.flashStreamer,"height="+h,"pseudostreamstart="+e.pseudoStreamingStartQueryParam],null!==t.url&&l.push("flash"==t.method?"file="+mejs.Utility.encodeUrl(t.url):"file="+t.url),e.enablePluginDebug&&l.push("debug=true"),e.enablePluginSmoothing&&l.push("smoothing=true"),e.enablePseudoStreaming&&l.push("pseudostreaming=true"),o&&l.push("controls=true"),e.pluginVars&&(l=l.concat(e.pluginVars)),t.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+d+'" name="'+d+'" width="'+c+'" height="'+h+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+e.pluginPath+e.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(s=document.createElement("div"),f.appendChild(s),s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+d+'" width="'+c+'" height="'+h+'" class="mejs-shim"><param name="movie" value="'+e.pluginPath+e.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):f.innerHTML='<embed id="'+d+'" name="'+d+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+e.pluginPath+e.flashName+'" flashvars="'+l.join("&")+'" width="'+c+'" height="'+h+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var v=t.url.substr(t.url.lastIndexOf("=")+1);youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:d,videoId:v,height:h,width:c},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":p.vimeoid=t.url.substr(t.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="http://player.vimeo.com/video/'+p.vimeoid+'?portrait=0&byline=0&title=0" width="'+c+'" height="'+h+'" frameborder="0" class="mejs-shim"></iframe>'}return u.style.display="none",u.removeAttribute("autoplay"),p},updateNative:function(t,e){var n,i=t.htmlMediaElement;for(n in mejs.HtmlMediaElement)i[n]=mejs.HtmlMediaElement[n];return e.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var t=document.createElement("script");t.src="//www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(t){this.isLoaded?this.createIframe(t):(this.loadIframeApi(),this.iframeQueue.push(t))},createIframe:function(t){var e=t.pluginMediaElement,n=new YT.Player(t.containerId,{height:t.height,width:t.width,videoId:t.videoId,playerVars:{controls:0},events:{onReady:function(){t.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(t.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,e,"timeupdate")},250)},onStateChange:function(t){mejs.YouTubeApi.handleStateChange(t.data,n,e)}}})},createEvent:function(t,e,n){var i={type:n,target:e};if(t&&t.getDuration){e.currentTime=i.currentTime=t.getCurrentTime(),e.duration=i.duration=t.getDuration(),i.paused=e.paused,i.ended=e.ended,i.muted=t.isMuted(),i.volume=t.getVolume()/100,i.bytesTotal=t.getVideoBytesTotal(),i.bufferedBytes=t.getVideoBytesLoaded();var r=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return r},length:1}}e.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var t=this.iframeQueue.pop();this.createIframe(t)}},flashPlayers:{},createFlash:function(t){this.flashPlayers[t.pluginId]=t;var e,n="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+t.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(e=document.createElement("div"),t.container.appendChild(e),e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+t.pluginId+'" width="'+t.width+'" height="'+t.height+'" class="mejs-shim"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):t.container.innerHTML='<object type="application/x-shockwave-flash" id="'+t.pluginId+'" data="'+n+'" width="'+t.width+'" height="'+t.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(t){var e=this.flashPlayers[t],n=document.getElementById(t),i=e.pluginMediaElement;i.pluginApi=i.pluginElement=n,mejs.MediaPluginBridge.initPlugin(t),n.cueVideoById(e.videoId);var r=e.containerId+"_callback";window[r]=function(t){mejs.YouTubeApi.handleStateChange(t,n,i)},n.addEventListener("onStateChange",r),setInterval(function(){mejs.YouTubeApi.createEvent(n,i,"timeupdate")},250)},handleStateChange:function(t,e,n){switch(t){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(e,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(e,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(e,n,"play"),mejs.YouTubeApi.createEvent(e,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(e,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(e,n,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(t,e){"use strict";var n={locale:{language:"",strings:{}},methods:{}};n.getLanguage=function(){var t=n.locale.language||window.navigator.userLanguage||window.navigator.language;return t.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(n.locale.language=mejsL10n.language),n.methods.checkPlain=function(t){var e,n,i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};t=String(t);for(e in i)i.hasOwnProperty(e)&&(n=new RegExp(e,"g"),t=t.replace(n,i[e]));return t},n.methods.t=function(t,e){return n.locale.strings&&n.locale.strings[e.context]&&n.locale.strings[e.context][t]&&(t=n.locale.strings[e.context][t]),n.methods.checkPlain(t)},n.t=function(t,e){if("string"==typeof t&&t.length>0){var i=n.getLanguage();return e=e||{context:i},n.methods.t(t,e)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},e.i18n=n}(document,mejs),function(t){"use strict";"undefined"!=typeof mejsL10n&&(t[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(t){"use strict";"undefined"==typeof t.de&&(t.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlie\xdfen"})}(mejs.i18n.locale.strings),function(t){"use strict";"undefined"==typeof t.zh&&(t.zh={Fullscreen:"\u5168\u87a2\u5e55","Go Fullscreen":"\u5168\u5c4f\u6a21\u5f0f","Turn off Fullscreen":"\u9000\u51fa\u5168\u5c4f\u6a21\u5f0f",Close:"\u95dc\u9589"})}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(t){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(t){return.05*t.duration},defaultSeekForwardInterval:function(t){return.05*t.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(t,e){e.paused||e.ended?t.play():t.pause()}},{keys:[38],action:function(t,e){var n=Math.min(e.volume+.1,1);e.setVolume(n)}},{keys:[40],action:function(t,e){var n=Math.max(e.volume-.1,0);e.setVolume(n)}},{keys:[37,227],action:function(t,e){if(!isNaN(e.duration)&&e.duration>0){t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.max(e.currentTime-t.options.defaultSeekBackwardInterval(e),0);e.setCurrentTime(n)}}},{keys:[39,228],action:function(t,e){if(!isNaN(e.duration)&&e.duration>0){t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.min(e.currentTime+t.options.defaultSeekForwardInterval(e),e.duration);e.setCurrentTime(n)}}},{keys:[70],action:function(t){"undefined"!=typeof t.enterFullScreen&&(t.isFullScreen?t.exitFullScreen():t.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(e,n){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(e,n);var i=this;return i.$media=i.$node=t(e),i.node=i.media=i.$media[0],"undefined"!=typeof i.node.player?i.node.player:(i.node.player=i,"undefined"==typeof n&&(n=i.$node.data("mejsoptions")),i.options=t.extend({},mejs.MepDefaults,n),i.id="mep_"+mejs.mepIndex++,mejs.players[i.id]=i,i.init(),i)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var e=this,n=mejs.MediaFeatures,i=t.extend(!0,{},e.options,{success:function(t,n){e.meReady(t,n)},error:function(t){e.handleError(t)}}),r=e.media.tagName.toLowerCase();if(e.isDynamic="audio"!==r&&"video"!==r,e.isVideo=e.isDynamic?e.options.isVideo:"audio"!==r&&e.options.isVideo,n.isiPad&&e.options.iPadUseNativeControls||n.isiPhone&&e.options.iPhoneUseNativeControls)e.$media.attr("controls","controls"),n.isiPad&&null!==e.media.getAttribute("autoplay")&&e.play();else if(n.isAndroid&&e.options.AndroidUseNativeControls);else{if(e.$media.removeAttr("controls"),e.container=t('<div id="'+e.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media),e.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS){var o=e.$media.clone();e.container.find(".mejs-mediaelement").append(o),e.$media.remove(),e.$node=e.$media=o,e.node=e.media=o[0]}else e.container.find(".mejs-mediaelement").append(e.$media);e.controls=e.container.find(".mejs-controls"),e.layers=e.container.find(".mejs-layers");var s=e.isVideo?"video":"audio",a=s.substring(0,1).toUpperCase()+s.substring(1);e.width=e.options[s+"Width"]>0||e.options[s+"Width"].toString().indexOf("%")>-1?e.options[s+"Width"]:""!==e.media.style.width&&null!==e.media.style.width?e.media.style.width:null!==e.media.getAttribute("width")?e.$media.attr("width"):e.options["default"+a+"Width"],e.height=e.options[s+"Height"]>0||e.options[s+"Height"].toString().indexOf("%")>-1?e.options[s+"Height"]:""!==e.media.style.height&&null!==e.media.style.height?e.media.style.height:null!==e.$media[0].getAttribute("height")?e.$media.attr("height"):e.options["default"+a+"Height"],e.setPlayerSize(e.width,e.height),i.pluginWidth=e.width,i.pluginHeight=e.height}mejs.MediaElement(e.$media[0],i),"undefined"!=typeof e.container&&e.controlsAreVisible&&e.container.trigger("controlsshown")},showControls:function(t){var e=this;t="undefined"==typeof t||t,e.controlsAreVisible||(t?(e.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){e.controlsAreVisible=!0,e.container.trigger("controlsshown")}),e.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){e.controlsAreVisible=!0})):(e.controls.css("visibility","visible").css("display","block"),e.container.find(".mejs-control").css("visibility","visible").css("display","block"),e.controlsAreVisible=!0,e.container.trigger("controlsshown")),e.setControlsSize())},hideControls:function(e){var n=this;e="undefined"==typeof e||e,n.controlsAreVisible&&!n.options.alwaysShowControls&&(e?(n.controls.stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(t){var e=this;t="undefined"!=typeof t?t:1500,e.killControlsTimer("start"),e.controlsTimer=setTimeout(function(){e.hideControls(),e.killControlsTimer("hide")},t)},killControlsTimer:function(){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var t=this;t.killControlsTimer(),t.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var t=this;t.showControls(!1),t.controlsEnabled=!0},meReady:function(t,e){var n,i,r=this,o=mejs.MediaFeatures,s=e.getAttribute("autoplay"),a=!("undefined"==typeof s||null===s||"false"===s);if(!r.created){if(r.created=!0,r.media=t,r.domNode=e,!(o.isAndroid&&r.options.AndroidUseNativeControls||o.isiPad&&r.options.iPadUseNativeControls||o.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(n in r.options.features)if(i=r.options.features[n],r["build"+i])try{r["build"+i](r,r.controls,r.layers,r.media)}catch(l){}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){r.options.clickToPlayPause&&(r.media.paused?r.play():r.pause())},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(1e3))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),a&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(t){r.options.videoHeight<=0&&null===r.domNode.getAttribute("height")&&!isNaN(t.target.videoHeight)&&(r.setPlayerSize(t.target.videoWidth,t.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(t.target.videoWidth,t.target.videoHeight))},!1)),t.addEventListener("play",function(){var t;for(t in mejs.players){var e=mejs.players[t];e.id==r.id||!r.options.pauseOtherPlayers||e.paused||e.ended||e.pause(),e.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0)}catch(t){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),"youtube"==r.media.pluginType&&r.container.find(".mejs-overlay-play").hide()}a&&"native"==t.pluginType&&r.play(),r.options.success&&("string"==typeof r.options.success?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(t){var e=this;e.controls.hide(),e.options.error&&e.options.error(t)},setPlayerSize:function(e,n){var i=this;if("undefined"!=typeof e&&(i.width=e),"undefined"!=typeof n&&(i.height=n),i.height.toString().indexOf("%")>0||"100%"===i.$node.css("max-width")||parseInt(i.$node.css("max-width").replace(/px/,""),10)/i.$node.offsetParent().width()===1||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var r=i.isVideo?i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:i.options.defaultVideoWidth:i.options.defaultAudioWidth,o=i.isVideo?i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:i.options.defaultVideoHeight:i.options.defaultAudioHeight,s=i.container.parent().closest(":visible").width(),a=i.isVideo||!i.options.autosizeProgress?parseInt(s*o/r,10):o;"body"===i.container.parent()[0].tagName.toLowerCase()&&(s=t(window).width(),a=t(window).height()),0!=a&&0!=s&&(i.container.width(s).height(a),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(s,a),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height);var l=i.layers.find(".mejs-overlay-play"),u=l.find(".mejs-overlay-button");l.height(i.container.height()-i.controls.height()),u.css("margin-top","-"+(u.height()/2-i.controls.height()/2).toString()+"px")},setControlsSize:function(){var e=this,n=0,i=0,r=e.controls.find(".mejs-time-rail"),o=e.controls.find(".mejs-time-total"),s=(e.controls.find(".mejs-time-current"),e.controls.find(".mejs-time-loaded"),r.siblings());e.options&&!e.options.autosizeProgress&&(i=parseInt(r.css("width"))),0!==i&&i||(s.each(function(){var e=t(this);"absolute"!=e.css("position")&&e.is(":visible")&&(n+=t(this).outerWidth(!0))}),i=e.controls.width()-n-(r.outerWidth(!0)-r.width())),r.width(i),o.width(i-(o.outerWidth(!0)-o.width())),e.setProgressRail&&e.setProgressRail(),e.setCurrentRail&&e.setCurrentRail()},buildposter:function(e,n,i,r){var o=this,s=t('<div class="mejs-poster mejs-layer"></div>').appendTo(i),a=e.$media.attr("poster");""!==e.options.poster&&(a=e.options.poster),""!==a&&null!=a?o.setPoster(a):s.hide(),r.addEventListener("play",function(){s.hide()},!1),e.options.showPosterWhenEnded&&e.options.autoRewind&&r.addEventListener("ended",function(){s.show()},!1)},setPoster:function(e){var n=this,i=n.container.find(".mejs-poster"),r=i.find("img");0==r.length&&(r=t('<img width="100%" height="100%" />').appendTo(i)),r.attr("src",e),i.css({"background-image":"url("+e+")"})},buildoverlays:function(e,n,i,r){var o=this;if(e.isVideo){var s=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),a=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),l=t('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).bind("click touchstart",function(){o.options.clickToPlayPause&&r.paused&&o.play()});r.addEventListener("play",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(e,n,i,r){var o=this;o.globalBind("keydown",function(t){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,i=e.options.keyActions.length;i>n;n++)for(var o=e.options.keyActions[n],s=0,a=o.keys.length;a>s;s++)if(t.keyCode==o.keys[s])return t.preventDefault(),o.action(e,r,t.keyCode),!1;return!0}),o.globalBind("click",function(n){0==t(n.target).closest(".mejs-container").length&&(e.hasFocus=!1)})},findTracks:function(){var e=this,n=e.$media.find("track");e.tracks=[],n.each(function(n,i){i=t(i),e.tracks.push({srclang:i.attr("srclang")?i.attr("srclang").toLowerCase():"",src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(t){this.container[0].className="mejs-container "+t,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(t){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(t){this.media.setMuted(t)},setCurrentTime:function(t){this.media.setCurrentTime(t)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(t){this.media.setVolume(t)},getVolume:function(){return this.media.volume},setSrc:function(t){this.media.setSrc(t)},remove:function(){var t,e,n=this;for(t in n.options.features)if(e=n.options.features[t],n["clean"+e])try{n["clean"+e](n)}catch(i){}n.isDynamic?n.$node.insertBefore(n.container):(n.$media.prop("controls",!0),n.$node.clone().show().insertBefore(n.container),n.$node.remove()),"native"!==n.media.pluginType&&n.media.remove(),delete mejs.players[n.id],n.container.remove(),n.globalUnbind(),delete n.node.player}},function(){function e(e,i){var r={d:[],w:[]};return t.each((e||"").split(" "),function(t,e){var o=e+"."+i;0===o.indexOf(".")?(r.d.push(o),r.w.push(o)):r[n.test(e)?"w":"d"].push(o)}),r.d=r.d.join(" "),r.w=r.w.join(" "),r}var n=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(n,i,r){var o=this;n=e(n,o.id),n.d&&t(document).bind(n.d,i,r),n.w&&t(window).bind(n.w,i,r)},mejs.MediaElementPlayer.prototype.globalUnbind=function(n,i){var r=this;n=e(n,r.id),n.d&&t(document).unbind(n.d,i),n.w&&t(window).unbind(n.w,i)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(t){return this.each(t===!1?function(){var t=jQuery(this).data("mediaelementplayer");t&&t.remove(),jQuery(this).removeData("mediaelementplayer")}:function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,t))}),this}),t(document).ready(function(){t(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(t){t.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),t.extend(MediaElementPlayer.prototype,{buildplaypause:function(e,n,i,r){var o=this,s=t('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+o.id+'" title="'+o.options.playpauseText+'" aria-label="'+o.options.playpauseText+'"></button></div>').appendTo(n).click(function(t){return t.preventDefault(),r.paused?r.play():r.pause(),!1});r.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1),r.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{stopText:"Stop"}),t.extend(MediaElementPlayer.prototype,{buildstop:function(e,n,i,r){{var o=this;t('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+o.id+'" title="'+o.options.stopText+'" aria-label="'+o.options.stopText+'"></button></div>').appendTo(n).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),r.pause(),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-poster").show())})}}})}(mejs.$),function(t){t.extend(MediaElementPlayer.prototype,{buildprogress:function(e,n,i,r){t('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var o=this,s=n.find(".mejs-time-total"),a=n.find(".mejs-time-loaded"),l=n.find(".mejs-time-current"),u=n.find(".mejs-time-handle"),c=n.find(".mejs-time-float"),h=n.find(".mejs-time-float-current"),d=function(t){var e=t.pageX,n=s.offset(),i=s.outerWidth(!0),o=0,a=0,l=0;r.duration&&(e<n.left?e=n.left:e>i+n.left&&(e=i+n.left),l=e-n.left,o=l/i,a=.02>=o?0:o*r.duration,p&&a!==r.currentTime&&r.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(c.css("left",l),h.html(mejs.Utility.secondsToTimeCode(a)),c.show()))},p=!1,f=!1;s.bind("mousedown",function(t){return 1===t.which?(p=!0,d(t),o.globalBind("mousemove.dur",function(t){d(t)}),o.globalBind("mouseup.dur",function(){p=!1,c.hide(),o.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,o.globalBind("mousemove.dur",function(t){d(t)}),mejs.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){f=!1,p||(o.globalUnbind(".dur"),c.hide())}),r.addEventListener("progress",function(t){e.setProgressRail(t),e.setCurrentRail(t)},!1),r.addEventListener("timeupdate",function(t){e.setProgressRail(t),e.setCurrentRail(t)},!1),o.loaded=a,o.total=s,o.current=l,o.handle=u},setProgressRail:function(t){var e=this,n=void 0!=t?t.target:e.media,i=null;n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?i=n.buffered.end(0)/n.duration:n&&void 0!=n.bytesTotal&&n.bytesTotal>0&&void 0!=n.bufferedBytes?i=n.bufferedBytes/n.bytesTotal:t&&t.lengthComputable&&0!=t.total&&(i=t.loaded/t.total),null!==i&&(i=Math.min(1,Math.max(0,i)),e.loaded&&e.total&&e.loaded.width(e.total.width()*i))},setCurrentRail:function(){var t=this;if(void 0!=t.media.currentTime&&t.media.duration&&t.total&&t.handle){var e=Math.round(t.total.width()*t.media.currentTime/t.media.duration),n=e-Math.round(t.handle.outerWidth(!0)/2);t.current.width(e),t.handle.css("left",n)}}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),t.extend(MediaElementPlayer.prototype,{buildcurrent:function(e,n,i,r){var o=this;t('<div class="mejs-time"><span class="mejs-currenttime">'+(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(n),o.currenttime=o.controls.find(".mejs-currenttime"),r.addEventListener("timeupdate",function(){e.updateCurrent()},!1)},buildduration:function(e,n,i,r){var o=this;n.children().last().find(".mejs-currenttime").length>0?t(o.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),t('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)),o.durationD=o.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){e.updateDuration()},!1)},updateCurrent:function(){var t=this;t.currenttime&&t.currenttime.html(mejs.Utility.secondsToTimeCode(t.media.currentTime,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))},updateDuration:function(){var t=this;t.container.toggleClass("mejs-long-video",t.media.duration>3600),t.durationD&&(t.options.duration>0||t.media.duration)&&t.durationD.html(mejs.Utility.secondsToTimeCode(t.options.duration>0?t.options.duration:t.media.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),t.extend(MediaElementPlayer.prototype,{buildvolume:function(e,n,i,r){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var o=this,s=o.isVideo?o.options.videoVolume:o.options.audioVolume,a="horizontal"==s?t('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):t('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),l=o.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=o.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=o.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),h=o.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),d=function(t,e){if(!l.is(":visible")&&"undefined"==typeof e)return l.show(),d(t,!0),void l.hide();if(t=Math.max(0,t),t=Math.min(t,1),0==t?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==s){var n=u.height(),i=u.position(),r=n-n*t;h.css("top",Math.round(i.top+r-h.height()/2)),c.height(n-r),c.css("top",i.top+r)}else{var o=u.width(),i=u.position(),p=o*t;h.css("left",Math.round(i.left+p-h.width()/2)),c.width(Math.round(p))}},p=function(t){var e=null,n=u.offset();if("vertical"==s){var i=u.height(),o=(parseInt(u.css("top").replace(/px/,""),10),t.pageY-n.top);if(e=(i-o)/i,0==n.top||0==n.left)return}else{var a=u.width(),l=t.pageX-n.left;e=l/a}e=Math.max(0,e),e=Math.min(e,1),d(e),r.setMuted(0==e?!0:!1),r.setVolume(e)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=s||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(t){return p(t),o.globalBind("mousemove.vol",function(t){p(t)}),o.globalBind("mouseup.vol",function(){f=!1,o.globalUnbind(".vol"),m||"vertical"!=s||l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(d(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(d(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),o.container.is(":visible")&&(d(e.options.startVolume),0===e.options.startVolume&&r.setMuted(!0),"native"===r.pluginType&&r.setVolume(e.options.startVolume))}}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),t.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(e,n,i,r){if(e.isVideo){if(e.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var o=function(){e.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(e.isNativeFullScreen=!0,e.setControlsSize()):(e.isNativeFullScreen=!1,e.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?e.globalBind(mejs.MediaFeatures.fullScreenEventName,o):e.container.bind(mejs.MediaFeatures.fullScreenEventName,o)}var s=this,a=(e.container,t('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'" aria-label="'+s.options.fullscreenText+'"></button></div>').appendTo(n));if("native"===s.media.pluginType||!s.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var t=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||e.isFullScreen;t?e.exitFullScreen():e.enterFullScreen()});else{var l=null,u=function(){var t,e=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",n.appendChild(e),t=i&&"auto"===i(e,"").pointerEvents,n.removeChild(e),!!t):!1}();if(u&&!mejs.MediaFeatures.isOpera){var c,h,d=!1,p=function(){if(d){for(var t in f)f[t].hide();a.css("pointer-events",""),s.controls.css("pointer-events",""),s.media.removeEventListener("click",s.clickToPlayPauseCallback),d=!1}},f={},m=["top","left","right","bottom"],g=function(){var t=a.offset().left-s.container.offset().left,e=a.offset().top-s.container.offset().top,n=a.outerWidth(!0),i=a.outerHeight(!0),r=s.container.width(),o=s.container.height();for(c in f)f[c].css({position:"absolute",top:0,left:0});f.top.width(r).height(e),f.left.width(t).height(i).css({top:e}),f.right.width(r-t-n).height(i).css({top:e,left:t+n}),f.bottom.width(r).height(o-i-e).css({top:e+i})};for(s.globalBind("resize",function(){g()}),c=0,h=m.length;h>c;c++)f[m[c]]=t('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(p).hide();a.on("mouseover",function(){if(!s.isFullScreen){var t=a.offset(),n=e.container.offset();r.positionFullscreenButton(t.left-n.left,t.top-n.top,!1),a.css("pointer-events","none"),s.controls.css("pointer-events","none"),s.media.addEventListener("click",s.clickToPlayPauseCallback);for(c in f)f[c].show();g(),d=!0}}),r.addEventListener("fullscreenchange",function(){s.isFullScreen=!s.isFullScreen,s.isFullScreen?s.media.removeEventListener("click",s.clickToPlayPauseCallback):s.media.addEventListener("click",s.clickToPlayPauseCallback),p()}),s.globalBind("mousemove",function(t){if(d){var e=a.offset();(t.pageY<e.top||t.pageY>e.top+a.outerHeight(!0)||t.pageX<e.left||t.pageX>e.left+a.outerWidth(!0))&&(a.css("pointer-events",""),s.controls.css("pointer-events",""),d=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var t=a.offset(),n=e.container.offset();r.positionFullscreenButton(t.left-n.left,t.top-n.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}e.fullscreenBtn=a,s.globalBind("keydown",function(t){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&27==t.keyCode&&e.exitFullScreen()})}},cleanfullscreen:function(t){t.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var e=this;if("native"===e.media.pluginType||!mejs.MediaFeatures.isFirefox&&!e.options.usePluginFullScreen){if(t(document.documentElement).addClass("mejs-fullscreen"),normalHeight=e.container.height(),normalWidth=e.container.width(),"native"===e.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(e.container[0]),e.isInIframe&&setTimeout(function i(){e.isNativeFullScreen&&(t(window).width()!==screen.width?e.exitFullScreen():setTimeout(i,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void e.media.webkitEnterFullscreen();if(e.isInIframe){var n=e.options.newWindowCallback(this);if(""!==n){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return e.pause(),void window.open(n,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){e.isNativeFullScreen||(e.pause(),window.open(n,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}e.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),e.containerSizeTimeout=setTimeout(function(){e.container.css({width:"100%",height:"100%"}),e.setControlsSize()},500),"native"===e.media.pluginType?e.$media.width("100%").height("100%"):(e.container.find(".mejs-shim").width("100%").height("100%"),e.media.setVideoSize(t(window).width(),t(window).height())),e.layers.children("div").width("100%").height("100%"),e.fullscreenBtn&&e.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),e.setControlsSize(),e.isFullScreen=!0}},exitFullScreen:function(){var e=this;return clearTimeout(e.containerSizeTimeout),"native"!==e.media.pluginType&&mejs.MediaFeatures.isFirefox?void e.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),t(document.documentElement).removeClass("mejs-fullscreen"),e.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===e.media.pluginType?e.$media.width(normalWidth).height(normalHeight):(e.container.find(".mejs-shim").width(normalWidth).height(normalHeight),e.media.setVideoSize(normalWidth,normalHeight)),e.layers.children("div").width(normalWidth).height(normalHeight),e.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),e.setControlsSize(),void(e.isFullScreen=!1))}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),t.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(e,n,i,r){if(0!=e.tracks.length){var o,s=this;if(s.domNode.textTracks)for(var o=s.domNode.textTracks.length-1;o>=0;o--)s.domNode.textTracks[o].mode="hidden";e.chapters=t('<div class="mejs-chapters mejs-layer"></div>').prependTo(i).hide(),e.captions=t('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(i).hide(),e.captionsText=e.captions.find(".mejs-captions-text"),e.captionsButton=t('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+e.id+'_captions" id="'+e.id+'_captions_none" value="none" checked="checked" /><label for="'+e.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(n);var a=0;for(o=0;o<e.tracks.length;o++)"subtitles"==e.tracks[o].kind&&a++;for(s.options.toggleCaptionsButtonWhenOnlyOne&&1==a?e.captionsButton.on("click",function(){if(null==e.selectedTrack)var t=e.tracks[0].srclang;else var t="none";e.setTrack(t)}):e.captionsButton.hover(function(){t(this).find(".mejs-captions-selector").css("visibility","visible")
},function(){t(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,e.setTrack(lang)}),e.options.alwaysShowControls?e.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):e.container.bind("controlsshown",function(){e.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){r.paused||e.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),e.trackToLoad=-1,e.selectedTrack=null,e.isLoadingTrack=!1,o=0;o<e.tracks.length;o++)"subtitles"==e.tracks[o].kind&&e.addTrackButton(e.tracks[o].srclang,e.tracks[o].label);e.loadNextTrack(),r.addEventListener("timeupdate",function(){e.displayCaptions()},!1),""!=e.options.slidesSelector&&(e.slidesContainer=t(e.options.slidesSelector),r.addEventListener("timeupdate",function(){e.displaySlides()},!1)),r.addEventListener("loadedmetadata",function(){e.displayChapters()},!1),e.container.hover(function(){e.hasChapters&&(e.chapters.css("visibility","visible"),e.chapters.fadeIn(200).height(e.chapters.find(".mejs-chapter").outerHeight()))},function(){e.hasChapters&&!r.paused&&e.chapters.fadeOut(200,function(){t(this).css("visibility","hidden"),t(this).css("display","block")})}),null!==e.node.getAttribute("autoplay")&&e.chapters.css("visibility","hidden")}},setTrack:function(t){var e,n=this;if("none"==t)n.selectedTrack=null,n.captionsButton.removeClass("mejs-captions-enabled");else for(e=0;e<n.tracks.length;e++)if(n.tracks[e].srclang==t){null==n.selectedTrack&&n.captionsButton.addClass("mejs-captions-enabled"),n.selectedTrack=n.tracks[e],n.captions.attr("lang",n.selectedTrack.srclang),n.displayCaptions();break}},loadNextTrack:function(){var t=this;t.trackToLoad++,t.trackToLoad<t.tracks.length?(t.isLoadingTrack=!0,t.loadTrack(t.trackToLoad)):(t.isLoadingTrack=!1,t.checkForTracks())},loadTrack:function(e){var n=this,i=n.tracks[e],r=function(){i.isLoaded=!0,n.enableTrackButton(i.srclang,i.label),n.loadNextTrack()};t.ajax({url:i.src,dataType:"text",success:function(t){i.entries="string"==typeof t&&/<tt\s+xml/gi.exec(t)?mejs.TrackFormatParser.dfxp.parse(t):mejs.TrackFormatParser.webvvt.parse(t),r(),"chapters"==i.kind&&n.media.addEventListener("play",function(){n.media.duration>0&&n.displayChapters(i)},!1),"slides"==i.kind&&n.setupSlides(i)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(e,n){var i=this;""===n&&(n=mejs.language.codes[e]||e),i.captionsButton.find("input[value="+e+"]").prop("disabled",!1).siblings("label").html(n),i.options.startLanguage==e&&t("#"+i.id+"_captions_"+e).click(),i.adjustLanguageBox()},addTrackButton:function(e,n){var i=this;""===n&&(n=mejs.language.codes[e]||e),i.captionsButton.find("ul").append(t('<li><input type="radio" name="'+i.id+'_captions" id="'+i.id+"_captions_"+e+'" value="'+e+'" disabled="disabled" /><label for="'+i.id+"_captions_"+e+'">'+n+" (loading)</label></li>")),i.adjustLanguageBox(),i.container.find(".mejs-captions-translations option[value="+e+"]").remove()},adjustLanguageBox:function(){var t=this;t.captionsButton.find(".mejs-captions-selector").height(t.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+t.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var t=this,e=!1;if(t.options.hideCaptionsButtonWhenEmpty){for(i=0;i<t.tracks.length;i++)if("subtitles"==t.tracks[i].kind){e=!0;break}e||(t.captionsButton.hide(),t.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var t,e=this,n=e.selectedTrack;if(null!=n&&n.isLoaded){for(t=0;t<n.entries.times.length;t++)if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop)return e.captionsText.html(n.entries.text[t]),void e.captions.show().height(0);e.captions.hide()}else e.captions.hide()}},setupSlides:function(t){var e=this;e.slides=t,e.slides.entries.imgs=[e.slides.entries.text.length],e.showSlide(0)},showSlide:function(e){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var n=this,i=n.slides.entries.text[e],r=n.slides.entries.imgs[e];"undefined"==typeof r||"undefined"==typeof r.fadeIn?n.slides.entries.imgs[e]=r=t('<img src="'+i+'">').on("load",function(){r.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):r.is(":visible")||r.is(":animated")||r.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var t,e=this,n=e.slides;for(t=0;t<n.entries.times.length;t++)if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop)return void e.showSlide(t)}},displayChapters:function(){var t,e=this;for(t=0;t<e.tracks.length;t++)if("chapters"==e.tracks[t].kind&&e.tracks[t].isLoaded){e.drawChapters(e.tracks[t]),e.hasChapters=!0;break}},drawChapters:function(e){var n,i,r=this,o=0,s=0;for(r.chapters.empty(),n=0;n<e.entries.times.length;n++)i=e.entries.times[n].stop-e.entries.times[n].start,o=Math.floor(i/r.media.duration*100),(o+s>100||n==e.entries.times.length-1&&100>o+s)&&(o=100-s),r.chapters.append(t('<div class="mejs-chapter" rel="'+e.entries.times[n].start+'" style="left: '+s.toString()+"%;width: "+o.toString()+'%;"><div class="mejs-chapter-block'+(n==e.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+e.entries.text[n]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(e.entries.times[n].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(e.entries.times[n].stop)+"</span></div></div>")),s+=o;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(t(this).attr("rel"))),r.media.paused&&r.media.play()}),r.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(e){for(var n,i,r=0,o=mejs.TrackFormatParser.split2(e,/\r?\n/),s={text:[],times:[]};r<o.length;r++)if(this.pattern_identifier.exec(o[r])&&(r++,n=this.pattern_timecode.exec(o[r]),n&&r<o.length)){for(r++,i=o[r],r++;""!==o[r]&&r<o.length;)i=i+"\n"+o[r],r++;i=t.trim(i).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),s.text.push(i),s.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(n[1])?.2:mejs.Utility.convertSMPTEtoSeconds(n[1]),stop:mejs.Utility.convertSMPTEtoSeconds(n[3]),settings:n[5]})}return s}},dfxp:{parse:function(e){e=t(e).filter("tt");var n,i,r=0,o=e.children("div").eq(0),s=o.find("p"),a=e.find("#"+o.attr("style")),l={text:[],times:[]};if(a.length){var u=a.removeAttr("id").get(0).attributes;if(u.length)for(n={},r=0;r<u.length;r++)n[u[r].name.split(":")[1]]=u[r].value}for(r=0;r<s.length;r++){var c,h={start:null,stop:null,style:null};if(s.eq(r).attr("begin")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("begin"))),!h.start&&s.eq(r-1).attr("end")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r-1).attr("end"))),s.eq(r).attr("end")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("end"))),!h.stop&&s.eq(r+1).attr("begin")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r+1).attr("begin"))),n){c="";for(var d in n)c+=d+":"+n[d]+";"}c&&(h.style=c),0==h.start&&(h.start=.2),l.times.push(h),i=t.trim(s.eq(r).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(i),0==l.times.start&&(l.times.start=2)}return l}},split2:function(t,e){return t.split(e)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(t,e){var n,i=[],r="";for(n=0;n<t.length;n++)r+=t.substring(n,n+1),e.test(r)&&(i.push(r.replace(e,"")),r="");return i.push(r),i})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(t){return"undefined"==typeof t.enterFullScreen?null:mejs.i18n.t(t.isFullScreen?"Turn off Fullscreen":"Go Fullscreen")},click:function(t){t.isFullScreen?t.exitFullScreen():t.enterFullScreen()}},{render:function(t){return mejs.i18n.t(t.media.muted?"Unmute":"Mute")},click:function(t){t.setMuted(t.media.muted?!1:!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(t){window.location.href=t.media.currentSrc}}]}),t.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(e){e.contextMenu=t('<div class="mejs-contextmenu"></div>').appendTo(t("body")).hide(),e.container.bind("contextmenu",function(t){return e.isContextMenuEnabled?(t.preventDefault(),e.renderContextMenu(t.clientX-1,t.clientY-1),!1):void 0}),e.container.bind("click",function(){e.contextMenu.hide()}),e.contextMenu.bind("mouseleave",function(){e.startContextMenuTimer()})},cleancontextmenu:function(t){t.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var t=this;t.killContextMenuTimer(),t.contextMenuTimer=setTimeout(function(){t.hideContextMenu(),t.killContextMenuTimer()},750)},killContextMenuTimer:function(){var t=this.contextMenuTimer;null!=t&&(clearTimeout(t),delete t,t=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(e,n){for(var i=this,r="",o=i.options.contextMenuItems,s=0,a=o.length;a>s;s++)if(o[s].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=o[s].render(i);null!=l&&(r+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}i.contextMenu.empty().append(t(r)).css({top:n,left:e}).show(),i.contextMenu.find(".mejs-contextmenu-item").each(function(){var e=t(this),n=parseInt(e.data("itemindex"),10),r=i.options.contextMenuItems[n];"undefined"!=typeof r.show&&r.show(e,i),e.click(function(){"undefined"!=typeof r.click&&r.click(i),i.contextMenu.hide()})}),setTimeout(function(){i.killControlsTimer("rev3")},100)}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),t.extend(MediaElementPlayer.prototype,{buildpostroll:function(e,n,i){var r=this,o=r.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof o&&(e.postroll=t('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(i).hide(),r.media.addEventListener("ended",function(){t.ajax({dataType:"html",url:o,success:function(t){i.find(".mejs-postroll-layer-content").html(t)}}),e.postroll.show()},!1))}})}(mejs.$),function(){mejs.MediaElementDefaults.pluginPath="",mejs.MediaElementDefaults.flashName="/flash/flashmediaelement.swf"}.call(this),function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function n(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}function i(e,n){this.$element=t(e),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r,o=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,a=i[0].offsetHeight,l=e(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":r={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-s/2};break;case"s":r={top:o.top-a-this.options.offset,left:o.left+o.width/2-s/2};break;case"e":r={top:o.top+o.height/2-a/2,left:o.left-s-this.options.offset};break;case"w":r={top:o.top+o.height/2-a/2,left:o.left+o.width+this.options.offset}}2==l.length&&(r.left="w"==l.charAt(1)?o.left+o.width/2-15:o.left+o.width/2-s+15),i.css(r).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(e(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,n=this.options;this.fixTitle();var t,n=this.options;return"string"==typeof n.title?t=e.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(t=n.title.call(e[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||n.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function n(n){var r=t.data(n,"tipsy");return r||(r=new i(n,t.fn.tipsy.elementOptions(n,e)),t.data(n,"tipsy",r)),r}function r(){var t=n(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn))}function o(){var t=n(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e){var s=this.data("tipsy");return s&&s[e](),this}if(e=t.extend({},t.fn.tipsy.defaults,e),e.live||this.each(function(){n(this)}),"manual"!=e.trigger){var a=e.live?"live":"bind",l="hover"==e.trigger?"mouseenter":"focus",u="hover"==e.trigger?"mouseleave":"blur";this[a](l,r)[a](u,o)}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each(function(){var e=t.data(this,"tipsy-pointee");e&&n(e)||t(this).remove()})},t.fn.tipsy.elementOptions=function(e,n){return t.metadata?t.extend({},n,t(e).metadata()):n},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},r=t(document).scrollTop()+e,o=t(document).scrollLeft()+e,s=t(this);return s.offset().top<r&&(i.ns="n"),s.offset().left<o&&(i.ew="w"),t(window).width()+t(document).scrollLeft()-s.offset().left<e&&(i.ew="e"),t(window).height()+t(document).scrollTop()-s.offset().top<e&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),function(){var t,e,n,i,r,o,s;r=null,e=function(){return null!=r?r:$("#peek").data("request-id")},i=function(){return $("#peek").length},s=function(t){var n,i;for(n in t.data)for(i in t.data[n])$("[data-defer-to="+n+"-"+i+"]").text(t.data[n][i]);return $(document).trigger("peek:render",[e(),t])},n=function(){return $("#peek .peek-tooltip, #peek .tooltip").each(function(){var t,e;return t=$(this),e=t.hasClass("rightwards")||t.hasClass("leftwards")?$.fn.tipsy.autoWE:$.fn.tipsy.autoNS,t.tipsy({gravity:e})})},o=function(t){var e;if(!$(t.target).is(":input"))return 96!==t.which||t.metaKey?void 0:(e=$("#peek"),e.hasClass("disabled")?(e.removeClass("disabled"),document.cookie="peek=true; path=/"):(e.addClass("disabled"),document.cookie="peek=false; path=/"))},t=function(){return $.ajax("/peek/results",{data:{request_id:e()},success:function(t){return s(t)},error:function(){}})},$(document).on("keypress",o),$(document).on("peek:update",n),$(document).on("peek:update",t),$(document).on("pjax:end",function(t,e){return null!=e&&(r=e.getResponseHeader("X-Request-Id")),i()?$(this).trigger("peek:update"):void 0}),$(document).on("page:change",function(){return i()?$(this).trigger("peek:update"):void 0}),$(function(){return i()?$(this).trigger("peek:update"):void 0})}.call(this),function(){var t,e,n,i;t=function(){function t(t){var e,n;null==t&&(t={}),this.el=$("#peek-view-performance-bar .performance-bar");for(e in t)n=t[e],this[e]=n;null==this.width&&(this.width=this.el.width()),null==this.timing&&(this.timing=window.performance.timing)}return t.prototype.appInfo=null,t.prototype.width=null,t.formatTime=function(t){return t>=1e3?""+(t/1e3).toFixed(3)+"s":""+t.toFixed(0)+"ms"},t.prototype.render=function(t){var e,n;return null==t&&(t=0),this.el.empty(),this.addBar("frontend","#90d35b","domLoading","domInteractive"),n=this.timing.responseEnd-this.timing.requestStart,t&&n>=t?(e=n-t,this.addBar("latency / receiving","#f1faff",this.timing.requestStart+t,this.timing.requestStart+t+e),this.addBar("app","#90afcf",this.timing.requestStart,this.timing.requestStart+t,this.appInfo)):this.addBar("backend","#c1d7ee","requestStart","responseEnd"),this.addBar("tcp / ssl","#45688e","connectStart","connectEnd"),this.addBar("redirect","#0c365e","redirectStart","redirectEnd"),this.addBar("dns","#082541","domainLookupStart","domainLookupEnd"),this.el},t.prototype.isLoaded=function(){return this.timing.domInteractive},t.prototype.start=function(){return this.timing.navigationStart},t.prototype.end=function(){return this.timing.domInteractive},t.prototype.total=function(){return this.end()-this.start()},t.prototype.addBar=function(e,n,i,r){var o,s,a,l,u,c;return"string"==typeof i&&(i=this.timing[i]),"string"==typeof r&&(r=this.timing[r]),null!=i&&null!=r?(l=r-i,a=i-this.start(),s=this.mapH(a),c=this.mapH(l),u=""+e+": "+t.formatTime(l),o=$("<li></li>",{title:u,"class":"peek-tooltip"}),o.css({width:""+c+"px",left:""+s+"px",background:n}),o.tipsy({gravity:$.fn.tipsy.autoNS}),this.el.append(o)):void 0},t.prototype.mapH=function(t){return t*(this.width/this.total())},t}(),n=function(){var e,n,r,o;return n=$("#peek-server_response_time"),o=Math.round(1e3*n.data("time")),e=new t,e.render(o),r=$("<span>",{"class":"peek-tooltip",title:"Total navigation time for this page."}).text(t.formatTime(e.total())),r.tipsy({gravity:$.fn.tipsy.autoNS}),i(r)},i=function(t){return $("#serverstats").html(t)},e=null,$(document).on("pjax:start page:fetch",function(t){return e=t.timeStamp}),$(document).on("pjax:end page:change",function(n,r){var o,s,a;return o=n.timeStamp,a=o-e,s=r?parseInt(r.getResponseHeader("X-Runtime")):0,setTimeout(function(){var n,r,l,u;return r=(new Date).getTime(),n=new t({timing:{requestStart:e,responseEnd:o,domLoading:o,domInteractive:r},isLoaded:function(){return!0},start:function(){return e},end:function(){return r}}),n.render(s),u=null!=$.fn.pjax?"PJAX":"Turbolinks",l=$("<span>",{"class":"peek-tooltip",title:""+u+" navigation time"}).text(t.formatTime(a)),l.tipsy({gravity:$.fn.tipsy.autoNS}),i(l),e=null},0)}),$(function(){return window.performance?n():$("#peek-view-performance-bar").remove()})}.call(this),function(){$(document).on("click",".js-lineprof-file",function(t){return $(this).parents(".peek-rblineprof-file").next("div").toggle(),t.preventDefault(),!1}),$(function(){})}.call(this);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(t,e){function n(t,e,n){function i(){}function r(){}i.prototype=t,r.prototype=t.subs;var o,s=new i;s.subs=new r,s.ib();for(o in e)s.subs[o]=e[o];for(o in n)s.partials[o]=n[o];return s}function i(t){return String(null===t||void 0===t?"":t)}function r(t){return t=i(t),c.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(u,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i,this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(){return""},v:r,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],r=e[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}return r?(this.partials[t].base=r,i.subs&&(r=n(r,i.subs,i.partials)),this.partials[t].instance=r,r):null},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!h(i))return void n(t,e,this);for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,o,s){var a;return h(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,n,i,r,o,s)),a=""===t||!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,i){var r=t.split("."),o=this.f(r[0],e,n,i),s=null;if("."===t&&h(e[e.length-2]))return e[e.length-1];for(var a=1;a<r.length;a++)o&&"object"==typeof o&&null!=o[r[a]]?(s=o,o=o[r[a]]):o="";return i&&!o?!1:(i||"function"!=typeof o||(e.push(s),o=this.mv(o,e,n),e.pop()),o)},f:function(t,e,n,i){for(var r=!1,o=null,s=!1,a=e.length-1;a>=0;a--)if(o=e[a],o&&"object"==typeof o&&null!=o[t]){r=o[t],s=!0;break}return s?(i||"function"!=typeof r||(r=this.mv(r,e,n)),r):i?!1:""},ls:function(t,e,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(t.call(e,r)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,n,i,r,o,s){var a=e[e.length-1],l=t.call(a);return"function"==typeof l?i?!0:this.ls(l,a,n,this.text.substring(r,o),s):l},mv:function(t,e,n){var r=e[e.length-1],o=t.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(t,e,n,i){var r=this.subs[t];r&&r(e,n,this,i)}};var o=/&/g,s=/</g,a=/>/g,l=/\'/g,u=/\"/g,c=/[&<>\"\']/,h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(e,n,i,a){var l=[],u=null,c=null,h=null;for(c=i[i.length-1];e.length>0;){if(h=e.shift(),c&&"<"==c.tag&&!(h.tag in b))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||o(h,a))i.push(h),h.nodes=r(e,h.tag,i,a);else{if("/"==h.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+h.n);if(u=i.pop(),h.n!=u.n&&!s(h.n,u.n,a))throw new Error("Nesting error: "+u.n+" vs. "+h.n);return u.end=h.i,l}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}l.push(h)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+u(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function l(t){var e=[];for(var n in t.partials)e.push('"'+u(n)+'":{name:"'+u(t.partials[n].name)+'", '+l(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function u(t){return t.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function c(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||""),i=n+t.n+w++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+u(i)+'",c,p,"'+(t.indent||"")+'"));',i}function d(t,e){e.code+="t.b(t.t(t."+c(t.n)+'("'+u(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(r,o){function s(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var e=!0,n=k;n<b.length;n++)if(e=t.tags[b[n].tag]<t.tags._v||"_t"==b[n].tag&&null===b[n].text.match(f),!e)return!1;return e}function l(t,e){if(s(),t&&a())for(var n,i=k;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].text.toString()),b.splice(i,1));else e||b.push({tag:"\n"});w=!1,k=b.length}function u(t,e){var i="="+C,r=t.indexOf(i,e),o=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return x=o[0],C=o[1],r+i.length-1}var c=r.length,h=0,d=1,p=2,m=h,g=null,v=null,y="",b=[],w=!1,_=0,k=0,x="{{",C="}}";for(o&&(o=o.split(" "),x=o[0],C=o[1]),_=0;c>_;_++)m==h?i(x,r,_)?(--_,s(),m=d):"\n"==r.charAt(_)?l(w):y+=r.charAt(_):m==d?(_+=x.length-1,v=t.tags[r.charAt(_+1)],g=v?r.charAt(_+1):"_v","="==g?(_=u(r,_),m=h):(v&&_++,m=p),w=_):i(C,r,_)?(b.push({tag:g,n:n(y),otag:x,ctag:C,i:"/"==g?w-x.length:_+C.length}),y="",_+=C.length-1,m=h,"{"==g&&("}}"==C?_++:e(b[b.length-1]))):y+=r.charAt(_);return l(w,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+l(e)+"}"};var w=0;t.generate=function(e,n,i){w=0;var r={code:"",subs:{},partials:{}};return t.walk(e,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+c(e.n)+'("'+u(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+c(e.n)+'("'+u(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[h(e,n)];r.subs=i.subs,r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+u(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+c(t.n)+'("'+u(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+u(t.text)+'"')},"{":d,"&":d},t.walk=function(e,n){for(var i,r=0,o=e.length;o>r;r++)i=t.codegen[e[r].tag],i&&i(e[r],n);return n},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];return r?r:(r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=r)}}("undefined"!=typeof exports?exports:Hogan),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_correct"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Nice!</strong> "),i.b(i.v(i.f("feedback",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-goto">Next Task</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_wrong"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Bummer!</strong> "),i.b(i.v(i.f("feedback",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-alert cc-test" data-default-text="Try again">Try again</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_results"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="grid-100">'),i.b("\n"+n),i.b('<div class="feedback neutral">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Results</strong></p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b("      <a class='button button-secondary hide-results' data-task-number='"),i.b(i.v(i.f("currentTask",t,e,0))),i.b("'>Hide</a>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.b("\n"+n),i.b("<iframe id='results-"),i.b(i.v(i.f("currentTask",t,e,0))),i.b("' class='command-results' src='"),i.b(i.v(i.f("url",t,e,0))),i.b("'>"),i.b("\n"+n),i.b("</iframe>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_task"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="contained task_view">'),i.b("\n"+n),i.b('  <div class="grid-100">'),i.b("\n"+n),i.b('    <div class="secondary-heading challenge-heading">'),i.b("\n"+n),i.b('      <div id="instructions">'),i.b("\n"+n),i.b('        <strong class="task-count">Challenge task '),i.b(i.v(i.f("currentTask",t,e,0))),i.b(" of "),i.b(i.v(i.f("totalTasks",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b('        <img src="'),i.b(i.v(i.f("badgeUrl",t,e,0))),i.b('" style="display: none"/>'),i.b("\n"+n),i.b('        <h1 class="markdown-zone">'),i.b(i.t(i.d("taskData.body",t,e,0))),i.b("</h1>"),i.b("\n"+n),i.b("        <p>Type in your command below, then press Enter.</p>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"),i.b("\n"+n),i.b('    <div class="workspace">'),i.b("\n"+n),i.b('      <div class="cc-workspace">'),i.b("\n"+n),i.b('        <div id="feedback">'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="cc-editor-container">'),i.b("\n"+n),i.b('          <div class="terminal"></div>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_correct"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Well done!</strong> "),i.b(i.v(i.f("feedback",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-goto" data-task="'),i.b(i.v(i.f("nextTask",t,e,0))),i.b('">Next task<span class="icon icon-right-white"></span></a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_finished"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback correct">'),i.b("\n"+n),i.b('  <div class="grid-100">'),i.b("\n"+n),i.b("    <p><strong>Congrats!</strong> You completed the challenge!</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_inactive_task_failed"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Oops!</strong> It looks like Task "),i.b(i.v(i.f("failedTask",t,e,0))),i.b(" is no longer passing.</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("currentTask",t,e,0))),i.b('">Recheck work</a>'),i.b("\n"+n),i.b('      <a class="button button-alert cc-goto" data-task="'),i.b(i.v(i.f("failedTask",t,e,0))),i.b('">Go to task '),i.b(i.v(i.f("failedTaskAsWord",t,e,0))),i.b("</a>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_neutral"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback neutral">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b('    <p><span class="icon icon-info"></span><strong>Important:</strong> The code you write in each task should be added to the code written in the previous task.</p>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-secondary cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),i.b("\n"+n),i.b('      <a class="button button-secondary show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-secondary show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("task",t,e,0))),i.b('" data-default-text="Check work">Check work</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_wrong"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback incorrect">'),i.b("\n"+n),i.b('  <div class="grid-60">'),i.b("\n"+n),i.b("    <p><strong>Bummer!</strong> "),i.b(i.v(i.f("feedback",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-40">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a class="button button-alert cc-preview" data-default-text="Refresh">Refresh<span class="icon icon-resume"></span></a>'),i.b("\n"+n),i.b('      <a class="button button-alert show-results-button"><i>Preview<span class="icon icon-view"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-alert show-workspace-button"><i>Editor<span class="icon icon-editor"></span></i></a>'),i.b("\n"+n),i.b('      <a class="button button-primary cc-test" data-task="'),i.b(i.v(i.f("failedTask",t,e,0))),i.b('" data-default-text="Recheck work">Recheck work</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/instructions"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<strong class="task-count">Challenge task '),i.b(i.v(i.f("task",t,e,0))),i.b(" of "),i.b(i.v(i.f("totalTasks",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b('<img src="'),i.b(i.v(i.f("badgeImageUrl",t,e,0))),i.b('" style="display: none"/>'),i.b("\n"+n),i.b('<h1 class="markdown-zone"><p>'),i.b(i.t(i.f("body",t,e,0))),i.b("</p></h1>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["profile/github_repo"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<li class="grid-50 tablet-grid-50">'),i.b("\n"+n),i.b('  <div class="content-block">'),i.b("\n"+n),i.b('    <div class="content-meta">'),i.b("\n"+n),i.b('      <a href="'),i.b(i.v(i.f("repoUrl",t,e,0))),i.b('">'),i.b("\n"+n),i.b('        <span class="icon icon-github"></span>'),i.b("\n"+n),i.b("        <strong>Github Repository</strong>"),i.b("\n"+n),i.b("        <h3>"),i.b(i.v(i.f("repoName",t,e,0))),i.b("</h3>"),i.b("\n"+n),i.b("      </a>"),i.b("\n"+n),i.b('      <p class="description">'),i.b(i.v(i.f("repoDescription",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b('      <div class="content-actions-container content-stats">'),i.b("\n"+n),i.b("        <ul>"),i.b("\n"+n),i.b("          <li>"),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("repoForksUrl",t,e,0))),i.b('"></a>'),i.b("\n"+n),i.b("              <strong>"),i.b(i.v(i.f("repoForks",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("              <p>Forks</p>"),i.b("\n"+n),i.b("            </a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n"+n),i.b("          <li>"),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("repoStargazersUrl",t,e,0))),i.b('">'),i.b("\n"+n),i.b("              <strong>"),i.b(i.v(i.f("repoStargazers",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("              <p>Stargazers</p>"),i.b("\n"+n),i.b("            </a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n"+n),i.b("        </ul>"),i.b("\n"+n),i.s(i.f("repoOwner",t,e,1),t,e,0,758,788,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("        <p>Owner</p>"),i.b("\n"+n)}),t.pop()),i.s(i.f("repoOwner",t,e,1),t,e,1,0,0,"")||(i.b("        <p>Contributor</p>"),i.b("\n"+n)),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</li>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="feedback '),i.s(i.f("passed",t,e,1),t,e,1,0,0,"")||i.b("incorrect"),i.b('">'),i.b("\n"+n),i.b('  <div class="grid-65">'),i.b("\n"+n),i.b('    <span class="icon icon-feedback"></span>'),i.b("\n"+n),i.b("    <p>"),i.b("\n"+n),i.s(i.f("passed",t,e,1),t,e,0,149,217,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("      <strong>Well done!</strong> That's the correct answer."),i.b("\n"+n)}),t.pop()),i.s(i.f("passed",t,e,1),t,e,1,0,0,"")||(i.b("      <strong>Bummer!</strong> Unfortunately, that answer is incorrect."),i.b("\n"+n)),i.b("    </p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="grid-35">'),i.b("\n"+n),i.b('    <div class="button-container">'),i.b("\n"+n),i.b('      <a data-quiz-element="next-question" class="button button-primary'),i.s(i.f("passed",t,e,1),t,e,1,0,0,"")||i.b(" button-alert"),i.b('">Next question <span class="icon icon-right-white"></span></a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/fill_in_the_blank"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers fill-in-blank">'),i.b("\n"+n),i.s(i.f("answers",t,e,1),t,e,0,54,263,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  <li>"),i.b("\n"+n),i.b('    <form id="fill-in-blank" data-quiz-fitb-form-action="'),i.b(i.v(i.f("href",t,e,0))),i.b('">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("answer",t,e,0))),i.b("\n"+n),i.b('      <input type="submit" value="Submit Answer" id="submit" class="button button-primary">'),i.b("\n"+n),i.b("    </form>"),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),t.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/multiple_choice"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers multiple-choice">'),i.b("\n"+n),i.s(i.f("answers",t,e,1),t,e,0,56,232,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  <li>"),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("href",t,e,0))),i.b('" data-quiz-answer-key="'),i.b(i.t(i.f("abcd",t,e,0))),i.b('">'),i.b("\n"+n),i.b('      <strong class="abc">'),i.b(i.t(i.f("abcd",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b('      <div class="answer">'),i.b(i.t(i.f("answer",t,e,0))),i.b("</div>"),i.b("\n"+n),i.b("    </a>"),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),t.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/question"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.s(i.f("video",t,e,1),t,e,0,10,25,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  "),i.b(i.t(i.f("video",t,e,0))),i.b("\n"+n)}),t.pop()),i.s(i.f("image",t,e,1),t,e,0,46,87,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<img src="'),n.b(n.v(n.f("image",t,e,0))),n.b('" alt="Quiz Question">')}),t.pop()),i.b("\n"+n),i.b('<strong class="question-count">Quiz question '),i.b(i.v(i.f("current_question",t,e,0))),i.b(" of "),i.b(i.v(i.f("total_questions",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("<h1>"),i.b(i.t(i.f("question",t,e,0))),i.b("</h1>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/score"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="module quiz-score">'),i.b("\n"+n),i.b('  <div class="contained secondary">'),i.b("\n"+n),i.b('    <ul class="quiz-answers-breakdown">'),i.b("\n"+n),i.b('      <li class="correct'),i.s(i.f("answers_correct",t,e,1),t,e,0,152,159,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(" active")}),t.pop()),i.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),i.b("\n"+n),i.b("        <strong>"),i.b(i.v(i.f("answers_correct",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("        <p>Correct</p>"),i.b("\n"+n),i.b("      </li>"),i.b("\n"+n),i.b('      <li class="incorrect'),i.s(i.f("answers_incorrect",t,e,1),t,e,0,360,367,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(" active")}),t.pop()),i.b(' grid-50 tablet-grid-50 mobile-grid-50 grid-parent">'),i.b("\n"+n),i.b("        <strong>"),i.b(i.v(i.f("answers_incorrect",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("        <p>Incorrect</p>"),i.b("\n"+n),i.b("      </li>"),i.b("\n"+n),i.b("    </ul>"),i.b("\n"+n),i.b('    <div class="disclaimer">'),i.b("\n"+n),i.b('      <span class="icon icon-info"></span>'),i.b("\n"+n),i.b("      <p>You need <strong>"),i.b(i.v(i.f("answers_to_pass",t,e,0))),i.b(" correct "),i.b(i.v(i.f("label",t,e,0))),i.b("</strong> or more to pass this quiz.</p>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/true_false"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b('<ul class="quiz-answers true-false">'),i.b("\n"+n),i.s(i.f("answers",t,e,1),t,e,0,51,172,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  <li>"),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("href",t,e,0))),i.b('" data-quiz-answer-key="'),i.b(i.t(i.f("answer",t,e,0))),i.b('">'),i.b("\n"+n),i.b("      <strong>"),i.b(i.v(i.f("answer",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b("    </a>"),i.b("\n"+n),i.b("  </li>"),i.b("\n"+n)}),t.pop()),i.b("</ul>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["workshops/live_error"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.b("<p style='color:red'>There was a problem submitting your question. Try again?</p>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["workshops/live_question"]=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||""),i.s(i.f("preview",t,e,1),t,e,0,12,69,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  <li class='placeholder-"),i.b(i.v(i.f("uuid",t,e,0))),i.b("' style='opacity:0.5'>"),i.b("\n"+n)}),t.pop()),i.s(i.f("saved",t,e,1),t,e,0,92,112,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  <li id='"),i.b(i.v(i.f("id",t,e,0))),i.b("'>"),i.b("\n"+n)}),t.pop()),i.b("  <div class='avatar "),i.s(i.f("staff",t,e,1),t,e,0,154,159,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("staff")}),t.pop()),i.b("' style='background-image:"),i.b(i.v(i.f("url",t,e,0))),i.b("'></div>"),i.b("\n"+n),i.s(i.f("showStar",t,e,1),t,e,0,226,299,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("    <a class='star-question'><span class='icon icon-star'></span></a>"),i.b("\n"+n)}),t.pop()),i.b("  <strong>"),i.b("\n"+n),i.b("    "),i.s(i.f("profilePath",t,e,1),t,e,0,344,481,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<a href="'),n.b(n.v(n.f("profilePath",t,e,0))),n.b('" class="author featurette" data-behavior="mini-profile-trigger" data-profile-name="'),n.b(n.v(n.f("profileName",t,e,0))),n.b('">'),n.b(n.v(n.f("name",t,e,0))),n.b("</a>")}),t.pop()),i.b("\n"+n),i.b("    "),i.s(i.f("profilePath",t,e,1),t,e,1,0,0,"")||i.b(i.v(i.f("name",t,e,0))),i.b("\n"+n),i.b("    "),i.s(i.f("staff",t,e,1),t,e,0,557,596,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("<span class='marker staff'>Staff</span>")}),t.pop()),i.b("\n"+n),i.b("  </strong>"),i.b("\n"+n),i.b("  <p>"),i.b(i.v(i.f("text",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("</li>"),i.b("\n"),i.fl()},partials:{},subs:{}},"",Hogan,{}),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onSelectChange=e(this.onSelectChange,this),this.setOptions=e(this.setOptions,this),this.onUnfocus=e(this.onUnfocus,this),this.onSelectClick=e(this.onSelectClick,this),this.onOptionClick=e(this.onOptionClick,this),this.setSelected=e(this.setSelected,this),this.select=$(t),this.select.on("change",this.onSelectChange),this.container=$("<div class='dd-container'>"),this.container.delegate("li .dd-option","click",this.onOptionClick),this.container.delegate(".dd-select","click",this.onSelectClick),this.container.insertAfter(this.select),$(document.body).on("click",this.onUnfocus),this.select.hide(),this.onSelectChange()}return t.prototype.setSelected=function(){var t,e;return e=this.select.find("option:selected"),t=$("<div>").addClass("dd-select").append(this.divForOption(e).addClass("dd-selected")).append('<span class="icon icon-chevron-down"></span>'),this.container.append(t)},t.prototype.onOptionClick=function(t){var e;return e=$(t.currentTarget),this.select.val(e.data("value")).change()},t.prototype.onSelectClick=function(t){var e;return e=this.container.find("ul"),e.is(":visible")?void 0:(t.stopPropagation(),$(t.currentTarget).trigger("open"),e.slideDown("fast").find("icon-chevron-down").removeClass("icon-chevron-down").addClass("icon-chevron-up"))},t.prototype.onUnfocus=function(){var t;return t=this.container.find("ul"),t.is(":visible")?(this.container.find(".dd-select").trigger("close"),t.hide().find("icon-chevron-up").removeClass("icon-chevron-up").addClass("icon-chevron-down")):void 0},t.prototype.setOptions=function(){var t,e,n,i,r,o;for(n=$("<ul>").addClass("dd-options dd-click-off-close"),o=this.select.find("option[value]").not(":first-child"),i=0,r=o.length;r>i;i++)e=o[i],t=this.divForOption(e).toggleClass("dd-option-selected",$(e).is(":selected")).addClass("dd-option"),n.append($("<li>").append(t));return this.container.append(n)},t.prototype.divForOption=function(t){var e;return t=$(t),e=$('<a>\n  <label class="dd-option-text '+(t.is(":first-child")?"dd-placeholder":"")+'"><span class="topic-color">&bull;</span> '+t.text()+"</label>\n</a>"),e.data("value",t.val()),t.data("skillLevel")&&e.append('<span class="dd-desc">'+t.data("skillLevel")+"</span>"),t.data("imagesrc")&&e.prepend('<div class="achievement-hero"><img class="dd-option-image" src="'+t.data("imagesrc")+'"></div>'),e},t.prototype.onSelectChange=function(){return this.container.empty(),this.setSelected(),this.setOptions(),this.container.find(".dd-select").trigger("close")},t}(),window.Slick=t}.call(this),function(){$(function(){var t;return t=$(".new_forum_post button[type=submit]"),t.on("click",function(){return t.addClass("inactive")}),$(".cheatsheet-toggle").on("click",function(t){return t.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideToggle(200)}),$(".cheatsheet-close").on("click",function(t){return t.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideUp(200)}),$(".form-close").on("click",function(e){return e.preventDefault(),t.removeClass("inactive")}),$("#edit-post").on("click",function(t){return t.preventDefault(),$("#display-post").hide(),$("#edit-post-form").show(),$("textarea.autogrow").trigger("autosize.resize")}),$("#cancel-edit-post").on("click",function(t){return t.preventDefault(),$("#edit-post-form").hide(),$("#display-post").show(),$("textarea.autogrow").trigger("autosize.resize")}),$(".new_forum_post button[type=submit], .discussion-reply button[type=submit]").on("click",function(){return _.defer(function(t){return function(){return $(t).attr({disabled:"disabled"})}}(this))})})}.call(this),function(){$(function(){var t;return t=function(){function t(){}return t.modals={},t.handleTrigger=function(e){var n,i;return $.browser.mobile?!0:(t.container||(t.container=$("#mini-profile-container")),e.preventDefault(),i=$(e.currentTarget),n=i.data("profile-name"),t.modals[n]?t.modals[n].showOverlay():t.createModalFor(n))},t.createModalFor=function(t){var e;return e=$("<div class='modal mini-profile' id='mini-profile-"+t+"' style='display: none'/>"),e.load("/mini_profile/"+t,function(n){return function(){return n.container.append(e),new Featurette.registered_features["points-chart"](e.find(".chart")[0]),n.modals[t]=new Featurette.registered_features.modal(e[0]),n.modals[t].showOverlay()}}(this))},t}(),$(document).on("click","[data-behavior=mini-profile-trigger]",t.handleTrigger)})}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};t=70,e=function(){function e(t){this.element=t,this.headingToggles=n(this.headingToggles,this),this.resize=n(this.resize,this),this.reposition=n(this.reposition,this),this.collapse=n(this.collapse,this),this.wrapContents=n(this.wrapContents,this),this.init=n(this.init,this),this.element.length&&($(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize"))}return e.prototype.init=function(){return this.reposition(),this.resize(),this.wrapContents(),this.collapse(),this.headingToggles()},e.prototype.wrapContents=function(){return this.element.find(".scroll-container").length||this.element.wrapInner("<div class='scroll-mask' />"),this.wrapper=this.element.find(".scroll-mask"),this.element.find(".scroll-container").length?void 0:this.wrapper.wrapInner("<div class='scroll-container' />")},e.prototype.collapse=function(){var e;return e=this.wrapper.height()+t>$(window).height(),this.wrapper.css("height",$(window).height()-t),this.element.toggleClass("collapsed",e)},e.prototype.reposition=function(){var t;return $("#content-container").removeClass("pull-20"),$(window).innerWidth()>1022?this.nofix?this.element.css({position:"static","float":"right",left:""}):(this.element.css({position:"relative",left:"80%","float":""}),t=this.element.offset().left,this.element.css({position:"fixed",left:t,right:"auto"})):this.element.css({position:"relative","float":"none",left:""})},e.prototype.resize=function(){return $.browser.mozilla?$("body").innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%"):$(window).innerWidth()>1022?this.element.css("width",.2*$(".grid-container").width()):this.element.css("width","100%")},e.prototype.headingToggles=function(){return this.element.find(".form-group h4").off("click").on("click",function(){return function(t){var e;
return e=$(t.currentTarget),e.addClass("animated").toggleClass("selected"),e.siblings("ul, .form-item").slideToggle("fast",function(){return e.removeClass("animated")})}}(this))},e}(),$(function(){return window.Sidebar=new e($(".fixed-sidebar"))})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.duplicate=e(this.duplicate,this),this.originContent=$("[data-markup-duplicate]").html(),this.duplicate($("[data-markup-duplicate]"),$("[data-markup-duplicate-target]"))}return t.prototype.duplicate=function(t,e){return e.html(this.originContent)},t}(),$(function(){return new t})}.call(this),function(){this.Treehouse={onFirstInit:function(t){return this.firstInitCallbacks.push(t)},firstInitCallbacks:[],onInit:function(t){return this.initCallbacks.push(t)},initCallbacks:[],init:function(){var t,e,n,i,r,o,s,a;if(!this.firstInitFired){for(o=this.firstInitCallbacks,e=0,i=o.length;i>e;e++)(t=o[e])();this.firstInitFired=!0}for(s=this.initCallbacks,a=[],n=0,r=s.length;r>n;n++)t=s[n],a.push(t());return a},cleanup:function(t){var e;return(e=Featurette.get(t.id))&&"function"==typeof e.stopListening?e.stopListening():void 0},debug:function(){return window.console?console.log(Array.prototype.slice.call(arguments)):void 0}}}.call(this),function(){Treehouse.onFirstInit(function(){var t;return function(){var t;return t=$.cleanData,$.cleanData=function(e){var n,i,r;for(i=0,r=e.length;r>i;i++)n=e[i],$(n).trigger("removed");return t(e)}}(),$(document).on("removed","[data-featurette]",function(t){return Treehouse.cleanup(t.target)}),t=$("body"),$.browser.mozilla&&t.addClass("gecko"),$.browser.mozilla===!0&&parseFloat($.browser.version)>=24&&t.addClass("new-gecko"),$.browser.webkit&&t.addClass("webkit"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&t.addClass("mobile"),$.browser.msie&&t.addClass("ie"),$(document).on("change","#form-element-nav-list-select select",function(t){return window.location=$(t.currentTarget).val()}),$(document).on("click touch",".menu-toggle",function(t){return t.preventDefault(),$(t.currentTarget).toggleClass("is-checked")}),$(document).on("click",".clickonce",function(t){var e;return e=$(t.currentTarget),e.hasClass("disabled")?t.preventDefault():e.addClass("disabled")}),$(document).on("click","a[data-pjax]",function(t){var e;return t.preventDefault(),e=$(this).closest("[data-pjax-container]"),$.pjax.click(t,{container:e})}),$(document).on("pjax:end",function(){return Treehouse.init()})}),Treehouse.onInit(function(){var t;return Featurette.load(),t="select, textarea, input:file, input:text, input:password, input[type=email]",$(t).not(".editor textarea, select.drop-down, .uniform-processed").uniform().addClass("uniform-processed"),$(".form-item label").not(".prefill, .in-field-label-processed").inFieldLabels().addClass("in-field-label-processed"),$(".autogrow").not(".autogrow-processed").autosize().addClass("autogrow-processed"),$("input, textarea").not(".placeholder-processed").placeholder().addClass("placeholder-processed")})}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o=[].slice;e=function(){function t(t){var e;e=$(t).find(".tooltip").parent().find("input"),e.focus(function(){var t;return t=$(this).parent().find(".tooltip"),t.data("hide-on-mobile")&&$(window).width()<=480?void 0:t.fadeIn()}),e.blur(function(){return $(this).parent().find(".tooltip").fadeOut()}),$(t).submit(function(){return $(t).find("button#submit").html("Processing..."),$(t).find("button#submit").attr("disabled","true")})}return t}(),window.StandardForm=e,t=function(t){function e(t){this.unwrapErrors=n(this.unwrapErrors,this),this.accountForm=$(t),this.accountEmail=this.accountForm.find("#account_signup_email, #person_email, #account_signup_account_manager_email"),this.accountProfile=this.accountForm.find("#account_signup_profile_name, #person_profile_name"),this.accountName=this.accountForm.find("#account_signup_first_name, #account_signup_last_name, #person_first_name, #person_last_name"),this.accountProfileName=this.accountProfile.val(),this.currentEmail=this.accountEmail.val(),e.__super__.constructor.call(this,this.accountForm),this.accountEmail.change(function(t){return function(){return t.verifyEmailAddress()}}(this)),this.accountProfile.change(function(t){return function(){return t.verifyProfileName()}}(this)),this.accountName.change(function(t){return function(){return t.suggestProfileName()}}(this)),this.verifyEmailAddress(),this.verifyProfileName(),this.suggestProfileName(),this.ageCheck=this.accountForm.find("#account_signup_age_check"),this.ageCheck.change(function(){return"lt13"===$(this).val()?($(".above-13").hide(),$(".under-13").show()):($(".above-13").show(),$(".under-13").hide())}),this.ageCheck.change()}return r(e,t),e.prototype.verifyEmailAddress=function(){var t,e,n,i;return e=this.accountEmail,n=e.siblings("label"),t=e.val(),i=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(e),$("input").change(function(){return $(this).removeClass("error"),$(this).parent().removeClass("field_with_errors")}),t!==this.currentEmail?$.ajax("/account/email_address",{type:"POST",dataType:"json",data:{email:t},headers:{"X-CSRF-Token":i},error:function(t){return function(i){var r;return t.unwrapErrors(e,n),t.clearFormErrors(e),e.siblings("label").wrap('<div class="field_with_errors" />'),e.wrap('<div class="field_with_errors" />'),r=JSON.parse(i.responseText),e.after("<p class='error-message'>"+r.error+"</p>")}}(this),success:function(t){return function(){return t.unwrapErrors(e,n),null==e.val()?t.clearFormErrors(e):void 0}}(this)}):void 0},e.prototype.verifyProfileName=function(){var t,e,n,i,r,o;return t=this.accountProfile,n=t.siblings("label"),r=t.val(),e=$(this.accountName[0]).val(),i=$(this.accountName[1]).val(),o=$("meta[name='csrf-token']").attr("content"),r!==this.accountProfileName?$.ajax("/account/profile_name",{type:"POST",dataType:"json",data:{profile_name:r,first_name:e,last_name:i},headers:{"X-CSRF-Token":o},error:function(e){return function(i){var r;return e.unwrapErrors(t,n),e.clearFormErrors(t),t.siblings("label").wrap('<div class="field_with_errors" />'),t.wrap('<div class="field_with_errors" />'),r=JSON.parse(i.responseText),t.val(r.suggestion),t.after("<p class='error-message'>"+r.error+"</p>")}}(this),success:function(e){return function(){return e.unwrapErrors(t,n),e.clearFormErrors(t)}}(this)}):void 0},e.prototype.suggestProfileName=function(){var t,e,n,i;return t=$(this.accountName[0]).val().toLowerCase(),n=$(this.accountName[1]).val().toLowerCase(),e=!!t,i=!!n,!this.accountProfile.val()&&e&&i&&(this.accountProfile.val(""+t+n),this.accountProfile.blur()),this.verifyProfileName()},e.prototype.unwrapErrors=function(){var t,e,n,i,r;for(e=1<=arguments.length?o.call(arguments,0):[],r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(t.closest("div").hasClass("field_with_errors")?t.unwrap():void 0);return r},e.prototype.clearFormErrors=function(t){return t.siblings("p.error-message").remove()},e}(e),window.AccountForm=t}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.View=function(){function e(e){this.clearElementsCache=t(this.clearElementsCache,this),this.cid=_.uniqueId("featurette-view-"),this.el=$(e),this.data=this.el.data(),this.elements=[]}return e.prototype.listeningTo=[],e.prototype.get=function(t){var e;return(e=this.elements)[t]||(e[t]=this.el.find(t))},e.prototype.clearElementsCache=function(){return this.elements=[]},e.prototype.on=function(t,e,n){return n?this.el.on(this.addNamespace(t),e,n):(n=e,this.el.on(this.addNamespace(t),n))},e.prototype.listenTo=function(t,e,n){return this.listeningTo=_.union(this.listeningTo,[t]),$(t).on(this.addNamespace(e),n)},e.prototype.stopListening=function(){var t,e,n,i,r;for(this.el.off(this.addNamespace()),i=this.listeningTo,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($(t).off(this.addNamespace()));return r},e.prototype.addNamespace=function(t){return null==t&&(t=""),""+t+"."+this.cid},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("modal",Treehouse.Modal=function(e){function i(e){this.onKeyup=t(this.onKeyup,this),this.closeOverlay=t(this.closeOverlay,this),this.safeCloseOverlay=t(this.safeCloseOverlay,this),i.__super__.constructor.call(this,e),this.on("click",".modal-close, .modal-close-extra",this.safeCloseOverlay),this.listenTo(document,"keyup",this.onKeyup)}return n(i,e),i.stack=[],i.closeCurrentModal=function(t){var e;return null==t&&(t={}),(e=this.stack.pop())&&(e.closeOverlay(),t.stack)?this.addToStack(e):void 0},i.addToStack=function(t){return this.stack.push(t)},i.showLastModal=function(){var t;return null!=(t=this.stack.pop())?t.showOverlay():void 0},i.prototype.showOverlay=function(t){return null==t&&(t={}),this.constructor.closeCurrentModal({stack:t.stack}),this.constructor.addToStack(this),this.tarp().show(function(t){return function(){var e,n;return n=$(window).scrollTop(),e=n+$(window).height(),_.defer(function(){return $(window).scrollTop(n)}),t.el.show().css({top:e,opacity:0}).animate({top:n,opacity:1},150),t.el.addClass("modal-active"),t.isVisible=!0}}(this))},i.prototype.safeCloseOverlay=function(t){return null!=t&&t.preventDefault(),this.data.uncloseable?!0:this.closeOverlay()},i.prototype.closeOverlay=function(){return this.tarp().hide(),this.el.hide(),this.el.removeClass("modal-active"),this.isVisible=!1,this.constructor.stack.pop(),this.constructor.showLastModal()},i.prototype.onKeyup=function(t){return 27===t.which&&this.isVisible?this.safeCloseOverlay():void 0},i.prototype.tarp=function(){return this.tarpEl||(this.tarpEl=Featurette.get("tarp"))},i}(Treehouse.View))}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("help-modal",t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.showOverlay=function(){return Featurette.get("help-form").resetContactForm(),e.__super__.showOverlay.apply(this,arguments)},e}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("wizard-modal",t=function(t){function n(){return this.onClose=e(this.onClose,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.showOverlay=function(){return n.__super__.showOverlay.apply(this,arguments),$(document).trigger("wizard-opened")},n.prototype.onClose=function(){return n.__super__.onClose.apply(this,arguments),$(document).trigger("wizard-closed")},n}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("content-feedback-modal",t=function(t){function n(){this.onInput=e(this.onInput,this),this.setRating=e(this.setRating,this),this.removeStar=e(this.removeStar,this),this.setStar=e(this.setStar,this),this.afterFormSubmit=e(this.afterFormSubmit,this),this.onSubmit=e(this.onSubmit,this),n.__super__.constructor.apply(this,arguments),this.on("mouseenter",".content-feedback-star",this.setStar),this.on("mouseleave",".content-feedback-star",this.removeStar),this.on("click",".content-feedback-star",this.setRating),this.on("input",".expanding-input",this.onInput),this.on("submit","form",this.onSubmit),this.el.find(".expanding-input").trigger("input")}return i(n,t),n.prototype.onSubmit=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),$.post(e.attr("action"),e.serialize(),this.afterFormSubmit)},n.prototype.afterFormSubmit=function(){return this.closeOverlay(),$(".feedback-callout").hide()},n.prototype.setStar=function(t){return this.el.find(".content-feedback-star").removeClass("starred"),$(t.currentTarget).parent().prevAll().addBack().children("label").addClass("starred")},n.prototype.removeStar=function(t){return this.el.find(".content-feedback-star").removeClass("starred"),$(t.currentTarget).parent().prevAll().addBack().children("label").removeClass("starred")},n.prototype.setRating=function(t){return this.el.find(".content-feedback-star").removeClass("selected"),$(t.currentTarget).parent().prevAll().addBack().children("label").addClass("selected"),this.el.find(".expanding-input").focus(),this.el.find(".button").show()},n.prototype.onInput=function(t){var e,n;return n=$.trim($(t.currentTarget).val()),e=n?"fadeOut":"fadeIn",this.el.find(".label-optional")[e]()},n}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("badge-video-modal",t=function(t){function n(){return this.showOverlay=e(this.showOverlay,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.showOverlay=function(){return n.__super__.showOverlay.apply(this,arguments),setTimeout(function(t){return function(){return t.el.find(".achievement-rewards-callout").fadeOut()}}(this),5e3)},n}(Treehouse.Modal))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("workspace-settings-modal",Treehouse.WorkspaceSettingsModal=function(e){function i(e){this.onDeleteWorkspace=t(this.onDeleteWorkspace,this),i.__super__.constructor.call(this,e),this.on("click","a.delete",this.onDeleteWorkspace)}return n(i,e),i.prototype.onDeleteWorkspace=function(){return confirm("This will permanantly delete everything within this workspace and cannot be undone. Do you still want to delete?")?(this.closeOverlay(),$("#workspace-well-"+this.el.data("workspace-id")+" .deletion-cover").show(),$(".capacity-container .capacity-status.active").not(".winky").last().addClass("winky")):void 0},i}(Treehouse.Modal))}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("code-challenge-error-modal",t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.setError=function(t){return this.el.find("#challenge-error-modal-text").text(t)},e.prototype.closeOverlay=function(){return this.setError(""),e.__super__.closeOverlay.call(this)},e}(Treehouse.Modal))}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("track-changelog-modal",t=function(t){function e(){e.__super__.constructor.apply(this,arguments),$(function(t){return function(){return t.el.data("previewing")===!0?t.showOverlay():void 0}}(this))}return n(e,t),e}(Treehouse.Modal))}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("tarp",t=function(t){function e(t){e.__super__.constructor.call(this,t),this.on("click touchstart",function(){return Treehouse.Modal.closeCurrentModal()})}return n(e,t),e.prototype.show=function(t){return this.el.css({opacity:0}).show().animate({opacity:1},100,t)},e.prototype.hide=function(){return this.el.hide()},e}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("table-expander",function(e){function i(){this.toggle=t(this.toggle,this),i.__super__.constructor.apply(this,arguments),this.on("click",this.data.expander,this.toggle),this.rows=this.el.find("tr:gt("+this.data.rows+")"),this.rows.hide()}return n(i,e),i.prototype.toggle=function(){return $(this.data.expander).toggleClass("target-expanded"),this.rows.toggle()},i}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("school-dashboard-chart-tooltip",function(){function e(e){this.onMouseMove=t(this.onMouseMove,this),this.el=$(e),this.data=this.el.data(),this.tooltip=this.el.find(".dashboard-tooltip"),$("body").on("scroll mousemove",_.throttle(this.onMouseMove,35))}return e.prototype.onMouseMove=function(t){var e,n,i,r,o;return e=this.el.find(".bar:hover"),e.length?(n=e.data("date"),o=e.data("students"),i=t.pageX,r=t.pageY,this.tooltip.addClass("active").offset({top:r-90,left:i-110}).find(".value").text(o).end().find(".date").text(n)):this.tooltip.removeClass("active")},e}())}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("nav-select",function(){function e(e){this.updateLocation=t(this.updateLocation,this),this.el=$(e),this.el.on("change",this.updateLocation)}return e.prototype.updateLocation=function(){return window.location=this.el.val()},e}())}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.Quiz=function(e){function i(){this.render=t(this.render,this),this.showBadgeEarned=t(this.showBadgeEarned,this),this.showRewardVideo=t(this.showRewardVideo,this),this.processResponse=t(this.processResponse,this),this.submit=t(this.submit,this),i.__super__.constructor.apply(this,arguments),this.quizData=this.data.quiz,this.feedbackEl=this.el.find("[data-quiz-element=feedback]"),this.questionEl=this.el.find("[data-quiz-element=question]"),this.answersEl=this.el.find("[data-quiz-element=answers]"),this.scoreEl=this.el.find("[data-quiz-element=score]"),this.render()}return n(i,e),i.prototype.submit=function(t,e){return null==e&&(e={}),this.quizData.quiz_attempt&&(e.quiz_attempt=this.quizData.quiz_attempt),$.ajax({type:"POST",url:t,data:e,dataType:"json",success:this.processResponse,error:function(){return function(t){return Treehouse.debug("Error",t)}}(this)})},i.prototype.processResponse=function(t){switch(this.quizData=t,t.quiz_status){case"passed":t.badge_earned?t.video?this.showRewardVideo(t.video,t.track_completed):this.showBadgeEarned(t.track_completed):this.showPassed();break;case"failed":this.showFailed()}return this.generateFeedback(),this.generateScore(),Treehouse.init()},i.prototype.showFailed=function(){return Featurette.get("failed-quiz-modal").showOverlay()},i.prototype.showPassed=function(){var t;return(t=Featurette.get("quiz-completed-modal"))||(t=Featurette.get("badge-modal")),t.showOverlay()},i.prototype.showRewardVideo=function(t,e){var n;return n=Featurette.get("badge-video-modal"),n.el.find("#reward-video-container").html(t),n.el.find("#reward-video").show(),n.showOverlay(),this.chooseFooter(e,n),Treehouse.init()},i.prototype.showBadgeEarned=function(t){var e;return e=Featurette.get("badge-modal").showOverlay(),this.chooseFooter(t,e)},i.prototype.chooseFooter=function(t,e){return t===!0?(e.el.find("#badge-awarded-footer").hide(),e.el.find("#track-completed-footer").show()):void 0},i.prototype.render=function(){return this.clearFeedback(),this.generateScore(),this.generateQuestion(),this.generateAnswers(),Treehouse.init()},i.prototype.generateQuestion=function(){var t;return t=HoganTemplates["quizzes/question"].render(this.quizData.question),this.questionEl.html(t).find("a").attr("target","_blank")},i.prototype.generateAnswers=function(){var t,e;return null!=(e=this.answersView)&&"function"==typeof e.empty&&e.empty(),t=function(){switch(this.quizData.question.question_type){case"MultipleChoice":return Treehouse.Quiz.MultipleChoice;case"TrueFalse":return Treehouse.Quiz.TrueFalse;case"FillInTheBlank":return Treehouse.Quiz.FillInTheBlank}}.call(this),this.answersView=new t(this.answersEl,{submit:this.submit,answers:_.pick(this.quizData,"answers")}),this.answersView.render()},i.prototype.generateScore=function(){var t,e,n;return n=this.quizData.score.answers_to_pass>1?"answers":"answer",e=_.extend(this.quizData.score,{label:n}),t=HoganTemplates["quizzes/score"].render(e),this.scoreEl.html(t)},i.prototype.generateFeedback=function(){return this.feedbackView=new Treehouse.Quiz.Feedback(this.feedbackEl,{nextQuestion:this.render,quizStatus:this.quizData.quiz_status,questionPassed:this.quizData.answer_passed}),this.feedbackView.render()},i.prototype.clearFeedback=function(){var t;return null!=(t=this.feedbackView)&&t.empty(),delete this.feedbackView},i}(Treehouse.View),Featurette.register("quiz",Treehouse.Quiz)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.Quiz.Feedback=function(e){function i(e,n){this.nextQuestionProxy=t(this.nextQuestionProxy,this),this.onKeyUp=t(this.onKeyUp,this),i.__super__.constructor.apply(this,arguments),this.quizStatus=n.quizStatus,this.questionPassed=n.questionPassed,this.nextQuestion=n.nextQuestion,this.on("click",'[data-quiz-element="next-question"]',this.nextQuestionProxy),this.listenTo(document,"keyup",this.onKeyUp)}return n(i,e),i.prototype.render=function(){return this.el.html(HoganTemplates["quizzes/feedback"].render({passed:this.questionPassed}))},i.prototype.empty=function(){return this.el.empty(),this.stopListening()},i.prototype.onKeyUp=function(t){return 13===t.which?this.nextQuestionProxy():void 0},i.prototype.nextQuestionProxy=function(){return"unfinished"===this.quizStatus?this.nextQuestion():void 0},i}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.Quiz.MultipleChoice=function(e){function i(e,n){this.options=n,this.onClick=t(this.onClick,this),this.onKeyUp=t(this.onKeyUp,this),i.__super__.constructor.apply(this,arguments),this.listenTo(document,"keyup",this.onKeyUp),this.on("click","[data-quiz-answer-key]",this.onClick)}return n(i,e),i.prototype.keyCodes={65:"A",66:"B",67:"C",68:"D",69:"E"},i.prototype.template="quizzes/multiple_choice",i.prototype.render=function(){return this.el.html(HoganTemplates[this.template].render(this.options.answers))},i.prototype.onKeyUp=function(t){var e,n;if(!this.isDisabled)return(n=this.keyCodes[t.which])?(e=this.el.find("[data-quiz-answer-key="+n+"]"),this.submitProxy(e)):void 0},i.prototype.onClick=function(t){return"function"==typeof t.preventDefault&&t.preventDefault(),this.isDisabled?void 0:this.submitProxy($(t.currentTarget))},i.prototype.submitProxy=function(t){return this.options.submit(t.attr("href")),t.addClass("selected"),this.disable()},i.prototype.disable=function(){return this.el.find(".quiz-answers a").addClass("inactive"),this.isDisabled=!0},i.prototype.empty=function(){return this.el.empty(),this.stopListening()},i}(Treehouse.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Treehouse.Quiz.TrueFalse=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.keyCodes={70:"False",84:"True"},n.prototype.template="quizzes/true_false",n}(Treehouse.Quiz.MultipleChoice)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.Quiz.FillInTheBlank=function(e){function i(e,n){this.options=n,this.onFormSubmit=t(this.onFormSubmit,this),i.__super__.constructor.apply(this,arguments),this.on("submit","[data-quiz-fitb-form-action]",this.onFormSubmit)}return n(i,e),i.prototype.onFormSubmit=function(t){var e,n,i;return null!=t&&t.preventDefault(),this.isDisabled?void 0:(n=this.el.find("[data-quiz-fitb-form-action]"),i=n.data("quiz-fitb-form-action"),e={fitb_answers:n.serializeArray()},n.find("input:text").blur().prop("disabled",!0),this.options.submit(i,e),this.disable())},i.prototype.disable=function(){return this.el.find(".quiz-answers").addClass("inactive"),this.isDisabled=!0},i.prototype.render=function(){var t;return t=HoganTemplates["quizzes/fill_in_the_blank"].render(this.options.answers),this.el.html(t),this.el.find("input:text:first").focus()},i.prototype.empty=function(){return this.el.empty(),this.stopListening()},i}(Treehouse.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("track-scheduling",t=function(t){function n(){this.changeLabel=e(this.changeLabel,this),this.destroy=e(this.destroy,this),this.update=e(this.update,this),n.__super__.constructor.apply(this,arguments),this.on("submit","form",this.update),this.on("change","#track_schedule_finishes_on",this.changeLabel),this.on("click",".schedule-cancel",this.destroy),this.on("pjax:end",this.clearElementsCache)}return i(n,t),n.prototype.update=function(t){var e;return t.preventDefault(),this.get(".trigger-steps").click(),e=$(t.currentTarget),$.pjax({push:!1,url:e.attr("action"),data:e.serialize(),container:e.closest("[data-pjax-container]"),type:e.find("input[name='_method']").val()||"POST"})},n.prototype.destroy=function(t){var e;return t.preventDefault(),this.get(".trigger-steps").click(),e=$(t.currentTarget),$.pjax.click(t,{push:!1,data:{_method:"DELETE"},container:e.closest("[data-pjax-container]"),type:"POST"})},n.prototype.changeLabel=function(t){var e,n;return n=$(t.target),this.get("input[type='submit']").attr("disabled",function(){return function(){return""===n.val()}}(this)),this.label=this.get("#schedule-label"),this.confirmation=this.get("#schedule-confirmation"),this.submit=this.get("input[type='submit']"),""===n.val()?(this.submit.attr("disabled",!0),this.confirmation.hide(),this.label.show()):(this.submit.attr("disabled",!1),e=n.find("option[value='"+n.val()+"']").data("minutes"),this.confirmation.find("b").text(e+" minutes"),this.label.hide(),this.confirmation.show())},n}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("track-trailer",t=function(t){function n(){this.resizeCard=e(this.resizeCard,this),this.makeTrailerDivResponsive=e(this.makeTrailerDivResponsive,this),this.resetDimensions=e(this.resetDimensions,this),this.resetTrailerCard=e(this.resetTrailerCard,this),this.setMejsDimensions=e(this.setMejsDimensions,this),this.addPaddingAndPlayTrailer=e(this.addPaddingAndPlayTrailer,this),this.animateCard=e(this.animateCard,this),this.expandTrailer=e(this.expandTrailer,this),this.swapPosterAndVideo=e(this.swapPosterAndVideo,this),this.playTrailer=e(this.playTrailer,this),n.__super__.constructor.apply(this,arguments),this.player=this.el.find("video").mediaelementplayer()[0].player,this.poster=this.el.find(".trailer-still"),this.width=this.poster.width(),this.height=this.poster.height(),this.trailer=this.el.find(".trailer-video"),this.posterOverlay=this.el.find(".trailer-card-overlay"),this.isMobile=$(".mobile").length>0,this.trailerSmall=!0,this.on("click",this.playTrailer),this.isMobile||this.el.find("video").mediaelementplayer().bind("ended",this.resetTrailerCard),this.listenTo(window,"resize",this.makeTrailerDivResponsive)}return i(n,t),n.prototype.playTrailer=function(){return this.isMobile?(this.posterOverlay.toggle(),this.swapPosterAndVideo(),this.player.play()):($("body").animate({scrollTop:this.el.offset().top-100}),this.expandTrailer())},n.prototype.swapPosterAndVideo=function(){return this.poster.toggle(),this.trailer.toggle(),this.player.hideControls()},n.prototype.expandTrailer=function(){var t;return this.trailerSmall?(this.posterOverlay.toggle(),window.innerWidth>1050?this.animateCard(this.el,"200%","200%","-58%",t="play"):this.addPaddingAndPlayTrailer(),this.trailerSmall=!1):void 0},n.prototype.animateCard=function(t,e,n,i,r){return t.animate({padding:0,width:e,height:n,left:i},500,function(t){return function(){return"play"===r&&t.addPaddingAndPlayTrailer(),"reset"===r?t.resetDimensions():void 0}}(this))},n.prototype.addPaddingAndPlayTrailer=function(){var t;return this.el.css("background","#FFF"),t=this.el.width(),this.el.animate({padding:10,width:t-10},500,function(t){return function(){return t.setMejsDimensions(),t.swapPosterAndVideo(),t.player.play()}}(this))},n.prototype.setMejsDimensions=function(){return this.el.find(".mejs-container").width(this.poster.width()),this.el.find(".mejs-container").height(this.poster.height()),this.el.find(".mejs-overlay").height("100%")},n.prototype.resetTrailerCard=function(){var t;return this.swapPosterAndVideo(),window.innerWidth>1050?this.animateCard(this.el,this.width,this.height,0,t="reset"):this.resetDimensions(),this.posterOverlay.show(),this.trailerSmall=!0},n.prototype.resetDimensions=function(){return this.el.css({background:"#000",padding:"",width:"",height:""})},n.prototype.makeTrailerDivResponsive=function(){return this.trailerSmall===!1?window.innerWidth<=1050?this.resizeCard():this.resizeCard("200%","200%","-60%"):void 0},n.prototype.resizeCard=function(t,e,n){return null==t&&(t=""),null==e&&(e=""),null==n&&(n=""),this.el.css("padding",10),this.el.width(t),this.el.height(e),this.el.css("left",n),this.el.find(".mejs-overlay").height("100%")},n}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){this.toggleSteps=e(this.toggleSteps,this),n.__super__.constructor.apply(this,arguments),this.on("click",".toggle-steps",this.toggleSteps),this.on("pjax:end",this.clearElementsCache),this.expanded=this.get(".achievement-steps ul:visible").length>0}return i(n,t),n.prototype.toggleSteps=function(){return this.expanded?this.contract():this.expand()},n.prototype.expand=function(t){var e;return null==t&&(t="fast"),e=this.get(".toggle-steps").data("hide-label")||"Hide",this.get(".achievement-steps ul").stop(!0,!0).slideDown(t),this.get(".toggle-steps").addClass("selected"),this.get(".toggle-steps i").html(e),this.get(".toggle-steps").addClass("selected"),this.expanded=!0},n.prototype.contract=function(t){var e;return null==t&&(t="fast"),e=this.get(".toggle-steps").data("show-label")||"Show",this.get(".achievement-steps ul").stop(!0,!0).slideUp(t),this.get(".toggle-steps").removeClass("selected"),this.get(".toggle-steps i").html(e),this.get(".toggle-steps").removeClass("selected"),this.expanded=!1
},n}(Treehouse.View),Featurette.register("expandable-content-card",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){this.confirmAction=e(this.confirmAction,this),this.cancelAction=e(this.cancelAction,this),this.triggerAction=e(this.triggerAction,this),n.__super__.constructor.apply(this,arguments),this.on("pjax:end",_.bind(this.init,this)),this.init()}return i(n,t),n.prototype.init=function(){return this.clearElementsCache(),this.stopListening(),this.on("click",".trigger-action",this.triggerAction),this.on("click",".trigger-cancel",this.cancelAction),this.on("click",".trigger-confirm",this.confirmAction)},n.prototype.triggerAction=function(t){return t.preventDefault(),this.get(".add-remove-content").show().css({opacity:"1"})},n.prototype.cancelAction=function(t){return t.preventDefault(),this.get(".add-remove-content").css({opacity:"0"}),this.el.delay(200).queue(function(t){return function(){return t.get(".add-remove-content").hide(),t.el.dequeue()}}(this))},n.prototype.confirmAction=function(t){return t.preventDefault(),this.el.data("remove-card-url")?(this.removeCard(),this.get(".add-remove-content").css({opacity:"0"}),this.el.closest("li").addClass("destroyed"),this.el.delay(500).queue(function(t){return function(){return t.el.closest("li").hide(),t.el.dequeue()}}(this))):(this.addCard(),this.get(".add-remove-content").html("<h4>Added to Home!</h4>"),this.el.delay(1e3).queue(function(t){return function(){return t.get(".add-remove-content").css({opacity:"0"}),t.el.closest(".lesson-card").find(".lesson-progress").removeClass("toggle-add-option"),t.el.dequeue,t.el.remove()}}(this)))},n.prototype.removeCard=function(){return $.ajax(this.el.data("remove-card-url"),{type:"DELETE"})},n.prototype.addCard=function(){return $.post(this.el.data("add-card-url"))},n}(Treehouse.View),Featurette.register("home-card-actions",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){this.showErrorUpdate=e(this.showErrorUpdate,this),this.showConfirmUpdate=e(this.showConfirmUpdate,this),this.updateTrack=e(this.updateTrack,this),this.hideConfirmationCancel=e(this.hideConfirmationCancel,this),this.showConfirmationCancel=e(this.showConfirmationCancel,this),n.__super__.constructor.apply(this,arguments),this.on("click",".decline-update",this.showConfirmationCancel),this.on("click",".icon-close",this.hideConfirmationCancel),this.on("click",".update-track",this.updateTrack)}return i(n,t),n.prototype.showConfirmationCancel=function(){return this.get(".notification-view").hide(),this.get(".confirmation-view").css("display","block")},n.prototype.hideConfirmationCancel=function(){return this.get(".notification-view").css("display","block"),this.get(".confirmation-view").hide()},n.prototype.updateTrack=function(t){return t.preventDefault(),this.get(".achievement-hero").css("background-color","#57636e"),this.get("span.notification-view").html("Updating..."),this.get("p.notification-view").hide(),$.ajax({url:this.get(".update-track").attr("href"),type:"PUT",success:function(t){return function(){return t.showConfirmUpdate()}}(this),error:function(t){return function(){return t.showErrorUpdate()}}(this)}),!1},n.prototype.showConfirmUpdate=function(){return this.get(".update-card").hide(),this.get(".thanks").css("display","block")},n.prototype.showErrorUpdate=function(){return this.get(".icon-alert-dark-gray").hide(),this.get(".achievement-hero").css("background-color","#ed5a5a"),this.get(".title").html("There was a problem updating your Track version."),this.get("p.notification-view").css("color","#fff"),this.get("p.notification-view").html("Please try again, or contact support if the error persists").show()},n}(Treehouse.View),Featurette.register("track-update-notification-actions",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.hideSpinner=e(this.hideSpinner,this),this.showSpinner=e(this.showSpinner,this),this.clickToggle($(".trigger-account"),$(".account-container")),this.shadows(),this.toggleShelf(".trigger-shelf"),$(document).on("pjax:start",this.showSpinner),$(document).on("pjax:end",this.hideSpinner),$(document).on("pjax:end",function(){return"undefined"!=typeof _gaq&&null!==_gaq?_gaq.push(["_trackPageview"]):void 0})}return t.prototype.hover=function(t,e){var n;return n=t.add(e),n.off("hover").hover(function(){return e.stop(!0).show(150)},function(){return e.delay(500).hide(150)})},t.prototype.clickToggle=function(t,e){var n,i;return i=function(){return e.delay(1e3).hide(0)},n=t.add(e),n.on("click",function(){return"none"===e.css("display")?($(".click-toggled").hide(),e.show().addClass("click-toggled"),n.on("mouseleave",function(){return e.delay(1e3).hide(0)}),n.on("mouseenter",function(){return e.stop(!0,!1)})):(e.hide().removeClass("click-toggled"),e.stop(!0,!0).off("mouseleave, mouseover"))})},t.prototype.shadows=function(){var t,e;return t=function(){return $(".heading-pocket").toggleClass("shadowy",$(window).scrollTop()>0)},$(window).on("scroll",_.throttle(t,100)),e=function(){return $(".fixed-sidebar").toggleClass("shadowy",$(".fixed-sidebar .scroll-container").scrollTop()>0)},$(".scroll-container").scroll(_.throttle(e,100))},t.prototype.toggleShelf=function(t){return $(t).on("click",function(){return $("body").toggleClass("shelf-open"),_.delay(function(){return $(window).trigger("resize")},200)})},t.prototype.showSpinner=function(){return $("#content-container").css({opacity:.3}),$(".loading-spinner").css({display:"inline-block"})},t.prototype.hideSpinner=function(){return $("#content-container").css({opacity:1}),$(".loading-spinner").css({display:"none"})},t}(),$(function(){return new t})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.removeField=e(this.removeField,this),this.addNewField=e(this.addNewField,this),this.createNestedField=e(this.createNestedField,this),this.el=$(t),this.createNestedField("language",".add-new-language",".remove-language",".profile-languages","#language-fields-template"),this.createNestedField("award",".add-new-award",".remove-award",".profile-awards","#award-fields-template"),this.createNestedField("publication",".add-new-publication",".remove-publication",".profile-publications","#publication-fields-template")}return t.prototype.createNestedField=function(t,e,n,i,r){return this.el.on("click",e,{title:t,templateName:r},this.addNewField),this.el.on("click",n,{wrapperClass:i,removeLink:n},this.removeField),1===this.el.find(""+i+":visible").length?this.el.find(""+i+":visible:first "+n).hide():void 0},t.prototype.addNewField=function(t){var e,n,i;return t.preventDefault(),this.template||(this.template=this.el.find(t.data.templateName).html()),n=(new Date).getTime(),i=new RegExp("new_"+t.data.title,"g"),e=$(this.template.replace(i,n)),$(t.currentTarget).before(e)},t.prototype.removeField=function(t){return t.preventDefault(),$(t.currentTarget).prev("input[type=hidden]").val("1"),$(t.currentTarget).closest("div").hide(),1===this.el.find(""+t.data.wrapperClass+":visible").length?this.el.find(""+t.data.wrapperClass+":visible:first "+t.data.removeLink).hide():void 0},t}(),Featurette.register("accounts-form",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("track-hero-animation",function(){function e(e){this.animate2=t(this.animate2,this),this.animate1=t(this.animate1,this),this.el=$(e),setTimeout(this.animate1,200)}return e.prototype.animate1=function(){return this.el.find(".adventure-clouds").animate({top:"25px"},500),this.el.find(".icon-adventures-landscape").animate({bottom:"-60px",opacity:".3"},500,this.animate2)},e.prototype.animate2=function(){return this.el.find(".hero-content").animate({marginTop:"0",opacity:"1",top:"50px"},300),this.el.find(".icon-track-large").animate({top:"125px",opacity:"1"},200)},e}())}.call(this),function(){var t;t=function(){function t(t){var e;e=$(t),e.click(function(){return window._gaq.push(["_trackEvent",e.attr("data-category"),e.attr("data-action"),e.attr("data-label"),e.attr("data-value")])})}return t}(),Featurette.register("analytics-event-link",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.success=e(this.success,this),this.listener=e(this.listener,this),this.element=$(t),this.element.click(this.listener)}return t.prototype.listener=function(){var t;return t=this.element.data("user-id"),$.post(""+window.location.origin+window.location.pathname+"/request_answer",{user_id:t},this.success)},t.prototype.success=function(){return this.element.text("Asked").addClass("button-posted").attr("disabled","disabled")},t}(),Featurette.register("ask-to-answer",t)}.call(this),function(){var t;t=function(){function t(t,e){this.options={newPlaceholderText:"Add another\u2026",newButtonText:"Add",newButtonClass:"button"},$.extend(this.options,e),this.element=$(t),this.element.wrap("<div data-bullmark-wrapper-for='"+this.element.attr("id")+"' class='bullmark' />"),this.wrapper=$("[data-bullmark-wrapper-for='"+this.element.attr("id")+"']"),this.wrapper.append("<ul />"),this.list=this.wrapper.find("ul"),this.element.hide(),this.drawList(),this.newItem()}return t.prototype.drawList=function(){var t;return this.list.empty(),t=this.element.val().split("\n"),_.each(t,function(t){return function(e,n){var i;return e=$.trim(e),"*"===e[0]||"-"===e[0]?(i=$("<li>"+e.slice(1)+"</li>"),i.append("<span class='bullmark-destroy' data-bullmark-remove='"+n+"'>&times;</span>"),t.list.append(i)):void 0}}(this)),this.destroyListeners()},t.prototype.newItem=function(){var t,e;return e=$("<textarea class='bullmark-new' placeholder='"+this.options.newPlaceholderText+"'></textarea>"),t=$("<button class='bullmark-new-button button-secondary "+this.options.newButtonClass+"' disabled>"+this.options.newButtonText+"</button>"),e.appendTo(this.wrapper),t.appendTo(this.wrapper),e.on("keyup keydown change",function(){return function(){return 0===$.trim(e).length?t.attr("disabled","disabled"):t.removeAttr("disabled")}}(this)),t.on("click",function(t){return function(n){return n.preventDefault(),t.createItem(e.val()),e.val(""),e.focus()}}(this))},t.prototype.createItem=function(t){return this.element.val(""+this.element.val()+"\n* "+t),this.drawList()},t.prototype.destroyItem=function(t){var e;return e=this.element.val().split("\n"),e.splice(t,1),this.element.val(e.join("\n")),this.drawList()},t.prototype.destroyListeners=function(){var t;return t=$(".bullmark-destroy",this.wrapper),t.off("click"),t.each(function(t){return function(e,n){return $(n).click(function(e){var n;return n=$(e.target).data("bullmark-remove"),t.destroyItem(n)})}}(this))},t}(),Featurette.register("bullmark",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(t){this.updateCurrentStepClass=e(this.updateCurrentStepClass,this),this.prevStep=e(this.prevStep,this),this.nextStep=e(this.nextStep,this),this.handleKeyEvent=e(this.handleKeyEvent,this),this.indicatorClicked=e(this.indicatorClicked,this),this.hashStep=e(this.hashStep,this),this.onHashChange=e(this.onHashChange,this),this.onWizardClosed=e(this.onWizardClosed,this),this.onWizardOpened=e(this.onWizardOpened,this);var i,r,o,s,a;this.id=t.id,n.__super__.constructor.apply(this,arguments),this.allowCycle=null!=(i=this.el.data("wizard-cycle"))?i:!1,this.transitionSpeed=null!=(r=this.el.data("wizard-transition-speed"))?r:300,this.enableArrowKeys=null!=(o=this.el.data("wizard-enable-arrow-keys"))?o:!1,this.updateLocationHash=null!=(s=this.el.data("wizard-update-location-hash"))?s:!1,this.ignoreTotalSteps=null!=(a=this.el.data("wizard-ignore-total-steps"))?a:!1,this.steps=this.el.find(".step"),this.stepIndicators=this.el.find(".step-indicator"),this.totalSteps=this.steps.length,this.currentStep=this.hashStep(),this.initialStep=1,this.history=[],this.on("click",".next-step:not(.disabled)",this.nextStep),this.on("click",".prev-step:not(.disabled)",this.prevStep),this.on("click",".step-indicator",this.indicatorClicked),this.enableArrowKeys&&this.on("keydown",this.handleKeyEvent),this.on("wizard-opened",this.onWizardOpened),this.on("wizard-closed",this.onWizardClosed),this.updateLocationHash&&$(window).on("hashchange",this.onHashChange),this.advanceStep(this.currentStep)}return i(n,t),n.prototype.onWizardOpened=function(){},n.prototype.onWizardClosed=function(){return this.currentStep=this.initialStep,this.advanceStep(this.currentStep)},n.prototype.onHashChange=function(){var t;return location.hash!=="#step-"+this.currentStep?(t=this.hashStep(),this.advanceStep(t)):void 0},n.prototype.hashStep=function(){var t;return t=location.hash.match(/^#step-(\d+)$/),t?parseInt(t[1]):1},n.prototype.indicatorClicked=function(t){var e;return null!=(null!=t?t.currentTarget:void 0)?(e=$(t.currentTarget).data("step-indicator-step"),null!=e&&this.advanceStep(e),t.preventDefault()):void 0},n.prototype.handleKeyEvent=function(t){if(!this.el.find("input, textarea").is(":focus"))switch(t.keyCode){case 37:return this.prevStep();case 39:return this.nextStep()}},n.prototype.nextStep=function(t){var e,n;return e=null!=(n=$(null!=t?t.currentTarget:void 0).data("step"))?n:this.currentStep+1,this.advanceStep(e),null!=t&&t.preventDefault(),e},n.prototype.prevStep=function(t){var e,n;return e=null!=(n=$(null!=t?t.currentTarget:void 0).data("step"))?n:this.currentStep-1,this.advanceStep(e),null!=t&&t.preventDefault(),e},n.prototype.advanceStep=function(t){var e;return e=this.currentStep,this.ignoreTotalSteps?this.currentStep=t:(this.allowCycle||t>=1&&t<=this.totalSteps)&&(this.currentStep=t%this.totalSteps||this.totalSteps),this.currentStep===e?(this.steps.filter(".step-"+this.currentStep).is(":visible")||(this.steps.hide(),this.steps.filter(".step-"+this.currentStep).show()),this.updateCurrentStepClass()):this.steps.filter(".current-wizard-step").fadeOut(this.transitionSpeed,function(t){return function(){return t.get(".step-"+t.currentStep).fadeIn(t.transitionSpeed),t.updateCurrentStepClass()}}(this)),this.updateLocationHash&&(location.hash="#step-"+this.currentStep),"function"==typeof this.onStepChanged?this.onStepChanged():void 0},n.prototype.updateCurrentStepClass=function(){return this.steps.removeClass("current-wizard-step"),this.stepIndicators.removeClass("current-wizard-step"),this.get(".step-"+this.currentStep+", .step-indicator-"+this.currentStep).addClass("current-wizard-step")},n}(Treehouse.View),window.Wizard=t,Featurette.register("wizard",t)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Featurette.register("career-profile",t=function(t){function e(t){e.__super__.constructor.call(this,t),this.on("click",".survey-options[data-type=checkbox] [data-value]",function(t){return function(e){return $(e.currentTarget).find("> a").toggleClass("checked"),t.updateStepAvailability()}}(this)),this.on("click",".survey-options[data-type=radio] [data-value]",function(t){return function(e){var n;return n=$(e.currentTarget).parents(".survey-options"),n.find("li > a").removeClass("checked"),$(e.currentTarget).find("> a").addClass("checked"),t.updateStepAvailability()}}(this)),this.el.find(".survey-options[data-type=sortable]").each(function(t,e){return e=$(e),e.sortable({axis:"y",containment:e.parents(".survey-wizard-container"),revert:150,change:function(t,n){return e.find("> *").not(n.helper).each(function(t,e){var i;return i=e===n.placeholder[0]?n.helper:e,$(".rank",i).text(t+1)})}})})}return n(e,t),e.prototype.onStepChanged=function(){var t,e;return $("html,body").animate({scrollTop:0},this.transitionSpeed),e=this.get(".step-"+this.currentStep).height(),this.get(".steps-container").animate({height:e},{duration:this.transitionSpeed,complete:function(t){return function(){return t.get(".steps-container").css({height:"auto"})}}(this)}),t=this.el.find(".step-2 [data-value=part_time] > a").is(".checked"),$(".step-2-part_time").toggle(t),this.updateStepAvailability(),this.currentStep===this.totalSteps?this.save():void 0},e.prototype.updateStepAvailability=function(){var t,e,n;return n=this.get(".step-"+this.currentStep),e=n.find(".survey-options"),t="sortable"!==e.data("type")&&0===e.find("[data-value] > a.checked").length,this.get(".survey-actions .next-step").toggleClass("disabled",t),this.get(".survey-actions .prev-step").toggleClass("hidden",1===this.currentStep),this.get(".survey-actions .next-step").toggleClass("hidden",this.currentStep===this.totalSteps)},e.prototype.save=function(){var t,e;return e=function(t){return function(e,n){return _(e).extend(t.serializeStep(n))}}(this),t={career_profile:_(this.steps).reduce(e,{})},$.ajax("/career/survey",{data:t,type:"PUT"})},e.prototype.serializeStep=function(t){var e,n,i,r,o,s,a,l,u,c,h,d;if(r=$(t).find(".survey-options"),i=r.find("[data-value]"),d=[r.data("type"),r.data("param")],a=d[0],o=d[1],s={},"checkbox"===a)for(l=0,c=i.length;c>l;l++)n=i[l],s[$(n).data("value")]=$(n).find("> a").is(".checked");else if("radio"===a)s[o]=i.filter(":has(> a.checked)").data("value");else if("sortable"===a)for(e=u=0,h=i.length;h>u;e=++u)n=i[e],s[$(n).data("value")]=i.length-1-e;return s},e}(Wizard))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.Base=function(){function e(e){var n,i,r,o,s;for(this.el=e,this.acceptIncomingMessage=t(this.acceptIncomingMessage,this),this.handleEngineError=t(this.handleEngineError,this),this.handleEngineStatusUpdate=t(this.handleEngineStatusUpdate,this),this.handleEngineEvent=t(this.handleEngineEvent,this),this.handleTimeoutError=t(this.handleTimeoutError,this),this.refresh=t(this.refresh,this),this.checkWork=t(this.checkWork,this),this.submit=t(this.submit,this),this.goToTask=t(this.goToTask,this),this.el=$(this.el),n=this.el.data("challenge"),this.tasks=n.tasks,this.currentTask=0,this.lastTaskPassed=0,this.timeoutDelay=1.25*n.timeout*1e3,this.timeoutPath=this.el.data("timeout-path"),this.timeoutId=null,this.isAdminPreview=n.admin_preview,this.workspace=new CodeChallenge.WorkspaceView(this.el.find(".cc-workspace")),this.instructions=new CodeChallenge.InstructionView(this.el.find("#instructions"),this.tasks,this.el.data("badge-url")),this.feedback=new CodeChallenge.FeedbackView(this.el.find("#feedback"),this.checkWork,this.refresh,this.goToTask),this.results=new CodeChallenge.ResultsView(this.el.find(".cc-results")),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),n.uuid,n.challenge_id,this.timeoutDelay,n.queue_name),this.engineListener=new CodeChallenge.EngineListener(n.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent,engine_update:this.handleEngineStatusUpdate,engine_error:this.handleEngineError,connect:function(t){return function(){return n.no_preview?void 0:t.refresh()}}(this)}),$(document).bind("keydown","ctrl+return",this.checkWork),$(document).bind("keydown","alt+r",this.refresh),s=this.workspace.editors,r=0,o=s.length;o>r;r++)i=s[r],i.codeMirror.addKeyMap({"Ctrl-Enter":this.checkWork}),i.codeMirror.addKeyMap({"Alt-R":this.refresh});this.goToTask(1),n.no_preview&&this.feedback.hidePreviewButton()}return e.prototype.goToTask=function(t){var e;return this.currentTask=t,e=Math.max(t,this.lastTaskPassed),this.instructions.update(t),this.feedback["default"](e)},e.prototype.submit=function(t){var e;return e=this.listenForMessages(),this.submitter.submit(e,this.workspace.getFiles(),t),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},e.prototype.checkWork=function(){return this.feedback.canCheckWork()?(this.feedback.disableCheckWork(),this.feedback.disableRefresh(),this.submit(this.feedback.currentTask())):void 0},e.prototype.refresh=function(){return this.feedback.canRefresh()?(this.feedback.disableRefresh(),this.feedback.disableCheckWork(),this.submit()):void 0},e.prototype.handleTimeoutError=function(){return this.rejectMessages(),$.post(this.timeoutPath),this.genericErrorMessage("There was a communication problem."),this.feedback.resetButtons()},e.prototype.handleEngineEvent=function(t){return this.rejectMessages(),t.pass?t.task===this.tasks.length?(this.feedback.finished(),this.isAdminPreview!==!0&&this.completeChallenge()):(t.task>this.lastTaskPassed&&(this.lastTaskPassed=t.task),this.feedback.correct(t.feedback,t.task+1)):t.pass===!1&&(t.task<=this.lastTaskPassed&&t.task!==this.currentTask?this.feedback.inactiveTaskFailed(t.task,t.up_to):(this.feedback.showWorkspace(),this.feedback.wrong(t.feedback,t.up_to))),clearTimeout(this.timeoutId),this.results.update(t),this.feedback.resetButtons()},e.prototype.handleEngineStatusUpdate=function(t){var e;return e="run"===t.target?this.feedback.updatePreviewButton(t.text):this.feedback.updateTestButton(t.text)},e.prototype.handleEngineError=function(t){return clearTimeout(this.timeoutId),this.genericErrorMessage(t.message||"")},e.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},e.prototype.acceptIncomingMessage=function(t){return parseInt(t.message_id,10)===this.messageId},e.prototype.rejectMessages=function(){return this.messageId=null},e.prototype.completeChallenge=function(){return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return function(e){return"Badge awarded!"!==e.message?Featurette.get("challenge-completed-modal").showOverlay():(e.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(e.video),$("#reward-video").show(),t.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay(),e.track_completed===!0?($("#badge-awarded-footer").hide(),$("#track-completed-footer").show()):void 0)}}(this),error:function(t){return function(e,n,i){return t.genericErrorMessage(i)}}(this)})},e.prototype.genericErrorMessage=function(t){var e;return e=Featurette.get("code-challenge-error-modal"),e.setError(t),e.showOverlay()},e}(),Featurette.register("code-challenge",CodeChallenge.Base)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.CommandChallenge=function(){function e(e){var n;this.el=e,this.acceptIncomingMessage=t(this.acceptIncomingMessage,this),this.acceptIncomingMessage=t(this.acceptIncomingMessage,this),this.retryCurrentTask=t(this.retryCurrentTask,this),this.goToNextTask=t(this.goToNextTask,this),this.handleEngineError=t(this.handleEngineError,this),this.handleEngineEvent=t(this.handleEngineEvent,this),this.handleTimeoutError=t(this.handleTimeoutError,this),this.submit=t(this.submit,this),this.el=$(this.el),n=this.el.data("challenge"),this.tasks=n.tasks,this.currentTask=1,this.lastTaskPassed=0,this.timeoutDelay=1.25*n.timeout*1e3,this.timeoutPath=this.el.data("timeout-path"),this.timeoutId=null,this.badgeUrl=this.el.data("badge-url"),this.addViewForCurrentTask(),this.engineListener=new CodeChallenge.EngineListener(n.uuid,this.acceptIncomingMessage,{event:this.handleEngineEvent,engine_error:this.handleEngineError}),this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),n.uuid,n.challenge_id,this.timeoutDelay,n.queue_name)}return e.prototype.submit=function(t,e){var n;return n=this.listenForMessages(),this.submitter.submit(n,[],t,e),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},e.prototype.handleTimeoutError=function(){return this.rejectMessages(),$.post(this.timeoutPath),this.genericErrorMessage("There was a communication problem.")},e.prototype.handleEngineEvent=function(t){var e;return this.rejectMessages(),t.pass?t.task===this.tasks.length?this.completeChallenge():(this.lastTaskPassed=t.task,this.taskView.correct(t.feedback),$(".cc-goto").click(function(t){return function(){return t.goToNextTask()}}(this))):(this.taskView.wrong(t.feedback),$(".cc-test").click(function(t){return function(){return t.retryCurrentTask()}}(this))),this.taskView.displayResults(null!=(e=t.preview_urls)?e[0]:void 0),clearTimeout(this.timeoutId)},e.prototype.handleEngineError=function(t){return clearTimeout(this.timeoutId),this.genericErrorMessage(t.message||"")},e.prototype.goToNextTask=function(){return this.taskView.hideResults(this.lastTaskPassed,$(".hide-results")),$(".cc-goto").remove(),this.currentTask=this.lastTaskPassed+1,this.addViewForCurrentTask()},e.prototype.retryCurrentTask=function(){return $("#"+this.el.attr("id")+" .task_view").last().remove(),this.addViewForCurrentTask()},e.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},e.prototype.addViewForCurrentTask=function(){return this.taskView=new CodeChallenge.CommandTaskView(this.el,this.tasks[this.currentTask-1],this.currentTask,this.tasks.length,this.submit,this.badgeUrl)},e.prototype.acceptIncomingMessage=function(){},e.prototype.acceptIncomingMessage=function(t){return parseInt(t.message_id,10)===this.messageId},e.prototype.rejectMessages=function(){return this.messageId=null},e.prototype.completeChallenge=function(){return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT"},success:function(t){return function(e){return"Badge awarded!"===e.message?e.video?(Featurette.get("badge-video-modal").showOverlay(),$("#reward-video-container").html(e.video),$("#reward-video").show(),t.player=new MediaElementPlayer($("#player"))):Featurette.get("badge-modal").showOverlay():Featurette.get("challenge-completed-modal").showOverlay()}}(this),error:function(t){return function(e,n,i){return t.genericErrorMessage(i)}}(this)})},e.prototype.genericErrorMessage=function(t){var e;return null==t&&(t="There was an error."),e=Featurette.get("code-challenge-error-modal"),e.setError(t),e.showOverlay()},e}(),Featurette.register("command-challenge",CodeChallenge.CommandChallenge)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EngineListener=function(){function e(e,n,i){this.acceptIncoming=n,this.callbacks=i,this.fireEvent=t(this.fireEvent,this),pubnub.subscribe({channel:e,connect:this.callbacks.connect,message:this.fireEvent})}return e.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",e.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",e.prototype.fireEvent=function(t){return this.acceptIncoming&&this.callbacks[t.name]?this.callbacks[t.name](t.data):void 0},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.Submitter=function(){function t(t,e,n,i,r){this.url=t,this.ajaxDefaultData={uuid:e,challenge_id:n,queue_name:r}}return t.prototype.submit=function(t,e,n,i){var r;return null==n&&(n=null),null==i&&(i=null),r={message_id:t,task:n,files:e,command:i},$.extend(r,this.ajaxDefaultData),$.ajax({type:"POST",url:this.url,data:r})},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.CommandTaskView=function(){function e(e,n,i,r,o,s){this.el=e,this.taskData=n,this.currentTask=i,this.totalTasks=r,this.submitForTestingCallback=o,this.badgeUrl=s,this.hideResults=t(this.hideResults,this),this.displayResults=t(this.displayResults,this),this.wrong=t(this.wrong,this),this.correct=t(this.correct,this),this.disableOtherTaskEntries=t(this.disableOtherTaskEntries,this),this.addNewTaskEntry=t(this.addNewTaskEntry,this),this.el=$(this.el),this.addNewTaskEntry()}return e.prototype.addNewTaskEntry=function(){var t,e,n,i;return this.disableOtherTaskEntries(),t={taskData:this.taskData,currentTask:this.currentTask,totalTasks:this.totalTasks,badgeUrl:this.badgeUrl},this.el.append(HoganTemplates["code_challenges/command_task"].render(t)),i=$("#"+this.el.attr("id")+" .task_view .terminal").last(),e="> ",n=function(t){return function(){var n;return""!==t.editor.getValue()?(n=t.editor.getValue().slice(e.length),t.submitForTestingCallback(t.currentTask,n),t.editor.setOption("readOnly","nocursor"),t.el.find(".terminal").html("Checking your answer...")):void 0}}(this),this.editor=CodeMirror(i[0],{mode:"text",lineWrapping:!0,value:e,extraKeys:{Enter:n}}),this.editor.markText({line:0,ch:0},{line:0,ch:2},{inclusiveLeft:!0,atomic:!0}),$("html, body").animate({scrollTop:i.closest(".task_view").offset().top-100},400),this.editor.focus()},e.prototype.disableOtherTaskEntries=function(){return this.el.children(".task_view").addClass("inactive")},e.prototype.correct=function(t){var e;return e=$("#"+this.el.attr("id")+" .task_view #feedback").last(),e.html(HoganTemplates["code_challenges/command_feedback_correct"].render({feedback:t}))},e.prototype.wrong=function(t){var e;return e=$("#"+this.el.attr("id")+" .task_view #feedback").last(),e.html(HoganTemplates["code_challenges/command_feedback_wrong"].render({feedback:t}))},e.prototype.displayResults=function(t){var e,n,i;if(void 0!==t&&null!==t)return i=this.el.children(".task_view").last(),e={currentTask:this.currentTask,url:t},i.append(HoganTemplates["code_challenges/command_results"].render(e)),n=$(".hide-results").last(),n.click(function(t){return function(){var i;return i=e.currentTask,t.hideResults(i,n)}}(this))},e.prototype.hideResults=function(t,e){return $("#results-"+t).hide(),e.addClass("show-results"),e.removeClass("hide-results"),e.html("Show"),e.click(function(n){return function(){return $("#results-"+t).show(),e.addClass("hide-results"),e.removeClass("show-results"),e.html("Hide"),e.click(function(){return n.hideResults(t,e)})}}(this))},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EditorView=function(){function e(e,n,i){this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.refresh=t(this.refresh,this),this.handleCursorMove=t(this.handleCursorMove,this),this.codeMirror=CodeMirror.fromTextArea(e,{mode:$(e).data("editor-mode"),tabMode:"indent",tabSize:2,lineNumbers:!0,theme:"solarized dark",viewportMargin:30}),this.codeMirror.on("cursorActivity",this.handleCursorMove),$(".CodeMirror").ready(this.refresh)}return e.prototype.handleCursorMove=function(){var t,e;return e=this.highlightedLine,t=this.codeMirror.getCursor().line,e&&this.codeMirror.removeLineClass(e,"background","CodeMirror-activeline-background"),this.highlightedLine=this.codeMirror.addLineClass(t,"background","CodeMirror-activeline-background")},e.prototype.getValue=function(){return this.codeMirror.getValue()},e.prototype.refresh=function(){return this.codeMirror.refresh()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.FeedbackView=function(){function e(e,n,i,r){this.el=e,this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.goToTaskCallback=r,this.showWorkspace=t(this.showWorkspace,this),this.showResults=t(this.showResults,this),this.disableRefresh=t(this.disableRefresh,this),this.disableCheckWork=t(this.disableCheckWork,this),this.currentTask=t(this.currentTask,this),this.goToTask=t(this.goToTask,this),this.testButtonHandler=t(this.testButtonHandler,this),this.previewButtonHandler=t(this.previewButtonHandler,this),this.el=$(this.el),this.el.on("click",".cc-test",this.testButtonHandler),this.el.on("click",".cc-preview",this.previewButtonHandler),this.el.on("click",".cc-goto",this.goToTask),this.el.on("click",".show-results-button",this.showResults),this.el.on("click",".show-workspace-button",this.showWorkspace)}return e.prototype.previewButtonHandler=function(t){return t.preventDefault(),this.submitForPreviewCallback()},e.prototype.testButtonHandler=function(t){return t.preventDefault(),this.submitForTestingCallback()
},e.prototype.goToTask=function(t){var e,n;return t.preventDefault(),e=$(t.target),e.hasClass("disabled")?void 0:(n=e.data("task"),this.goToTaskCallback(n))},e.prototype.generateFeedback=function(t,e){return null==e&&(e={}),HoganTemplates["code_challenges/feedback_"+t].render(e)},e.prototype["default"]=function(t){return this.el.html(this.generateFeedback("neutral",{task:t}))},e.prototype.canCheckWork=function(){return!this.el.find(".cc-test").hasClass("disabled")},e.prototype.canRefresh=function(){return!this.el.find(".cc-preview").hasClass("disabled")},e.prototype.correct=function(t,e){return this.el.html(this.generateFeedback("correct",{feedback:t,nextTask:e}))},e.prototype.currentTask=function(){return this.el.find(".cc-test").data("task")},e.prototype.disableCheckWork=function(){return this.el.find(".cc-test").addClass("disabled"),this.updateTestButton("Working...")},e.prototype.disableRefresh=function(){return this.el.find(".cc-preview").addClass("disabled"),this.updatePreviewButton("Working...")},e.prototype.finished=function(){return this.el.html(this.generateFeedback("finished"))},e.prototype.wrong=function(t,e){return this.el.html(this.generateFeedback("wrong",{feedback:t,failedTask:e}))},e.prototype.hidePreviewButton=function(){return this.el.find(".show-results-button").hide()},e.prototype.inactiveTaskFailed=function(t,e){var n;return n={failedTaskAsWord:this.numberToWord(t),failedTask:t,currentTask:e},this.el.html(this.generateFeedback("inactive_task_failed",n))},e.prototype.numberToWord=function(t){var e;return e=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"],11>t?e[t]:"#"+t},e.prototype.resetButtons=function(){var t,e;return t=this.el.find(".cc-test"),t.text(t.data("default-text")),e=this.el.find(".cc-preview"),e.text(e.data("default-text")),$(".cc-test, .cc-preview").removeClass("disabled")},e.prototype.showResults=function(){return this.el.find(".cc-preview").show(),$(".show-results-button").hide(),$(".show-workspace-button").show(),$(".workspace").hide(),$(".cc-results").show()},e.prototype.showWorkspace=function(){return this.el.find(".cc-preview").hide(),$(".show-results-button").show(),$(".show-workspace-button").hide(),$(".workspace").show(),$(".cc-results").hide()},e.prototype.updateTestButton=function(t){return this.el.find(".cc-test").text(t)},e.prototype.updatePreviewButton=function(t){return this.el.find(".cc-preview").text(t)},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.InstructionView=function(){function t(t,e,n){this.el=t,this.taskInstructions=e,this.badgeImageUrl=n,this.el=$(this.el)}return t.prototype.update=function(t){var e;return e={task:t,body:this.taskInstructions[t-1].body,totalTasks:this.taskInstructions.length,badgeImageUrl:this.badgeImageUrl},this.el.html(HoganTemplates["code_challenges/instructions"].render(e))},t}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.PreviewView=function(){function t(t){this.el=t,this.el=$(this.el)}return t.prototype.update=function(t){return this.el.find("iframe").attr("src",t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.ResultsView=function(){function e(e){this.el=e,this.update=t(this.update,this),this.handleMenuClick=t(this.handleMenuClick,this),this.initializePreview=t(this.initializePreview,this),this.el.find(".cc-preview-view").each(this.initializePreview),this.el.on("click",".cc-results-menu a",this.handleMenuClick),this.el.find(".cc-results-menu .selected").click()}return e.prototype.initializePreview=function(t,e){return this.previews||(this.previews={}),this.previews[$(e).data("source")]=new CodeChallenge.PreviewView(e)},e.prototype.handleMenuClick=function(t){var e,n;return t.preventDefault(),n=$(t.target),this.el.find(".cc-results-menu .selected").removeClass("selected"),n.addClass("selected"),e=this.el.find(".cc-results-menu a").index(n),this.el.find(".preview.selected").removeClass("selected"),this.el.find(".preview").eq(e).addClass("selected")},e.prototype.update=function(t){var e,n,i,r,o;r=this.previews,o=[];for(e in r)n=r[e],o.push(t.preview_urls?function(){var r,o,s,a;for(s=t.preview_urls,a=[],r=0,o=s.length;o>r;r++)i=s[r],new RegExp("/"+e+"$").test(i)&&a.push(n.update(i));return a}():void 0);return o},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.WorkspaceView=function(){function e(e,n,i){this.el=e,this.submitForTestingCallback=n,this.submitForPreviewCallback=i,this.handleMenuClick=t(this.handleMenuClick,this),this.initializeEditor=t(this.initializeEditor,this),this.el.find(".editor textarea").each(this.initializeEditor),this.el.on("click",".cc-editor-menu a",this.handleMenuClick),this.el.find(".cc-editor-menu .selected").click()}return e.prototype.initializeEditor=function(t,e){return this.editors||(this.editors=[]),this.editors.push(new CodeChallenge.EditorView(e,this.submitForTestingCallback,this.submitForPreviewCallback))},e.prototype.handleMenuClick=function(t){var e,n;return t.preventDefault(),n=$(t.target),this.el.find(".cc-editor-menu .selected").removeClass("selected"),n.addClass("selected"),e=this.el.find(".cc-editor-menu a").index(n),this.el.find(".editor.selected").removeClass("selected"),this.el.find(".editor").eq(e).addClass("selected"),this.editors[e].codeMirror.refresh()},e.prototype.getFiles=function(){return $.map(this.editors,function(t){return function(e,n){var i,r;return r=t.el.find(".cc-editor-menu a").eq(n).text(),i=e.getValue(),{source:r,content:i}}}(this))},e}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.toggleCompletedCards=e(this.toggleCompletedCards,this),this.element=$(t),this.toggle=$("div[data-featurette='expandable-content-card'].completed"),this.icon=this.element.find(".icon"),this.text=this.element.find(".toggle-text"),this.element.on("click",this.toggleCompletedCards)}return t.prototype.toggleCompletedCards=function(){return"Hide"===this.text.html()?this.contract():this.expand()},t.prototype.expand=function(){return this.toggle.removeClass("hidden"),this.text.html("Hide"),this.icon.removeClass("icon-chevron-down").addClass("icon-chevron-up")},t.prototype.contract=function(){return this.toggle.addClass("hidden"),this.text.html("Show"),this.icon.removeClass("icon-chevron-up").addClass("icon-chevron-down")},t}(),Featurette.register("completed-card-toggle",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onClick=e(this.onClick,this),$(t).on("click",this.onClick)}return t.prototype.opts="top=100,left=100,height=600,width=800,scrollbars=0,location=0,menubar=0,toolbar=0",t.prototype.onClick=function(t){var e;return t.preventDefault(),e=window.open("http://console.teamtreehouse.com:3388/window",null,this.opts),e?void 0:alert("It looks like your pop up blocker blocked the console window.")},t}(),Featurette.register("console-button",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.respectAnchor=e(this.respectAnchor,this),this.element=$(t),_.delay(this.respectAnchor,500)}return t.prototype.respectAnchor=function(){var t,e;return t=window.location.hash.substring(1),""===t?null:(e=Featurette.get(t),void 0!==e?(_.each(this.element.find("[data-featurette='expandable-content-card']"),function(){return function(t){return Featurette.get($(t).attr("id")).contract(0)}}(this)),e.expand(0),$(window).scrollTop($(window).scrollTop()-100)):void 0)},t}(),Featurette.register("content-cards",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.displayErrors=e(this.displayErrors,this),this.formSubmit=e(this.formSubmit,this),this.el=$(t),this.fieldValidation(),this.el.find("#payment_card_number").on("keyup",this.getCardType),this.el.on("submit",this.formSubmit)}return t.prototype.formSubmit=function(t){return t.preventDefault(),this.reset(),$.ajax({url:"/payments/verify_credit_card",type:"POST",data:this.el.serialize(),headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:this.displayErrors})},t.prototype.displayErrors=function(t){var e;return null===t.errors?this.el.get(0).submit():(e=_.keys(t.errors),_.each(e,function(){return function(e){var n,i;return n=$("[data-errors-on~="+e+"]"),i=t.errors[e],0===$("p.error-message",n).length&&i.length>0?(n.addClass("field_with_errors"),n.append("<p class='error-message'>"+i[0]+"</p>")):void 0}}(this)))},t.prototype.fieldValidation=function(){return $("#payment_card_number").payment("formatCardNumber"),$("#payment_card_cvc").payment("formatCardCVC"),$("#payment_card_expiration").payment("formatCardExpiry")},t.prototype.getCardType=function(){var t,e;return e=$("#payment_card_number").val(),t=$.payment.cardType(e),$("#payment_card_type").val(t),$("#cards img").removeClass("selected"),null!==t?$("#card-"+t).addClass("selected"):void 0},t.prototype.reset=function(){return $("p.error-message").remove(),$(".field_with_errors").removeClass("field_with_errors")},t}(),Featurette.register("credit-card-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.resize=e(this.resize,this),this.dropdown=$(t),this.dropdown.wrap("<span class='drop-down-container' />"),this.wrapper=this.dropdown.parent(),this.dropdown.chosen({no_results_text:"No results for",allow_single_deselect:!0}),this.button=this.wrapper.find(".chzn-single"),this.center(),void 0!==this.dropdown.data("autocomplete-url")?(this.dropdown.data("existing",this.dropdown.html()),this.autocomplete()):this.wrapper.find(".chzn-search").hide(),$(document).on("liszt:updated",this.resize),this.dropdown.on("change",this.resize),this.resize()}return t.prototype.resize=function(){return this.button.parent().removeAttr("style"),this.center()},t.prototype.center=function(){var t,e,n;return t=this.wrapper.width(),e=this.wrapper.find(".chzn-drop").width(),n=t/2-e/2,this.wrapper.find(".chzn-drop").css("margin-left",n)},t.prototype.autocomplete=function(){return this.input=this.wrapper.find(".chzn-search input"),this.input.autocomplete({delay:500,minLength:5,source:function(t){return function(e,n){return $.ajax({url:t.dropdown.data("autocomplete-url"),data:{q:t.input.val()},dataType:"json",beforeSend:function(){return t.wrapper.find("ul.chzn-results, select").empty()},success:function(i){var r;return t.addExisting(),r=_.each(i,function(n){return t.dropdown.append("<option>"+n+"</option>"),t.dropdown.trigger("liszt:updated"),t.input.val(e.term)}),n(r)}})}}(this)})},t.prototype.addExisting=function(){return this.dropdown.prepend(this.dropdown.data("existing")),this.dropdown.trigger("liszt:updated")},t}(),Featurette.register("drop-down",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.EditBillingForm=function(e){function i(){this.togglePaymentMethod=t(this.togglePaymentMethod,this),i.__super__.constructor.apply(this,arguments),this.on("change","input[name='payment_method']",this.togglePaymentMethod),this.togglePaymentMethod()}return n(i,e),i.prototype.togglePaymentMethod=function(){var t;switch(t=$("input[name='payment_method']:checked").val()){case"paypal":return this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".paypal-chosen").show();case"credit_card":return this.get(".paypal-chosen").hide(),this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").show();case"bitcoin":return this.get(".paypal-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".bitcoin-chosen").show()}},i}(Treehouse.View),Featurette.register("edit-billing-form",Treehouse.EditBillingForm)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.toggleContent=e(this.toggleContent,this),this.root=$(t),this.root.on("click",".expander-trigger",this.toggleContent),this.parentSelector=this.root.data("parent-selector")}return t.prototype.toggleContent=function(t){var e,n,i,r;return t.preventDefault(),i=$(t.currentTarget),n=i.parents(this.parentSelector),n.toggleClass("expanded"),n.hasClass("expanded")&&(r=n.data("content-path"))&&(e=n.find(".expander-content-container"),e.hasClass("is-empty"))?$.get(r,function(t){return e.html(t).removeClass("is-empty")}):void 0},t}(),Featurette.register("expander",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.listener=e(this.listener,this),this.init=e(this.init,this),this.element=$(t),this.element.on("filter-list:updated",this.init),this.element.trigger("filter-list:updated"),this.initialValue()}return t.prototype.init=function(){return this.filters=this.element.find("a"),this.filters.off("click",this.listener),this.filters.on("click",this.listener)},t.prototype.initialValue=function(){var t;return(t=this.queryString()[this.element.attr("id")])&&this.val(t.replace(/\+/g," ")),void 0===this.val()?this.val(""):void 0},t.prototype.listener=function(t){var e;return t.preventDefault(),e=$(t.target),this.val(e.data("filter-value"))},t.prototype.val=function(t,e){var n;return null==e&&(e=!0),void 0===t?this.filters.filter(".selected").first().data("filter-value"):(this.filters.removeClass("selected"),n=this.filters.filter("[data-filter-value='"+t+"']"),1===n.length&&n.addClass("selected"),e?this.element.trigger("change"):void 0)},t.prototype.queryString=function(){var t,e,n,i,r,o;if(t=new Object,n=location.href.split("?")[1],!n)return t;for(o=n.split("&"),i=0,r=o.length;r>i;i++)e=o[i],e=e.split("="),t[e[0]]=e[1];return t},t}(),Featurette.register("filter-list",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.cancelNewComment=e(this.cancelNewComment,this),this.showNewComment=e(this.showNewComment,this),this.$el=$(t),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$addEl=$("#add-"+this.type+"-comment-"+this.id),this.$newEl=$("#new-"+this.type+"-comment-"+this.id),this.$cancelEl=$("#cancel-new-"+this.type+"-comment-"+this.id),this.$el.click(this.showNewComment),this.$cancelEl.click(this.cancelNewComment)}return t.prototype.showNewComment=function(t){return t.preventDefault(),this.$addEl.hide(),this.$newEl.show()},t.prototype.cancelNewComment=function(t){return t.preventDefault(),this.$newEl.hide().find("textarea").val(""),this.$addEl.show()},t}(),Featurette.register("forum-commenting",t)}.call(this),function(){var t;t=function(){function t(t){this.$el=$(t),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$showEl=$("#show-"+this.type+"-"+this.id),this.$editEl=$("#edit-"+this.type+"-"+this.id),this.$cancelEl=$("#cancel-edit-"+this.type+"-"+this.id),this.$el.click(function(t){return function(){return t.previousValue=t.$editEl.find(".new-discussion textarea").val(),t.$showEl.hide(),t.$editEl.show()}}(this)),this.$cancelEl.click(function(t){return function(e){return e.preventDefault(),t.$editEl.hide(),t.$showEl.show(),t.$editEl.find(".new-discussion textarea").val(t.previousValue)}}(this))}return t}(),Featurette.register("forum-editing",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.updateVotingCount=e(this.updateVotingCount,this),this.vote=e(this.vote,this),this.selectBest=e(this.selectBest,this),this.$el=$(t),this.id=this.$el.data("answer-id"),this.cancelVoteUrl=this.$el.data("cancel-vote-url"),this.$answerWrap=this.$el.find(".discussion-highlight"),this.$bestEl=this.$el.find(".vote-best-answer"),this.$upvoteEl=this.$el.find(".vote-up"),this.$downvoteEl=this.$el.find(".vote-down"),this.$bestEl.find("a").click(this.selectBest),this.$upvoteEl.find("a").click(this.vote),this.$downvoteEl.find("a").click(this.vote)}return t.prototype.selectBest=function(t){var e,n;return t.preventDefault(),n=this.$bestEl.find("a").data("url"),this.$answerWrap.hasClass("discussion-answer-best")?(e=this.$answerWrap,this.$answerWrap.removeClass("discussion-answer-best"),this.$bestEl.addClass("selected")):(e=$(".discussion-answer-best"),e.removeClass("discussion-answer-best"),e.find(".vote-best-answer").addClass("selected"),this.$answerWrap.addClass("discussion-answer-best"),this.$bestEl.removeClass("selected")),$.ajax({url:n,type:"POST",error:function(t){return function(){return t.$answerWrap.removeClass("discussion-answer-best"),t.$bestEl.addClass("selected"),e.addClass("discussion-answer-best"),e.find(".vote-best-answer").removeClass("selected"),alert("There was a problem marking the answer as best.")}}(this)})},t.prototype.vote=function(t){var e,n,i,r,o,s,a,l,u,c,h,d;return t.preventDefault(),e=$(t.currentTarget),l=this.$upvoteEl.find(".vote-count").text(),r=this.$el.find(".voted"),r.length>0&&(u=r.parent().hasClass("vote-up")?1:-1),s=e.parent().hasClass("vote-up")?1:-1,n=this.$upvoteEl.find(".vote-count"),e.hasClass("voted")?(c=this.cancelVoteUrl,e.removeClass("voted"),a=parseInt(null!=(h=n.text())?h:0)-s):(c=e.data("url"),i=this.$el.find(".voted"),i.removeClass("voted"),e.addClass("voted"),o=parseInt(null!=(d=n.text())?d:0),a=null!=u?o-(u-s):o+s),n.text(a),$.ajax({url:c,type:"POST",success:this.updateVotingCount,error:function(t){return function(){return e.removeClass("voted"),i.addClass("voted"),t.updateVotingCount(l),alert("There was a problem counting your vote.")}}(this)})},t.prototype.updateVotingCount=function(t){var e,n;return e=null!=(n=parseInt(t))?n:0,this.$upvoteEl.find(".vote-count").text(e),this.$upvoteEl.find("a").toggleClass("vote-count-zero",0===e)},t}(),Featurette.register("forum-voting",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.renderRepos=e(this.renderRepos,this),this.getRepos=e(this.getRepos,this),this.el=$(t),this.githubUsername=this.el.data("github-username"),this.githubSection=this.el.find("ul"),this.getRepos(this.githubUsername,this.githubSection,this.renderRepos)}return t.prototype.getRepos=function(t,e){var n,i;return n="https://api.github.com/users/"+t+"/repos",i=this,$.ajax({url:n,dataType:"jsonp",crossDomain:!0,success:function(n){var r;return r=n.data,r=$.grep(r,function(t){return!t.fork}),r.sort(function(t,e){return e.watchers_count-t.watchers_count}),r=$(r),i.renderRepos(r,t,e)}})},t.prototype.renderRepos=function(t,e,n){return this.setToggle(n,t.length),t.each(function(t){var i,r;return i={repoName:this.name,repoDescription:this.description,repoUrl:this.html_url,repoForksUrl:""+this.html_url+"/forks",repoForks:""+this.forks+" fork"+(this.forks>1?"s":""),repoStargazersUrl:""+this.html_url+"/stargazers",repoStargazers:""+this.watchers+" stargazer"+(this.watchers>1?"s":""),repoOwner:this.owner.login===e},r=HoganTemplates["profile/github_repo"].render(i),t>1&&(r=$(r).hide()),n.append(r)})},t.prototype.setToggle=function(t,e){var n;return n=t.parent(),e>0?n.find("a.show-all-repos").click(function(){return function(e){var n;return t.find("li").slice(2).slideToggle(),n=$(e.target),n.text("See all repositories"===n.text()?"Hide repositories":"See all repositories")}}(this)):n.find("a.show-all-repos").replaceWith("<span class='no-repos-found'>0 repositories</span>")},t}(),Featurette.register("github-profile",t)}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=function(){function t(t){this.removeMessage=n(this.removeMessage,this),this.id=t.id,this.mikeId="mike",this.mikeSound="mike-sound",this.countCookie="mikeCounter",this.setupMike(),this.el=$(t),this.el.on("click",".close-message",this.removeMessage),$(document).on("scroll",this.removeMessage)}return t.prototype.setupMike=function(){return this.canPlayMp3()||this.canPlayOgg()?$("#"+this.mikeId).click(function(t){return function(){var e;return $("#"+t.id).slideToggle("fast"),e=parseInt($.cookie(t.countCookie))||0,e%10===0&&$("#"+t.mikeSound)[0].play(),$.cookie(t.countCookie,e+1)}}(this)):void 0},t.prototype.canPlayMp3=function(){var t;return t=document.createElement("audio"),!(!t.canPlayType||!t.canPlayType("audio/mpeg;").replace(/no/,""))},t.prototype.canPlayOgg=function(){var t;return t=document.createElement("audio"),!(!t.canPlayType||!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""))},t.prototype.removeMessage=function(){return this.el.fadeOut(500),$("body").removeClass("global-message-displayed")},t}(),Featurette.register("global-message-container",t),e=function(t){function e(t){var e;this.id=t.id,e=$(t),this.key=e.attr("data-hide"),"true"!==$.cookie(this.key)&&e.show(),e.find(".close-message").click(function(){return this.key=e.attr("data-hide"),e.hide(),$.cookie(this.key,"true",{expires:365,path:"/"}),$("body").removeClass("global-message-displayed")})}return r(e,t),e}(t),Featurette.register("global-message-container-with-key",e)}.call(this),function(){var t;t=function(){function t(t){this.id=t.id,$(t).find("#contact-form .honey-pot-field").remove(),this.resetContactForm(),$(t).find("#contact-form").submit(function(t){return function(e){return t.handleSubmit(e)}}(this))}return t.prototype.resetContactForm=function(){var t;return t=$("#"+this.id),t.find("#contact-form input").add("#"+this.id+" #contact-form textarea").removeClass("field_with_errors"),t.find(".error-message").hide(),t.find(".message").hide(),window.element=t,this.hasBeenSubmitted&&t.find("#contact-form").css("visibility","visible"),this.hasBeenSubmitted&&t.find(".form-footer .button").css("visibility","visible"),this.hasBeenSubmitted=!1},t.prototype.handleSubmit=function(t){var e;return e=$("#"+this.id),this.resetContactForm(),e.find("#contact-form").css("visibility","hidden"),e.find(".form-footer .button").css("visibility","hidden"),e.find(".message.waiting").show(),$.ajax({url:"/contact.json",type:"POST",dataType:"json",data:e.find("form").serialize(),error:function(){return function(){return e.find(".message").hide(),e.find(".message.error").show()}}(this),success:function(t){return function(n){return e.find(".message").hide(),$.isEmptyObject(n.errors)?(e.find(".message.success").show(),t.hasBeenSubmitted=!0,e.find("#contact-form textarea").val("")):(e.find(".message.error").show(),e.find("#contact-form").css("visibility","visible"),e.find(".form-footer .button").css("visibility","visible"),$.each(n.errors,function(t,n){return e.find("#contact_form_"+t).addClass("field_with_errors").closest("div.form-item").find(".error-message").show().text(n[0])}))}}(this)}),t.preventDefault()},t}(),Featurette.register("help-form",t)}.call(this),function(){var t;t=function(){function t(t){var e;e=$(t),e.find(".play-button a").on("click",function(t){var n;return e.find(".video-feature").fadeOut(1e3),n=Featurette.get(e.find("video").attr("id")),n.endCallback=function(){return e.find(".video-feature").fadeIn(1e3)},n.player.play(),t.preventDefault()})}return t}(),Featurette.register("how-treehouse-works-video",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("info-tooltip",t=function(){function t(t){this.unhover=e(this.unhover,this),this.hover=e(this.hover,this),this.el=$(t),this.tooltip=this.el.find(".tooltip"),this.displaying=!1,this.tooltip.hide(),this.el.on("mouseover",this.hover),this.el.on("mouseout",this.unhover)}return t.prototype.hover=function(t){return!this.displaying&&$(t.target).is(this.el)?(this.tooltip.show(),this.displaying=!0,t.stopPropagation()):void 0},t.prototype.unhover=function(t){return this.displaying&&$(t.target).is(this.el)?(this.tooltip.hide(),this.displaying=!1,t.stopPropagation()):void 0},t}())}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=function(){function t(t){this.launch=n(this.launch,this),this.onClick=n(this.onClick,this),this.el=$(t),this.setup(),this.el}return t.prototype.setup=function(){return this.el.on("click",this.onClick)},t.prototype.onClick=function(t){return this.launch(this.el.data("id")),null!=t?t.preventDefault():void 0},t.prototype.launchOpts="top=100,left=100,height=768,width=1024,scrollbars=0,location=0,menubar=0,toolbar=0",t.prototype.launch=function(t){var e,n;return e="/workspaces/"+t,null!=this.win?this.win.location=e:this.win=window.open(e,null,this.launchOpts),null==this.win&&alert("It looks like your pop up blocker blocked the workspace window."),this.win=null,null!=(n=Featurette.get(this.el.closest(".modal").attr("id")))?n.closeOverlay():void 0},t}(),t=function(t){function e(){return this.onError=n(this.onError,this),this.onCreate=n(this.onCreate,this),this.submit=n(this.submit,this),e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.setup=function(){return this.el.on("submit",this.submit),this.resetErrors()},e.prototype.submit=function(t){var e,n,i;return this.resetErrors(),i=this.el.find("#workspace_title"),0===i.val().length?(n="<span class='error-message'>A title is required</span>",i.addClass("field_with_errors").after(n),null!=t&&t.preventDefault(),!1):(this.win=window.open("about:blank",null,this.launchOpts),e={title:i.val(),item_id:this.el.find("#workspace_item_id").val(),item_type:this.el.find("#workspace_item_type").val(),forked_workspace_id:this.el.find("#workspace_forked_workspace_id, #forked-workspace-select").val(),workspace_template_group_id:this.el.find("#workspace_workspace_template_group_id").val()},$.ajax({url:"/workspaces",type:"POST",dataType:"json",contentType:"application/json",processData:!1,headers:{"X-CSRF-Token":$("meta[name='csrf-token']").attr("content")},data:JSON.stringify({workspace:e}),success:function(t){return function(e){return t.onCreate(e.workspace)}}(this),error:function(t){return function(e){return t.onError(e)}}(this)}),null!=t?t.preventDefault():void 0)},e.prototype.onCreate=function(t){return this.launch(t.id),location.pathname.match(/^\/workspaces/)?_.delay(function(){return location.reload()},1e3):void 0},e.prototype.onError=function(t){var e,n,i,r,o;r=$.parseJSON(t.responseText).errors,(n=r.base)&&(delete r.base,this.el.find(".field-container").first().before("<div class='error message'><p>"+n[0]+"</p></div>"));for(e in r)i=r[e],this.el.find("#workspace_"+e).addClass("field_with_errors").after("<span class='error-message'>"+i[0]+"</span>");return null!=(o=this.win)?o.close():void 0},e.prototype.resetErrors=function(){return this.el.find(".error-message").remove()},e}(e),Featurette.register("launch-workspace",e),Featurette.register("launch-new-workspace",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.loadBoard=e(this.loadBoard,this),this.selectTopic=e(this.selectTopic,this),this.selectPeriod=e(this.selectPeriod,this),this.el=$(t),this.type=this.el.data("type"),this.periodSelector=this.el.find(".periods a"),this.topicSelector=this.el.find("select.topic-selector"),this.board=this.el.siblings(".leaderboard-list"),this.topicSelector.on("change",this.selectTopic),this.periodSelector.on("click",this.selectPeriod)}return t.prototype.selectPeriod=function(t){return t.preventDefault(),$(t.target).addClass("selected").closest("li").siblings().find("a").removeClass("selected"),this.loadBoard()},t.prototype.selectTopic=function(){return this.topicSelector.siblings("span").text(this.topicSelector.find("option:selected").text()),this.loadBoard()},t.prototype.loadBoard=function(){return $.ajax({url:"/leaderboard",data:{board_type:this.type,topic:this.topicSelector.find("option:selected").val(),period:this.periodSelector.closest("ul").find("a.selected").data("period")},dataType:"json",success:function(t){return function(e){return t.board.empty(),t.board.append(e.html),t.board.find(".icon").css("background-color",t.topicSelector.find(":selected").data("color"))}}(this)})},Featurette.register("leaderboards-navigation",t),t}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.requiredFields=e(this.requiredFields,this),this.form=$(t),this.contactEmailOnClick(),this.contactPhoneOnClick(),this.iePlaceholders(),this.requiredFields()}return t.prototype.contactEmailOnClick=function(){return $("#contact-email").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Email Address"),$("#mailing-list-subscribe").removeClass("hide")})},t.prototype.contactPhoneOnClick=function(){return $("#contact-phone").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Phone Number"),$("#mailing-list-subscribe").addClass("hide")})},t.prototype.requiredFields=function(){return this.form.submit(function(t){return $(this).find(".required").each(function(){return function(e,n){return n=$(n),n.removeClass("error"),n.parents(".form-element").removeClass("error"),n.val()===n.attr("placeholder")||""===$.trim(n.val())?(t.preventDefault(),n.parents(".form-element").addClass("error"),n.addClass("error"),$(".alert-box").show()):void 0}}(this))})},t.prototype.iePlaceholders=function(){return $("[placeholder]").focus(function(){var t;return t=$(this),t.val()===t.attr("placeholder")?(t.val(""),t.removeClass("placeholder")):void 0}),$("[placeholder").blur(function(){var t;return t=$(this),""===t.val()||t.val()===t.attr("placeholder")?(t.addClass("placeholder"),t.val(t.attr("placeholder"))):void 0}),$("[placeholder").blur(),$("[placeholder]").parents("form").submit(function(){var t;return t=$(this),t.val()===t.attr("placeholder")?t.val(""):void 0})},t}(),Featurette.register("library-inquiry-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.loadStarredQuestions=e(this.loadStarredQuestions,this),this.toggleStarQuestions=e(this.toggleStarQuestions,this),this.toggleStarState=e(this.toggleStarState,this),this.showSubmissionError=e(this.showSubmissionError,this),this.showNewQuestion=e(this.showNewQuestion,this),this.createNewQuestion=e(this.createNewQuestion,this),this.removePlaceholder=e(this.removePlaceholder,this),this.showQuestionPlaceholder=e(this.showQuestionPlaceholder,this),this.clearQuestionField=e(this.clearQuestionField,this),this.submitQuestion=e(this.submitQuestion,this),this.checkForEnterKey=e(this.checkForEnterKey,this),this.checkForInput=e(this.checkForInput,this),this.el=$(t),this.el.on("keyup","#live-question",this.checkForInput),this.el.on("keydown","#live-question",this.checkForEnterKey),this.el.on("click",".button-icon",this.submitQuestion),this.el.on("click","li .star-question",this.toggleStarState),this.el.on("click",".live-question-input .star-question",this.toggleStarQuestions),$(document).find(".mejs-controls").hide(),pubnub.subscribe({channel:this.el.data("channel"),restore:!1,message:function(t){return function(e){return t.showNewQuestion(e)}}(this)}),pubnub.uuid(function(t){return function(e){return t.uuid=e}}(this))}return t.prototype.checkForInput=function(){return""===this.el.find("#live-question").val()?this.el.find(".live-question-input .button").hide():this.el.find(".live-question-input .button").show()},t.prototype.checkForEnterKey=function(t){return 13!==t.keyCode||t.shiftKey?void 0:(this.submitQuestion(),!1)},t.prototype.submitQuestion=function(){var t;return t=this.el.find("#live-question").val(),t.length>0?(this.clearQuestionField(),this.showQuestionPlaceholder(t),this.createNewQuestion(t)):void 0},t.prototype.clearQuestionField=function(){return this.el.find("#live-question").val(""),this.checkForInput()},t.prototype.showQuestionPlaceholder=function(t){var e,n;return this.removePlaceholder(),e={url:this.el.find(".main-avatar").css("background-image"),name:this.el.data("username"),text:t,preview:!0,uuid:this.uuid},n=HoganTemplates["workshops/live_question"].render(e),this.el.find("#all-questions").prepend(n)},t.prototype.removePlaceholder=function(){return this.el.find(".placeholder-"+this.uuid).remove()
},t.prototype.createNewQuestion=function(t){var e;return e=$("#live_qa").data("workshopid"),$.post("/live",{questionData:{workshop_id:e,text:t}})},t.prototype.showNewQuestion=function(t){var e,n;return t.success?(this.removePlaceholder(),e={url:"url("+t.avatar_url+")",name:t.user_name,profilePath:t.profile_path,profileName:t.profile_path&&t.profile_path.slice(1),text:t.text,saved:!0,id:t.id,showStar:this.el.data("showstar"),staff:t.is_staff},n=HoganTemplates["workshops/live_question"].render(e),this.el.find("#all-questions").prepend(n)):this.showSubmissionError(t.text)},t.prototype.showSubmissionError=function(t){var e;return e=HoganTemplates["workshops/live_error"].render(),this.el.find(".placeholder-"+this.uuid).append(e),this.el.find("#live-question").val(t),this.checkForInput()},t.prototype.toggleStarState=function(t){var e,n;return $(t.currentTarget).toggleClass("selected"),e=$(t.currentTarget).parent().attr("id"),n="star-question selected"===$(t.currentTarget).attr("class"),$.post("/live/star-question",{questionData:{id:e,is_starred:n}}),n||"starred-questions"!==$(t.currentTarget).parent().parent().attr("id")?void 0:this.el.find("#all-questions #"+e+" .star-question").removeClass("selected")},t.prototype.toggleStarQuestions=function(){return this.el.find(".live-question-input .star-question").toggleClass("selected"),this.el.find("#all-questions").toggle(),this.el.find("#starred-questions").toggle(),this.el.find("#starred-questions").is(":visible")?this.loadStarredQuestions():this.el.find("#starred-questions li").remove()},t.prototype.loadStarredQuestions=function(){return $.get("/live/get-stars",function(t){return function(e){return t.el.find("#starred-questions").html(e)}}(this))},t}(),Featurette.register("live-qa",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.locationSource=e(this.locationSource,this),this.el=$(t).autocomplete({minLength:5,source:this.locationSource,open:function(){return $(this).autocomplete("widget").zIndex(5)}})}return t.prototype.locationSource=function(t,e){return $.ajax({url:this.el.data("autocomplete-url"),data:{q:t.term},dataType:"json",success:e})},t}(),Featurette.register("location-autocomplete",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onFormSubmit=e(this.onFormSubmit,this);var n;this.textarea=$(t),this.form=this.textarea.closest("form"),this.textarea.mentionsInput({onDataRequest:this.onDataRequest,triggerChar:"@",minChars:1,showAvatars:!0,elastic:!1,templates:{autocompleteList:_.template('<ul class="user-tagging"></ul>'),autocompleteListItem:_.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><a><strong><%= content %></strong><p>@<%= username %></p></a></li>'),autocompleteListItemAvatar:_.template('<div class="avatar <%= type %>" style="background-image: url(<%= avatar %>)"></div>')}}),(n=this.textarea.data("mentions"))&&this.textarea.mentionsInput("setMentions",this.textarea.data("mentions-body"),n),this.form.on("submit",this.onFormSubmit)}return t.prototype.onFormSubmit=function(){return this.textarea.mentionsInput("val",function(t){return function(e){var n;return n=$("<input type='hidden' name='"+t.textarea.attr("name")+"'/>"),n.val(e),t.textarea.after(n),t.textarea.attr("name","gui_body")}}(this))},t.prototype.onDataRequest=function(t,e,n){return $.getJSON("/users/mention_search.json",{query:e},function(t){return n.call(this,t)})},t}(),Featurette.register("mentions",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("mobile-shelf",function(){function e(e){this.toggleShelf=t(this.toggleShelf,this),this.el=$(e),this.el.on("click",this.toggleShelf)}return e.prototype["class"]="shelf-open",e.prototype.toggleShelf=function(){return this.isShelfOpen?$("body").removeClass(this["class"]):$("body").addClass(this["class"]),this.isShelfOpen=!this.isShelfOpen},e}())}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.always=e(this.always,this),this.fail=e(this.fail,this),this.done=e(this.done,this),this.submit=e(this.submit,this),this.element=$(t),this.form=this.element.find("form"),$(document).on("submit","#"+this.form.attr("id"),this.submit)}return t.prototype.submit=function(t){var e;return t.preventDefault(),e=$.ajax({cache:!1,type:"post",url:this.form.attr("action"),data:this.form.serialize()}),e.done(this.done),e.fail(this.fail),e.always(this.always)},t.prototype.done=function(t){return t.redirect?location.href=t.redirect:this.element.html(response.responseText),this.form.trigger("modal-form:done")},t.prototype.fail=function(t){return this.form=this.element.find("form"),this.element.html(t.responseText),this.form.trigger("modal-form:fail")},t.prototype.always=function(){return this.element.find("select").uniform(),this.element.find(".form-item label:not(.prefill)").inFieldLabels()},t}(),Featurette.register("modal-form",t)}.call(this),function(){var t,e,n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(){function t(t){var e;this.id=t.id,e=$(t),this.target=e.attr("data-target"),this.stack=e.data("stack"),this.mobile_fallback=e.attr("data-mobile-fallback"),e.click(function(t){return function(e){var n;return t.mobile_fallback&&$(window).width()<=480?!0:(e.preventDefault(),n=Featurette.get(t.target),n.showOverlay({stack:t.stack}))}}(this))}return t}(),Featurette.register("modal-trigger",t),e=function(t){function e(t){var e;this.id=t.id,e=$(t),this.target=e.attr("data-target"),this.mobile_fallback=e.attr("data-mobile-fallback"),this.src=e.attr("data-src"),e.click(function(t){return function(e){var n,i;return t.mobile_fallback&&$(window).width()<=480?!0:(n=function(t){return $("#"+i.id+" #modal_url_replace_me").html(t)},$.get(t.src,{},n),i=Featurette.get(t.target),i.showOverlay(),e.preventDefault())}}(this))}return i(e,t),e}(t),Featurette.register("modal-URL-trigger",e)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.updateNotificationsCount=e(this.updateNotificationsCount,this),this.markNotificationsRead=e(this.markNotificationsRead,this),this.sendWebkitNotification=e(this.sendWebkitNotification,this),this.addNewNotification=e(this.addNewNotification,this),this.hideDropdown=e(this.hideDropdown,this),this.showDropdown=e(this.showDropdown,this),this.toggleDropdown=e(this.toggleDropdown,this);var n,i;this.el=$(t),n=this.el.data("channel"),this.notificationsDropdown=this.el.find(".notifications-container"),this.notificationsLink=this.el.find("a:first-child"),this.counter=this.el.find(".notifications-count"),this.timeout=null,i={channel:n,subscribe_key:this.subKey,publish_key:this.pubKey,presence:!1,ssl:!0},"undefined"!=typeof pubnub&&null!==pubnub&&pubnub.subscribe({channel:n,message:function(t){return function(e){return"notification"===e.name?t.addNewNotification(e.data):void 0}}(this)}),this.el.click(function(t){return function(){return t.toggleDropdown()}}(this)),this.notificationsDropdown.on("click",function(){return function(t){return t.stopPropagation()}}(this)),Tinycon.setOptions({colour:"#ffffff",background:"#ea6c6c"}),Tinycon.setBubble(parseInt(this.counter.text()))}return t.prototype.subKey="sub-e2de2b5c-13c2-11e2-b508-f53fda4cd93d",t.prototype.pubKey="pub-b8a18d09-58e0-4ec4-acd5-67ce32d576cd",t.prototype.toggleDropdown=function(){return"none"===this.notificationsDropdown.css("display")?this.showDropdown():this.hideDropdown()},t.prototype.showDropdown=function(){return $(".click-toggled").hide(),this.notificationsDropdown.addClass("click-toggled").show(),this.notificationsLink.addClass("selected"),$("body").on("click",function(t){return function(e){return t.bodyClick=e,$(e.target).closest("li.featurette").length?void 0:t.hideDropdown()}}(this)),$(document).keyup(function(t){return function(e){return t.documentKeyup=e,27===e.keyCode?t.hideDropdown(!1):void 0}}(this)),this.el.off("mouseleave, mouseenter"),this.el.on("mouseleave",function(t){return function(){return t.hideDropdown(!0,1e3)}}(this)),this.el.on("mouseenter",function(t){return function(){return t.notificationsDropdown.stop(!0,!1)}}(this))},t.prototype.hideDropdown=function(t,e){return null==t&&(t=!0),null==e&&(e=0),this.notificationsDropdown.delay(e).hide(0,function(e){return function(){return e.notificationsLink.removeClass("selected"),e.bodyClick&&$("body").off(e.bodyClick),e.documentKeyup&&$(document).off(e.documentKeyup),e.notificationsDropdown.removeClass("click-toggled"),t?e.markNotificationsRead():void 0}}(this))},t.prototype.addNewNotification=function(t){var e,n;return e=$(t),0===$(e.attr("id")).length&&($(".global-notifications-list").prepend(e),n=parseInt(this.counter.text()),n++,this.updateNotificationsCount(n),window.webkitNotifications)?this.sendWebkitNotification(e):void 0},t.prototype.sendWebkitNotification=function(t){var e,n,i,r,o;return 0===window.webkitNotifications.checkPermission()?(r=t.children("h3").first().text(),n=t.find("p.notification-message").first().text(),e=t.find("img").first().attr("src"),e.match("^http")||(e="http:"+e),o=t.children("a").first().attr("href"),i=window.webkitNotifications.createNotification(e,r,n),i.onclick=function(){return function(){return window.open(o),i.close()}}(this),i.show()):void 0},t.prototype.markNotificationsRead=function(){var t,e;return t=this.el.find("input").serializeArray(),t.length?(e=window.location.protocol+"//"+window.location.host+"/notifications/mark-read",$.post(e,t,function(t){return function(){return t.el.find(".notification-unread").removeClass("notification-unread"),t.el.find('input[name="unread"]').remove(),t.updateNotificationsCount(0),!0}}(this))):void 0},t.prototype.updateNotificationsCount=function(t){return 0===t?this.counter.addClass("hidden"):this.counter.removeClass("hidden"),this.counter.text(t),Tinycon.setBubble(t)},t}(),Featurette.register("notifications",t)}.call(this),function(){var t;t=function(){function t(t){this.element=$(t),this.element.find("#email").remove(),this.donateButton=$("#scrollButton_donate"),this.signupButton=$("#scrollButton_signup"),this.signUpTarget=this.element.find("#scrollTarget_signup"),this.signupOffset=this.signUpTarget.offset().top,this.donationForm=this.element.find("form#scrollTarget_donate"),this.donateOffset=this.donationForm.offset().top,this.signupButton.click(function(t){return function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.signupOffset},600)}}(this)),this.donateButton.click(function(t){return function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.donateOffset},600)}}(this)),this.donationForm.submit(function(t){return function(e){return e.preventDefault(),$("#donate-submit").attr("value","Submitting...").addClass("submitting"),$.post(t.donationForm.attr("action"),t.donationForm.serialize()).done(function(){return t.submittedSuccess()}).fail(function(){return t.submittedError()})}}(this)),setTimeout(function(){return function(){return $(".animation-container").addClass("start-animation")}}(this),600)}return t.prototype.submittedSuccess=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),this.donationForm[0].reset(),$("#default-form-content").hide(),$("#success-form-content").show()},t.prototype.submittedError=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),$("#error-alert").show()},t}(),Featurette.register("bogo-page",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.listeners=e(this.listeners,this),this.element=$(t),this.container=$("#forums-pjax"),_.delay(this.listeners,500)}var n,i,r;return t.prototype.listeners=function(){return this.filters=new Filters({basePath:"forum",container:"#forums-pjax",binds:{sort:Featurette.get("sort"),topic:Featurette.get("topic"),q:$("#q"),content:$("#step_id"),stage:$("#stage_id"),syllabus:$("#syllabus_id")}}),this.element.on("click",".form-search .search-button",function(t){return function(e){return t.filters.update(e)}}(this)),$(document).on("filters:serialized",function(){return $("#forum_post_topic_id option").each(function(){return this.text.toLowerCase()===Featurette.get("topic").val().replace("-"," ")?this.selected=!0:void 0}),$.uniform.update(),r("step"),r("stage"),r("syllabus")})},r=function(t){var e;return e=$("#"+t+"-tagged-content"),""===$("#"+t+"_id").val()?e.hide():(n(e,t),i(e,t),e.show())},n=function(t,e){var n,i;return n=t.find(".content-icon"),n.removeClass("icon-video-small icon-code-challenge-small icon-quiz-small"),i=$("."+e+"-tag.selected span").attr("class"),i?n.addClass(i):void 0},i=function(t,e){var n,i;return i=t.find(".content-title"),n=$("."+e+"-tag.selected").text(),n?i.text(n):void 0},t}(),Featurette.register("forum-index",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.showImagePreview=e(this.showImagePreview,this),this.el=$(t),$("#contact-method-selector").on("change",this.contactMethodToggle),$(".radio-replacement-wrapper").on("click",this.replaceRadios),$("#job_company_logo").on("change",this.showImagePreview),this.contactMethodInit(),this.setupRadios()}return t.prototype.contactMethodInit=function(){var t,e;return t=$(".contact_email"),e=$(".contact_url"),""!==e.children("input").val()?($("#contact-method-selector").val("url"),t.hide()):($("#contact-method-selector").val("email"),e.hide())},t.prototype.contactMethodToggle=function(){var t;return t=$("#contact-method-selector").val(),$("#contact-method-selector-wrapper input").val("").parents(".form-item").hide(),$(".contact_"+t).show()},t.prototype.replaceRadios=function(t){var e;return e=$(t.delegateTarget),e.siblings(".radio-replacement-wrapper").removeClass("selected"),e.addClass("selected"),e.find("input[type='radio']").attr("checked","checked")},t.prototype.setupRadios=function(){var t;return t=$(".radio-replacement-wrapper input[type='radio']:checked"),0===t.length?$(".radio-collection").each(function(t,e){return $(e).find(":radio").first().attr("checked","checked").parents(".radio-replacement-wrapper").addClass("selected")}):t.parent().addClass("selected")},t.prototype.highlightRadioContainer=function(t){return $(t).parents(".radio-replacement-wrapper").addClass("selected")},t.prototype.showImagePreview=function(t){return window.File&&window.FileReader&&window.FileList&&window.Blob?_.each(t.target.files,function(t){var e;return e=new FileReader,e.onload=function(t){var e;return e=$(".company-logo").empty(),$("<img src='"+t.target.result+"' />").appendTo(e).hide().show(250),$(".company-logo").css({"background-image":"background-image",none:"none"})},e.readAsDataURL(t)}):void 0},t}(),Featurette.register("job-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.dynamicTitle=e(this.dynamicTitle,this),this.noResults=e(this.noResults,this),this.listeners=e(this.listeners,this),this.element=$(t),this.container=$("#library-pjax"),_.delay(this.listeners,100),_.delay(this.dynamicTitle,200)}return t.prototype.listeners=function(){return this.container.on("pjax:end",this.noResults),this.filters=new Filters({basePath:"library",container:"#library-pjax",binds:{topic:Featurette.get("topic"),type:Featurette.get("type"),q:$("#q"),sort:Featurette.get("sort")}}),this.element.on("click",".form-search .search-button",function(t){return function(e){return t.filters.update(e)}}(this))},t.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find("li").length?$("#no-results").show():void 0},t.prototype.dynamicTitle=function(){return $("#library-pjax").on("pjax:end",function(){return $(".primary-heading h1").html($(".topic-heading").length>0?"<a class='all-topics' href='/library'><span class='icon icon-left'></span> Library</a>":"Library")}),$(document).on("click","a.all-topics",function(t){return t.preventDefault(),Featurette.get("topic").val("")})},t}(),Featurette.register("library-index",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this),this.el=$(t),$(window).on("scroll",this.onScroll)}return t.prototype.defaultScrollOffset=$(window).height()>620&&$(window).width()>640?100:0,t.prototype.onScroll=function(){var t,e,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(e in r)t=r[e],o.push(t.call(this,n,i));return o},t.prototype.scrollOffsetForEl=function(t,e,n){return null==n&&(n=this.defaultScrollOffset),t.offset().top-e+n},t.prototype.animations={htmlTrack:function(t,e){var n,i,r;return i=$('[data-trigger-animation="tracks_html"]'),n=$(".graph-dot-html"),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?(i.addClass("activated"),n.addClass("activated"),delete this.animations.htmlTrack):void 0},jsTrack:function(t,e){var n,i,r;return i=$('[data-trigger-animation="tracks_js"]'),n=$(".graph-dot-js"),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?(i.addClass("activated"),n.addClass("activated"),delete this.animations.jsTrack):void 0},tracksGoal:function(t,e){var n,i,r,o;return n=$('[data-trigger-animation="tracks_goal"]'),i=n.children("li"),o=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>o?(n.addClass("activated"),r=200,i.each(function(t){var e;return e=$(this),setTimeout(function(){return e.addClass("activated")},r*(t+1))}),delete this.animations.tracksGoal):void 0},tracksSteps:function(t,e){var n,i;return n=$('[data-trigger-animation="tracks_steps"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.tracksSteps):void 0},topicTag:function(t,e){var n,i;return n=$('[data-trigger-animation="topic_tags"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.topicTag):void 0},teacher:function(t,e){var n,i;return n=$('[data-trigger-animation="teachers"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.teacher):void 0},badges:function(t,e){var n,i;return n=$('[data-trigger-animation="badges"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.badges):void 0},donut:function(t,e){var n,i;return n=$('[data-trigger-animation="donut"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),setTimeout(function(){return $(".mask-rotator").hide(),n.append('<span class="donut-right above"></span>')},400),setTimeout(function(){return $(".mask-cover").hide()},750),delete this.animations.donut):void 0},quiz:function(t,e){var n,i;return n=$('[data-trigger-animation="quiz"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.quiz):void 0},points:function(t,e){var n,i;return n=$('[data-trigger-animation="points"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.points):void 0},scrollyImage:function(t,e){var n,i,r;return n=$('[data-trigger-animation="access_anywhere"]'),r=t*-.2+820,i=this.scrollOffsetForEl(n,e),$(window).width()>460&&t>i?n.animate({top:r+"px"},0):void 0},forum:function(t,e){var n,i;return n=$('[data-trigger-animation="forum"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.forum):void 0},toolbelt:function(t,e){var n,i;return n=$('[data-trigger-animation="toolbelt"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.toolbelt):void 0},jobCard:function(t,e){var n,i;return n=$('[data-trigger-animation="job_card"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?(n.addClass("activated"),delete this.animations.jobCard):void 0}},t}(),Featurette.register("marketing-features",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this);var n;this.el=$(t),n=$(window).height(),$(window).on("scroll",this.onScroll),n>800&&$(document).trigger("scroll")}return t.prototype.defaultScrollOffset=100,t.prototype.onScroll=function(){var t,e,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(e in r)t=r[e],o.push(t.call(this,n,i));return o},t.prototype.scrollOffsetForEl=function(t,e,n){return null==n&&(n=this.defaultScrollOffset),t.offset().top-e+n},t.prototype.animations={webApp:function(t,e){var n,i,r,o,s;return o=$("#webNavBar"),n=$("#webApp1"),i=$("#webApp2"),r=$("#webApp3"),s=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),e),t>s?(n.addClass("activated"),o.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return i.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(2)").addClass("activated")},1500),setTimeout(function(){return r.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(1)").addClass("activated")},3e3)):void 0},iPadApp:function(t,e){var n,i,r,o,s;return o=$("#ipadNavBar"),n=$("#ipadApp1"),i=$("#ipadApp2"),r=$("#ipadApp3"),s=this.scrollOffsetForEl($('[data-trigger-animation="learn"]'),e),t>s?(n.addClass("activated"),o.find("ul li:nth-child(3)").addClass("activated"),setTimeout(function(){return i.addClass("activated")},1650),setTimeout(function(){return r.addClass("activated"),o.find("ul li").removeClass("activated"),o.find("ul li:nth-child(2)").addClass("activated")},3150)):void 0},codeBlock:function(t,e){var n,i;return n=$(".fake-code-block"),i=this.scrollOffsetForEl($('[data-trigger-animation="practice"]'),e),t>i?(n.children("li:first-child").children(".pink-code-block").addClass("activated"),setTimeout(function(){return n.find("li:nth-child(2)").children(".purp-code-block").addClass("activated")},200),setTimeout(function(){return n.find("li:nth-child(2)").children(".white-code-block").addClass("activated")},400),setTimeout(function(){return n.find("li:nth-child(3)").children(".white-code-block").addClass("activated")},700),setTimeout(function(){return n.find("li:nth-child(3)").children(".pink-code-block").addClass("activated")},850),setTimeout(function(){return n.find("li:nth-child(4)").children(".pink-code-block").addClass("activated")},1100),setTimeout(function(){return n.find("li:nth-child(5)").children(".purp-code-block").addClass("activated")},1250),setTimeout(function(){return n.find("li:nth-child(5)").children(".white-code-block").addClass("activated")},1400)):void 0},badgeBlips:function(t,e){var n,i,r,o,s;return o=$(".red-blip"),n=$(".blue-blip"),i=$(".blue-plus"),r=$(".green-plus"),s=this.scrollOffsetForEl($('[data-trigger-animation="earn"]'),e),t>s?(o.addClass("activated"),setTimeout(function(){return i.addClass("activated")},200),setTimeout(function(){return n.addClass("activated")},400),setTimeout(function(){return r.addClass("activated")},500)):void 0}},t}(),Featurette.register("marketing-home",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this),this.el=$(t),$(window).on("scroll",this.onScroll)}return t.prototype.defaultScrollOffset=$(window).height()>620&&$(window).width()>640?160:0,t.prototype.onScroll=function(){var t,e,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(e in r)t=r[e],o.push(t.call(this,n,i));return o},t.prototype.scrollOffsetForEl=function(t,e,n){return null==n&&(n=this.defaultScrollOffset),t.offset().top-e+n},t.prototype.animations={collectionViews:function(t,e){var n,i;return n=$("#collectionView"),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0},apis:function(t,e){var n,i;return n=$("#apis"),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0},gestures:function(t,e){var n,i;return n=$("#gestures"),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0}},t}(),Featurette.register("marketing-photo-bomber",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this);var n;this.el=$(t),n=$(window).height(),$(window).on("scroll",this.onScroll),n>800&&$(document).trigger("scroll")}return t.prototype.defaultScrollOffset=100,t.prototype.onScroll=function(){var t,e,n,i,r,o;n=$(window).scrollTop(),i=$(window).height(),r=this.animations,o=[];for(e in r)t=r[e],o.push(t.call(this,n,i));return o},t.prototype.scrollOffsetForEl=function(t,e,n){return null==n&&(n=this.defaultScrollOffset),t.offset().top-e+n},t.prototype.animations={schoolsTracks:function(t,e){var n,i;return n=$('[data-trigger-animation="schools_tracks"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0},schoolsResources:function(t,e){var n,i;return n=$('[data-trigger-animation="schools_resources"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0},schoolsDash:function(t,e){var n,i;return n=$('[data-trigger-animation="schools_dash"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0},schoolsDesk:function(t,e){var n,i;return n=$('[data-trigger-animation="schools_desk"]'),i=this.scrollOffsetForEl(n,e-this.defaultScrollOffset),t>i?n.addClass("activated"):void 0}},t}(),Featurette.register("marketing-schools",t)}.call(this),function(){var t;t=function(){function t(t){this.element=$(t),this.details=$("#"+this.element.data("details")),this.element.find("a.btn-perks").on("click",function(t){return function(e){return e.preventDefault(),t.show()}}(this)),this.element.find(".selection a").on("click",function(t){return function(e){return e.preventDefault(),t.hide()}}(this)),this.details.find(".offer-close").on("click",function(t){return function(e){return e.preventDefault(),t.hide()}}(this)),this.details.find("form").on("submit",function(t){return function(e){return $.post(t.details.find("form").attr("action"),{_method:"PUT"},function(){return t.details.find(".offer-form").hide(),t.details.find(".thank-you").show()}),e.preventDefault()}}(this))}return t.prototype.show=function(){return $(".expanded:visible").each(function(e,n){return t.hideExpandedDetails($(n))}),$(".selection:visible").fadeOut(200),this.details.length>0?($(window).width()<=767&&(this.details.after('<div class="placeholder-'+this.details.attr("id")+'"></div>'),this.element.parent().after(this.details)),this.details.slideDown(200,function(t){return function(){return $("html, body").delay(200).animate({scrollTop:t.details.offset().top-100},200)}}(this)),this.element.find(".selection").fadeIn(200)):Featurette.get("perk-not-available").showOverlay()},t.prototype.hide=function(){return this.details.length>0?(this.element.find(".selection").fadeOut(200),t.hideExpandedDetails(this.details)):void 0},t.hideExpandedDetails=function(t){return t.slideUp(200,function(){return $(window).width()<=767?($(".placeholder-"+t.attr("id")).after(t),$(".placeholder-"+t.attr("id")).remove()):void 0})},t}(),Featurette.register("perk",t)}.call(this),function(){var t;t=function(){function t(t){this.hasCanvasSupport()&&this.createChart(t)}return t.prototype.createChart=function(t){var e,n,i,r,o,s,a,l,u,c,h;i=t.getContext("2d"),n={HTML:"#39ADD1",CSS:"#2570a8",Design:"#E0AB18",JavaScript:"#913B53",Ruby:"#E15258",PHP:"#665885",WordPress:"#9D8AC7",iOS:"#53BBB4",Android:"#51B46D","Development Tools":"#637a91",Business:"#F9845B"},o=$(t),u=o.data("points"),a=o.data("cutout-percent")||55,r=[],c=0;for(l in u)h=u[l],c+=h,r.push({value:h,color:n[l]});return 0===c&&r.push({value:1,color:"#D4D9DD"}),s={segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:0,percentageInnerCutout:a,width:240,height:240,animation:!1},e=new Chart(i).Doughnut(r,s)},t.prototype.hasCanvasSupport=function(){var t;return t=document.createElement("canvas"),!(!t.getContext||!t.getContext("2d"))},t}(),Featurette.register("points-chart",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.collapsePoints=e(this.collapsePoints,this),this.expandPoints=e(this.expandPoints,this),this.el=$(t),this.total_div=this.el.find("#total-points"),this.small_donut=this.total_div.find(".points-donut"),this.expanded_div=this.el.find("#expanded-points"),this.toggle=this.el.find("a.toggle"),this.toggle_arrow=this.toggle.find("span"),this.started_collapsed=this.total_div.hasClass("collapsed"),this.current_state=this.started_collapsed?"collapsed":"expanded",this.animationTime=350,this.animating=!1,this.toggle.click(function(t){return function(e){return e.preventDefault(),t.animating?void 0:(t.animating=!0,"collapsed"===t.current_state?(t.current_state="expanded",t.expandPoints()):(t.current_state="collapsed",t.collapsePoints()))}}(this))}return t.prototype.expandPoints=function(){return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateUp .35s"):this.toggle_arrow.css("animation","arrowRotateDown .35s"),this.expanded_div.slideDown(this.animationTime),this.total_div.animate({"margin-bottom":"+=30px","padding-bottom":"+=25px"},this.animationTime,function(t){return function(){return t.animating=!1,t.total_div.removeClass("collapsed",100),t.started_collapsed?t.toggle_arrow.css("transform","rotate(180deg)"):t.toggle_arrow.css("transform","rotate(0deg)")}}(this)),this.small_donut.fadeOut(100),this.total_div.find("h1").animate({"padding-left":"-=80",queue:!1},this.animationTime),this.total_div.find("p").animate({"padding-left":"-=80",queue:!1},this.animationTime)},t.prototype.collapsePoints=function(){return this.started_collapsed?this.toggle_arrow.css("animation","arrowRotateDown .35s"):this.toggle_arrow.css("animation","arrowRotateUp .35s"),this.expanded_div.slideUp(this.animationTime),this.total_div.addClass("collapsed",100),this.total_div.find("h1").css({"padding-left":"0px"}),this.total_div.find("p").css({"padding-left":"0px"}),this.total_div.animate({"margin-bottom":"-=30px","padding-bottom":"-=25px"},this.animationTime,function(t){return function(){return t.started_collapsed?t.toggle_arrow.css("transform","rotate(0deg)"):t.toggle_arrow.css("transform","rotate(180deg)"),t.total_div.find("h1").animate({"padding-left":"+=80"},t.animationTime-100),t.total_div.find("p").animate({"padding-left":"+=80"},t.animationTime-100),t.small_donut.fadeIn(t.animationTime-100,function(){return t.animating=!1})}}(this))},t}(),Featurette.register("points-expander",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.scrollButton=e(this.scrollButton,this),this.scrollButton()}return t.prototype.scrollButton=function(){var t,e,n;return e=$('[data-featurette="scroll-button"]'),t=$("[data-scroll-stop]"),n=t.offset().top,e.on("click",function(t){return t.preventDefault(),$("html, body").animate({scrollTop:n},600)})},Featurette.register("scroll-button",t),t}()}.call(this),function(){var t;t=function(){function t(t){this.element=$(t),this.base_url=this.element.data("remote-path"),this.has_query_string=this.base_url.indexOf("?")>0,this.page=1,this.element.click(function(t){return function(){var e;return t.page+=1,e=t.has_query_string?t.base_url+("&page="+t.page):t.base_url+("?page="+t.page),$.ajax({url:e,type:"get",dataType:"script"})}}(this))}return t}(),Featurette.register("show-more",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Treehouse.SignupForm=function(e){function i(){this.togglePaymentMethod=t(this.togglePaymentMethod,this),this.switchToAnnual=t(this.switchToAnnual,this),this.switchToMonthly=t(this.switchToMonthly,this),i.__super__.constructor.apply(this,arguments),this.on("change","input[name='account_signup[payment_method]']",this.togglePaymentMethod),this.on("click","#show-trial-payment-info",this.toggleTrialPaymentInfo),this.on("mouseenter","#cvv-tooltip",this.showCvvTooltip),this.on("mouseleave","#cvv-tooltip",this.hideCvvTooltip),this.on("click","#subscribe_monthly",this.switchToMonthly),this.on("click","#subscribe_annually",this.switchToAnnual),this.togglePaymentMethod()
}return n(i,e),i.prototype.switchToMonthly=function(){var t;return this.get("#subscribe_monthly").addClass("selected"),this.get("#subscribe_annually").removeClass("selected"),this.get("#monthly-checkmark").show(),this.get("#annual-checkmark").hide(),this.get("#account_signup_billing_period_monthly").attr("checked","yes"),t=$.trim($("#monthly-charge").html()),this.get("#footer-price").html(t)},i.prototype.switchToAnnual=function(){var t;return this.get("#subscribe_monthly").removeClass("selected"),this.get("#subscribe_annually").addClass("selected"),this.get("#monthly-checkmark").hide(),this.get("#annual-checkmark").show(),this.get("#account_signup_billing_period_annual").attr("checked","yes"),t=$.trim($("#annual-charge").html()),this.get("#footer-price").html(t)},i.prototype.showCvvTooltip=function(){return $(this).find(".tooltip").css("display","block")},i.prototype.hideCvvTooltip=function(){return $(this).find(".tooltip").hide()},i.prototype.toggleTrialPaymentInfo=function(t){return t.preventDefault(),this.get("#trial-payment-info").slideToggle()},i.prototype.togglePaymentMethod=function(){var t;switch(t=$("input[name='account_signup[payment_method]']:checked").val()){case"paypal":return this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".paypal-chosen").show();case"credit_card":return this.get(".paypal-chosen").hide(),this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").show();case"bitcoin":return this.get(".paypal-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".bitcoin-chosen").show()}},i}(Treehouse.View),Featurette.register("signup-form",Treehouse.SignupForm)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.pingItGood=e(this.pingItGood,this),this.pingStyles=e(this.pingStyles,this),this.el=$(t),setInterval(this.pingItGood,5e3),this.location=this.el.data("location")}return t.prototype.pingStyles=function(){return{position:"absolute",top:this.el.position().top,left:this.el.position().left,width:this.el.width()+parseInt(this.el.css("border-top-width"))+parseInt(this.el.css("border-bottom-width")),height:this.el.height()+parseInt(this.el.css("border-left-width"))+parseInt(this.el.css("border-right-width")),marginTop:this.el.css("margin-top"),marginBottom:this.el.css("margin-bottom"),marginLeft:this.el.css("margin-left"),marginRight:this.el.css("margin-right"),borderTopLeftRadius:this.el.css("border-top-left-radius"),borderTopRightRadius:this.el.css("border-top-right-radius"),borderBottomLeftRadius:this.el.css("border-bottom-left-radius"),borderBottomRightRadius:this.el.css("border-bottom-right-radius"),zIndex:this.el.css("z-index")-1,animation:"sonarPing"+this.location+" 1.3s ease-out 250ms"}},t.prototype.pingItGood=function(){return this.ping&&this.ping.remove(),this.ping=$("<span></span>").css(this.pingStyles()),this.el.after(this.ping)},t}(),Featurette.register("sonar-ping",t)}.call(this),function(){var t;t=function(){function t(t){var e,n,i;this.id=t.id,e=$(t),e.hide(),this.class_to_close=e.attr("data-class-to-close"),e.hasClass("tooltip-left")||e.hasClass("tooltip-right")?(n=(parseInt(e.height())+24)/2,e.css({top:"50%",marginTop:-n})):e.hasClass("tooltip-top")?(n=(parseInt(e.width())+30)/2,i=parseInt(e.height()+30),e.css({top:-i,left:"50%",marginLeft:-n})):e.hasClass("tooltip-bottom")&&(n=(parseInt(e.width())+24)/2,i=parseInt(e.height()+30),e.css({top:"auto",bottom:-i,left:"50%",marginLeft:-n})),e.find(".close-tooltip").click(function(t){return function(){return t.close()}}(this)),"true"!==e.attr("data-hide")&&setTimeout(function(){return e.fadeIn()},200)}return t.prototype.close=function(){var t,e;return t=$("#"+this.id),t.fadeOut(),this.class_to_close&&$("."+this.class_to_close).fadeOut(),(e=t.attr("data-flag"))?$.post("/dashboard/flag",{_method:"PUT",flag:e}):void 0},t}(),Featurette.register("tooltip",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.setActiveTab=e(this.setActiveTab,this),this.loading=e(this.loading,this);var n;this.el=$(t),this.targetContainer=$("#courses-container"),this.el.pjax("a[data-pjax='true']",{container:"#courses-container",scrollTo:!1,timeout:0}),location.hash&&(n=location.hash.split("#")[1],this.el.find("a[data-pjax='true'][href$='"+n+"']").click()),this.targetContainer.on("pjax:start",this.loading),this.targetContainer.on("pjax:end",this.setActiveTab),this.setActiveTab()}return t.prototype.loading=function(){return this.targetContainer.addClass("inactive")},t.prototype.setActiveTab=function(){return this.targetContainer.removeClass("inactive"),this.el.find("a").removeClass("selected"),this.el.find("a[href$='"+window.location.pathname+"']").addClass("selected"),this.targetContainer.find(".achievement-list > li").length>3?$(".roadmap-callout").show():$(".roadmap-callout").hide(),"/library"!==location.pathname?$("#featured-stages").hide():$("#featured-stages").show()},t}(),Featurette.register("topic-tabs",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.collapseList=e(this.collapseList,this),this.expandList=e(this.expandList,this),this.el=$(t),this.chevron=this.el.find(".icon-chevron-down"),this.text=this.el.find("#snapshot-state"),this.toggleElements=$(".full-view"),this.current_state="collapsed",this.animationTime=200,this.animating=!1,this.el.click(function(t){return function(e){return e.preventDefault(),t.animating?void 0:(t.animating=!0,"collapsed"===t.current_state?(t.current_state="expanded",t.expandList()):(t.current_state="collapsed",t.collapseList()))}}(this))}return t.prototype.expandList=function(){return this.chevron.css("animation","arrowRotateUp .20s"),this.text.html("Show snapshot"),this.toggleElements.slideToggle(this.animationTime,function(t){return function(){return t.chevron.css("transform","rotate(180deg)"),t.animating=!1}}(this))},t.prototype.collapseList=function(){return this.chevron.css("animation","arrowRotateDown .20s"),this.text.html("Show all steps"),this.toggleElements.slideToggle(this.animationTime,function(t){return function(){return t.chevron.css("transform","rotate(0deg)"),t.animating=!1}}(this))},t}(),Featurette.register("track-snapshot-expander",t)}.call(this),function(){var t;t=function(){function t(t){this.trailerShown=!1,this.toggleButton=$(t),this.toggleButton.click(function(t){return function(){return t.toggle()}}(this)),"#trailer"===window.location.hash&&setTimeout(function(t){return function(){return t.showTrailer()}}(this),60)}return t.prototype.toggle=function(){return this.trailerShown?this.hideTrailer():this.showTrailer()},t.prototype.hideTrailer=function(){return $("video")[0].player.pause(),$("i",this.toggleButton).toggle(),$(".icon",this.toggleButton).toggle(),$(".trailer-backdrop").fadeOut(800,function(){return $(".hero-meta").fadeIn(800)}),$("video")[0].player.setCurrentTime(0),this.trailerShown=!1},t.prototype.showTrailer=function(){var t;return $(".hero-meta").fadeOut(300),t=$(".mejs-container").height()-165,$(".hero").animate({minHeight:t},300,function(){return $(".trailer-backdrop").fadeIn(300,function(){return $(".hero").css({"min-height":"0"})})}),$("video")[0].player.play(),$("i",this.toggleButton).toggle(),$(".icon",this.toggleButton).toggle(),this.trailerShown=!0},t}(),Featurette.register("trailer-trigger",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("upcoming-releases",t=function(t){function n(){this.scrollToUpcomingReleases=e(this.scrollToUpcomingReleases,this),n.__super__.constructor.apply(this,arguments),this.on("click touchstart",this.scrollToUpcomingReleases)}return i(n,t),n.prototype.scrollToUpcomingReleases=function(){var t;return t=$("#upcoming-releases").offset().top-100,$("html, body").animate({scrollTop:t},300)},n}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.storePlaybackPreferences=e(this.storePlaybackPreferences,this),this.onLanguageSelect=e(this.onLanguageSelect,this),this.addRewindButton=e(this.addRewindButton,this),this.addSpeedControls=e(this.addSpeedControls,this),this.reset=e(this.reset,this),this.setSpeed=e(this.setSpeed,this),this.transitionToPlaying=e(this.transitionToPlaying,this),this.transitionToPaused=e(this.transitionToPaused,this),this.onEnd=e(this.onEnd,this),this.ensureCorrectPlaybackRate=e(this.ensureCorrectPlaybackRate,this),this.recordViewEvent=e(this.recordViewEvent,this),this.sendViewingSegment=e(this.sendViewingSegment,this),this.trackViewingSegment=e(this.trackViewingSegment,this),this.addEvents=e(this.addEvents,this);var n;this.el=$(t),this.language=this.el.attr("data-start-language")||$.cookie("captionLanguage"),this.playbackRate=parseFloat(this.el.attr("data-playback-rate")||$.cookie("playbackRate")||1),this.recordViewSegmentUrl=this.el.attr("data-record-view-segment-url"),this.el.attr("data-autoplay")&&(this.autoplay=!0),this.el.attr("data-record-viewing-data")&&(this.recordViewingData=!0),n={enableAutosize:!0,success:this.addEvents,startLanguage:this.language},this.el.attr("data-playback-preferences-url")&&(this.playbackPreferencesUrl=this.el.attr("data-playback-preferences-url")),this.player=new MediaElementPlayer(t,n),this.addSpeedControls(),this.addRewindButton(),this.setSpeed(this.playbackRate),this.playing=!1,$(".rewatch-video").on("click",function(){return $("#next-step-overlay").removeClass("active"),mejs.players[0].setCurrentTime(0),mejs.players[0].play()}),this.enableChromeFreezeFix()}return t.speeds=[.5,.75,1,1.25,1.5,1.75,2],t.prototype.addEvents=function(t,e){var n;return this.mejsObj=t,t.addEventListener("pause",this.transitionToPaused),t.addEventListener("play",this.transitionToPlaying),t.addEventListener("timeupdate",this.recordViewEvent),null!=t.playbackRate&&t.addEventListener("timeupdate",this.ensureCorrectPlaybackRate),t.addEventListener("ended",this.onEnd),t.addEventListener("timeupdate",this.trackViewingSegment),$(e).parents(".mejs-container").on("change",".mejs-captions-selector input:radio",this.onLanguageSelect),$(window).bind("beforeunload",function(t){return function(){t.recordViewingData&&t.sendViewingSegment(t.mejsObj.currentTime)}}(this)),this.autoplay?(n=function(){return t.play()},_.delay(n,1e3)):void 0},t.prototype.trackViewingSegment=function(){return this.playing&&this.recordViewingData?(null==this.startTime?this.startTime=this.mejsObj.currentTime:Math.abs(this.currentTime-this.mejsObj.currentTime)>.6&&(this.sendViewingSegment(this.currentTime),this.startTime=this.mejsObj.currentTime),this.currentTime=this.mejsObj.currentTime):void 0},t.prototype.sendViewingSegment=function(t){return null!=this.startTime?($.post(this.recordViewSegmentUrl,{started:this.startTime,ended:t}),this.startTime=null):void 0},t.prototype.recordViewEvent=function(){return null==this.alreadyViewed&&this.mejsObj.currentTime>10?(this.alreadyViewed=!0,this.mejsObj.removeEventListener("timeupdate",this.recordViewEvent),$.post(this.el.data("record-video-view-url"),"_method=PUT")):void 0},t.prototype.ensureCorrectPlaybackRate=function(){return this.playbackRate!==this.player.media.playbackRate?this.setSpeed(this.playbackRate):void 0},t.prototype.onEnd=function(){var t;return this.mejsObj.currentTime<10&&$.post(this.el.data("record-video-view-url"),"_method=PUT"),t=$("#"+this.el.data("post-roll-overlay")),t.addClass("active"),!0},t.prototype.transitionToPaused=function(){return this.playing=!1,this.sendViewingSegment(this.mejsObj.currentTime),this.player.container.addClass("mejs-treehouse-is-paused"),this.player.container.removeClass("mejs-treehouse-is-playing")},t.prototype.transitionToPlaying=function(){return this.playing=!0,this.player.container.addClass("mejs-treehouse-is-playing"),this.player.container.removeClass("mejs-treehouse-is-paused"),this.setSpeed(this.playbackRate)},t.prototype.setSpeed=function(t){var e,n;return t!==this.playbackRate&&_.defer(this.storePlaybackPreferences),this.playbackRate=this.player.media.playbackRate=t,n=$("#"+this.player.id).find(".mejs-speed"),n.removeClass("current-speed"),n.filter("[data-speed='"+this.playbackRate+"']").addClass("current-speed"),e=$(".mejs-speed-button"),e.removeClass("mejs-speed-15x mejs-speed-2x"),this.playbackRate>=2?e.addClass("mejs-speed-2x"):this.playbackRate>=1.5?e.addClass("mejs-speed-15x"):void 0},t.prototype.reset=function(){try{return this.player.pause(),this.player.setCurrentTime(0)}catch(t){}},t.prototype.addSpeedControls=function(){var e,n,i,r,o,s,a,l;if(null!=this.player.media.playbackRate&&"flash"!==this.player.media.pluginType){for(o="<div class='mejs-button mejs-speed-button'>\n  <button type='button' aria-controls='"+this.player.id+"' title='Speed'></button>\n  <div class='mejs-speed-controls' style='display: none;'><ol></ol></div>\n</div>",n=$(o),i=n.find(".mejs-speed-controls"),n.on("mouseenter",function(){return i.show()}),n.on("mouseleave",function(){return i.hide()}),l=t.speeds,s=0,a=l.length;a>s;s++)r=l[s],e=$("<li class='mejs-speed' data-speed='"+r+"'>"+r+"x<span class='speed-tooltip'>"+r+"x</span></li>"),r===this.playbackRate&&e.addClass("current-speed"),e.on("click",function(t){return function(e){return t.setSpeed($(e.target).data("speed"))}}(this)),n.find(".mejs-speed-controls ol").prepend(e);return $("#"+this.player.id).find(".mejs-duration-container").after(n)}},t.prototype.addRewindButton=function(){var t;return t=$("<div class='mejs-button mejs-rewind-button'> <button type='button' aria-controls='"+this.player.id+"' title='Rewind the Video by 10 Seconds'></button> </div>"),t.on("click",function(t){return function(){return t.player.setCurrentTime(t.el.context.currentTime-10)}}(this)),$("#"+this.player.id).find(".mejs-duration-container").after(t)},t.prototype.enableChromeFreezeFix=function(){return this.el.on("error",function(){var t,e;return e=this,t=e.currentTime,$(e).one("loadeddata",function(){return function(){return e.currentTime=t}}(this)),setTimeout(function(){return function(){return e.load()}}(this),100)})},t.prototype.onLanguageSelect=function(t){var e;return e=t.currentTarget.value,"none"===e&&(e=null),e!==this.language?(this.language=e,this.storePlaybackPreferences()):void 0},t.prototype.storePlaybackPreferences=function(){return $.cookie("captionLanguage",this.language,{expires:1095}),$.cookie("playbackRate",this.playbackRate,{expires:1095}),this.playbackPreferencesUrl?$.post(this.playbackPreferencesUrl,{language:this.language,playback_rate:this.playbackRate}):void 0},t}(),Featurette.register("video-player",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("video-transcript",function(){function e(e){this.trigger=t(this.trigger,this),this.el=$(e),this.el.on("click",".trigger-transcript",this.trigger),this.trigger=$(".trigger-transcript"),this.transcript=$(".video-transcript")}return e.prototype.trigger=function(){return this.isExpanded?(this.transcript.removeClass("full-transcript"),this.trigger.text("Show full transcript")):(this.transcript.addClass("full-transcript"),this.trigger.text("Close transcript")),this.isExpanded=!this.isExpanded},e}())}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){this.enableForStudent=e(this.enableForStudent,this),this.removeWorkspaceNavHighlight=e(this.removeWorkspaceNavHighlight,this),this.highlightWorkspaceNav=e(this.highlightWorkspaceNav,this),this.findWorkspaceNav=e(this.findWorkspaceNav,this),this.addWorkspaceNav=e(this.addWorkspaceNav,this),this.onWizardClosed=e(this.onWizardClosed,this),this.onWizardOpened=e(this.onWizardOpened,this),this.onStepChanged=e(this.onStepChanged,this),this.selectExistingWorkspace=e(this.selectExistingWorkspace,this),this.updateForkedWorkspaceOptions=e(this.updateForkedWorkspaceOptions,this),n.__super__.constructor.apply(this,arguments),this.templateSelect=this.el.find("#new-workspace-template-select"),this.forkedWorkspaceSelect=this.el.find("#forked-workspace-select"),this.contentId=this.forkedWorkspaceSelect.data("content-id"),this.launchExistingWorkspaceButton=this.el.find(".step.existing-workspace .launch-button"),this.workspaceWelcomeIsPresent=this.steps.filter(".workspace-welcome").length>0,this.workspaceWelcomeIsPresent&&(this.currentStep=this.initialStep=0,this.advanceStep(this.currentStep)),this.templates=this.templateSelect.data("workspace-templates"),this.updateForkedWorkspaceOptions(),this.templateSelect.on("change",this.updateForkedWorkspaceOptions),this.on("click",".step.existing-workspace .workspace-heading a",this.selectExistingWorkspace)}return i(n,t),n.prototype.updateForkedWorkspaceOptions=function(){var t,e,n,i,r,o;for(this.forkedWorkspaceSelect.empty(),o=null!=(r=this.templates[this.templateSelect.val()])?r:[],n=0,i=o.length;i>n;n++)e=o[n],t=$("<option value='"+e.id+"'>"+e.title+"</option>"),t.attr("selected",e.id===this.contentId),this.forkedWorkspaceSelect.append(t);return this.forkedWorkspaceSelect.trigger("change")},n.prototype.selectExistingWorkspace=function(t){var e;return e=$(t.currentTarget),e.closest(".workspace-heading").addClass("selected").siblings().removeClass("selected"),this.launchExistingWorkspaceButton.data("id",e.data("workspace-id")),t.preventDefault()},n.prototype.onStepChanged=function(){return this.workspaceWelcomeIsPresent&&this.currentStep>0?(this.initialStep=1,this.removeWorkspaceNavHighlight()):void 0},n.prototype.onWizardOpened=function(){return this.workspaceWelcomeIsPresent?(this.addWorkspaceNav(),0===this.currentStep&&this.highlightWorkspaceNav(),this.enableForStudent()):void 0},n.prototype.onWizardClosed=function(){return n.__super__.onWizardClosed.apply(this,arguments),this.removeWorkspaceNavHighlight()},n.prototype.addWorkspaceNav=function(){var t;if(!(this.findWorkspaceNav().length>0))return t="<li>\n  <a href='/workspaces'>\n    <span class='icon icon-workspaces'></span>\n    <span class='nav-tooltip'>Workspaces</span>\n  </a>\n</li>",$(".global-nav .bottom-anchored").before(t)},n.prototype.findWorkspaceNav=function(){return $(".global-nav a[href='/workspaces']")},n.prototype.highlightWorkspaceNav=function(){var t;return t=this.findWorkspaceNav(),$("#shelf").css("z-index",501),t.addClass("selected").css({overflow:"visible"}),t.find(".nav-tooltip").css({left:70,opacity:1})},n.prototype.removeWorkspaceNavHighlight=function(){var t;return $("#shelf").removeAttr("style"),t=this.findWorkspaceNav(),t.removeClass("selected").removeAttr("style"),t.find(".nav-tooltip").removeAttr("style")},n.prototype.enableForStudent=function(){return $.post("/workspaces/enable_for_student")},n}(Wizard),Featurette.register("launch-workspace-wizard",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(t){function n(){return this.changeGlobalNav=e(this.changeGlobalNav,this),this.changeBulletNav=e(this.changeBulletNav,this),this.changeButtons=e(this.changeButtons,this),this.onStepChanged=e(this.onStepChanged,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.onStepChanged=function(){return this.changeButtons(),this.changeBulletNav(),this.changeGlobalNav()},n.prototype.changeButtons=function(){var t;return t=this.currentStep>1&&this.currentStep<this.totalSteps?2:this.currentStep===this.totalSteps?3:this.currentStep,this.get(".button-container").children("a").removeClass("active"),this.get(".button-welcome-"+t).addClass("active")},n.prototype.changeBulletNav=function(){return this.get(".onboarding-step-nav").children("li").children("a").removeClass("selected"),this.get(".trigger-step-"+this.currentStep).addClass("selected")},n.prototype.changeGlobalNav=function(){var t;return this.currentStep===this.totalSteps-1?t=1:1===this.currentStep||(t=this.currentStep),$(".global-nav a").removeClass("selected"),t>0?$(".global-nav > li:nth-child("+t+") a").addClass("selected"):void 0},n}(Wizard),Featurette.register("treehouse-welcome",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.showRemaining=e(this.showRemaining,this),this.el=$(t),this.broadcastDateAsInteger=this.el.data("broadcastdate"),this.broadcastDate=new Date(1e3*Number(this.broadcastDateAsInteger)),this.startTimer(),console.log(this.broadcastDateAsInteger)}return t.second=1e3,t.minute=60*t.second,t.hour=60*t.minute,t.day=24*t.hour,t.prototype.startTimer=function(){return this.timeout=setInterval(this.showRemaining,1e3)},t.prototype.showRemaining=function(){var t,e,n,i,r,o;return i=new Date,r=this.broadcastDate-i,0>=r?(clearTimeout(this.timeout),this.el.find(".watch-live").length>0?(this.el.find(".live-countdown").hide(),this.el.find(".watch-live").show()):location.reload(),!1):(o=Math.floor(r%this.constructor.minute/this.constructor.second),n=Math.floor(r%this.constructor.hour/this.constructor.minute),e=Math.floor(r%this.constructor.day/this.constructor.hour),t=Math.floor(r/this.constructor.day),this.el.find("#seconds").text(this.zeroPadding(o)),this.el.find("#minutes").text(this.zeroPadding(n)),this.el.find("#hours").text(this.zeroPadding(e)),this.el.find("#days").text(this.zeroPadding(t)))},t.prototype.zeroPadding=function(t){return 10>t?"0"+t:t},t}(),Featurette.register("workshop-countdown",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onTourClosed=e(this.onTourClosed,this),this.id=t.id,this.el=$(t),this.el.find(".close-tour").on("click",this.onTourClosed)}return t.prototype.onTourClosed=function(t){return $.post("/workspaces/close_tour"),$(".workspaces-tour-step-placeholder").closest("li").remove(),$(".workspaces-welcome").remove(),null!=t?t.preventDefault():void 0},t}(),Featurette.register("workspaces-tour",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.move=e(this.move,this),this.resize=e(this.resize,this),this.init=e(this.init,this),this.originContent=$("[data-markup-move]").html(),$(window).on("resize",_.throttle(this.init,200)),$(window).trigger("resize")}return t.prototype.init=function(){return this.resize()},t.prototype.resize=function(){return $(window).width()<1022?this.move($("[data-markup-move]"),$("[data-markup-move-target]")):this.move($("[data-markup-move-target]"),$("[data-markup-move]"))},t.prototype.move=function(t,e){return t.html(""),e.html(this.originContent)},t}(),$(function(){return new t})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.element=t,this.setCurrentOption=e(this.setCurrentOption,this),this.createSelect=e(this.createSelect,this),this.element.length&&(this.createSelect(),setTimeout(function(t){return function(){return t.setCurrentOption()}}(this),20))}return t.prototype.createSelect=function(){var t,e,n;return n=[],t=$("[data-ul-select]"),e=$("[data-ul-select-target]"),$("[data-ul-select]").find("a").each(function(){var t,n,i;return t=$(this).attr("href"),i=$(this).text(),n=$("<option />").attr("value",t).text(i),e.append(n)})},t.prototype.setCurrentOption=function(){var t,e;return t=$("[data-ul-select-target]"),e=$("[data-ul-select]").find("a.selected").text(),t.prev("span").text(e),$('option[value="'+window.location.pathname+'"]').attr("selected",!0)},t}(),$(function(){return new t($("[data-ul-select]"))})}.call(this),function(){var TreehouseTour,__bind=function(t,e){return function(){return t.apply(e,arguments)}};TreehouseTour=function(){function TreehouseTour(t){this.element=t,this.killTour=__bind(this.killTour,this),this.prevTourStep=__bind(this.prevTourStep,this),this.nextTourStep=__bind(this.nextTourStep,this),this.startTour=__bind(this.startTour,this),this.moveTour=__bind(this.moveTour,this),this.scrollStep=__bind(this.scrollStep,this),this.stepIndicator=__bind(this.stepIndicator,this),this.fadeOutStep=__bind(this.fadeOutStep,this),this.positionElement=__bind(this.positionElement,this),this.fadeInStep=__bind(this.fadeInStep,this),this.handleKeyEvent=__bind(this.handleKeyEvent,this),this.offscreenCheck=__bind(this.offscreenCheck,this),this.handlePosition=__bind(this.handlePosition,this),this.applyOffsets=__bind(this.applyOffsets,this),this.tourRefresh=__bind(this.tourRefresh,this),this.element.length&&($(document).on("tour:refresh",this.tourRefresh),$(document).on("pjax:end",function(t){return function(){return _.delay(t.tourRefresh,2500)}}(this)),$(document).trigger("tour:refresh"),$(window).on("resize",_.throttle(function(t){return function(){return $(window).width()<1022?t.killTour():void 0}}(this),200)))}return TreehouseTour.prototype.tourRefresh=function(){var t,e,n,i;return this.$modalTarp=$(".modal-tarp"),this.$tourContainer=$("[data-tour]"),this.$tourTips=this.$tourContainer.children("li"),this.$window=$(window),this.$body=$("body"),this.$headerElements=$("#content, .fixed-heading"),this.totalTourSteps=this.$tourTips.length-1,this.windowHeight=this.$window.height(),this.windowWidth=this.$window.width(),this.modalTarpWidth=this.$modalTarp.outerWidth(),this.classToggleSpeed=100,this.fadeSpeed=300,this.smoothScrollSpeed=400,this.currentStep=0,this.parentCollection=[],this.tourControlBarClass="tour-control-bar",this.tourBarPrevClass="tour-prev",this.tourBarNextClass="tour-next",this.tourBarCloseClass="tour-close",this.tourStepIndicatorClass="step-indicator",this.tourActionListClass="tour-actions",this.tourTitle=this.$tourContainer.data("tour"),this.tourControlBar="<div class='"+this.tourControlBarClass+" closed'><div><h3>"+this.tourTitle+"</h3><ul class='"+this.tourActionListClass+"'><li><a class='"+this.tourBarPrevClass+"' data-tour-trigger-prev>Previous Step</a></li><li class='"+this.tourStepIndicatorClass+"'><span>- of -</span></li><li><a class='"+this.tourBarNextClass+"' data-tour-trigger-step>Next Step</a></li><li><a class='"+this.tourBarCloseClass+"' data-tour-trigger-death>Close Tour</a></li></ul></div></div>",this.applyOffsets(),this.$body.append(this.tourControlBar),this.$tourContainer.children("a").on("click",function(t){return t.preventDefault()}),n="[data-tour-trigger-start]",i="[data-tour-trigger-step]",e="[data-tour-trigger-prev]",t="[data-tour-trigger-death]",$(n).off("click",this.startTour),$(i).off("click",this.nextTourStep),$(e).off("click",this.prevTourStep),$(t).off("click",this.killTour),$(n).on("click",this.startTour),$(i).on("click",this.nextTourStep),$(e).on("click",this.prevTourStep),$(t).on("click",this.killTour),$(document).keydown(this.handleKeyEvent)},TreehouseTour.prototype.applyOffsets=function(){return $(this.$tourTips).each(function(){var t,e;return e=$(this).data("tour-step-selector"),t=$(e).offset().top,$(this).attr("data-offset",t)})},TreehouseTour.prototype.handlePosition=function(t,e){var n,i;return i=t.data("tour-position"),n=this.offscreenCheck(t,e),n&&("top"===i?i="bottom":"right"===i?i="left":"bottom"===i?i="top":"left"===i&&(i="right")),t.attr("data-tour-position",i),t.css({left:e[i].left,top:e[i].top})},TreehouseTour.prototype.offscreenCheck=function(t,e){var n,i,r;return r=t.offset(),i=t.data("tour-position"),n=!1,"top"===i?n=e[i].top<0:"right"===i?n=e[i].left+t.outerWidth()>this.windowWidth:"bottom"===i?n=e[i].top+t.height()>$(document).height():"left"===i&&(n=e[i].left<0),n},TreehouseTour.prototype.handleKeyEvent=function(t){var e,n,i,r;if(i="[data-tour-trigger-start]",r="[data-tour-trigger-step]",n="[data-tour-trigger-prev]",e="[data-tour-trigger-death]",this.$modalTarp.hasClass("tarp-opened"))switch(t.keyCode){case 27:return this.killTour(),$(e).addClass("active"),setTimeout(function(){return $(e).removeClass("active")},this.classToggleSpeed);case 37:return $(n).hasClass("inactive-step")||($(n).addClass("active"),setTimeout(function(){return $(n).removeClass("active")},this.classToggleSpeed)),this.prevTourStep();case 39:return $(r).hasClass("inactive-step")||($(r).addClass("active"),setTimeout(function(){return $(r).removeClass("active")},this.classToggleSpeed)),this.nextTourStep()}},TreehouseTour.prototype.fadeInStep=function(firstStep){var currentStep;return currentStep=$(this.$tourTips[this.currentStep]),currentStep.data("on-enter")&&eval(currentStep.data("on-enter")),this.positionElement(currentStep,firstStep),currentStep.delay(this.smoothScrollSpeed-100).fadeIn(this.fadeSpeed),$(this.parentCollection[this.currentStep]).addClass("active-tour-step")},TreehouseTour.prototype.positionElement=function(t,e){var n,i,r,o,s,a,l,u,c,h,d,p,f,m,g,v;return n=$(t.data("tour-step-selector")),0===n.length?null:(n.is(":visible")||n.show(),s=n.offset().top,o=n.offset().left,e&&(s+=$(".tour-control-bar").height()),l=n.outerWidth(),r=n.outerHeight(),c=6,i=o+l/2,a=s+r/2,d=parseInt(t.data("tour-step-width"),10),h=parseInt(t.height(),10),t.css("width",null!=(v=d+"px")?v:""),g=t.outerWidth(),f=t.outerHeight(),p=g/2,m=f/2,n.addClass("tour-parent"),this.parentCollection.push(n),u={top:{left:i-p,top:s-f-c},right:{left:o+l+c,top:a-m},bottom:{left:i-p,top:s+r+c},left:{left:o-g-c,top:a-m}},this.handlePosition(t,u))},TreehouseTour.prototype.fadeOutStep=function(){var t;return t=$(".tour-parent"),t.removeClass("active-tour-step"),this.$tourTips.fadeOut(this.fadeSpeed)},TreehouseTour.prototype.stepIndicator=function(){return $("."+this.tourStepIndicatorClass+" span").text(""+(this.currentStep+1)+" of "+(this.totalTourSteps+1))},TreehouseTour.prototype.scrollStep=function(){var t,e,n,i,r;switch(this.$tourTips=$(this.$tourTips),i=this.$tourTips.eq(this.currentStep).data("offset"),e=this.$tourTips.eq(this.currentStep).outerHeight(),n=this.$tourTips.eq(this.currentStep).data("tour-position"),t=$(this.$tourTips.eq(this.currentStep)).outerHeight(),r=$(this.$tourTips.eq(this.currentStep).data("tour-step-selector")).height()>this.windowHeight?i/2-e:i-e-this.windowHeight/3,n){case"top":return $("html, body").animate({scrollTop:r},this.smoothScrollSpeed);case"right":return $("html, body").animate({scrollTop:i-this.windowHeight/2},this.smoothScrollSpeed);case"bottom":return $("html, body").animate({scrollTop:i+(e-this.windowHeight/2)},this.smoothScrollSpeed);case"left":return $("html, body").animate({scrollTop:i-this.windowHeight/2},this.smoothScrollSpeed)}},TreehouseTour.prototype.moveTour=function(t,e){switch(null==e&&(e=!1),this.fadeOutStep(),t){case 1:this.currentStep=this.currentStep+1;break;case 0:this.currentStep=0;break;case-1:this.currentStep=this.currentStep-1;break;case null:this.currentStep=!1}return this.scrollStep(),this.fadeInStep(e),this.stepIndicator(),0===this.currentStep?$("."+this.tourBarPrevClass).addClass("inactive-step"):this.currentStep===this.totalTourSteps?$("."+this.tourBarNextClass).addClass("inactive-step"):($("."+this.tourBarNextClass).removeClass("inactive-step"),$("."+this.tourBarPrevClass).removeClass("inactive-step"))},TreehouseTour.prototype.startTour=function(t){return t.preventDefault(),this.moveTour(0,!0),this.$modalTarp.fadeIn(this.fadeSpeed).addClass("tarp-opened"),this.$headerElements.addClass("tour-active"),$("."+this.tourControlBarClass).removeClass("closed"),Sidebar.nofix=!0,$(window).trigger("resize")},TreehouseTour.prototype.nextTourStep=function(){return this.currentStep<this.totalTourSteps?this.moveTour(1):void 0},TreehouseTour.prototype.prevTourStep=function(){return this.currentStep>0?this.moveTour(-1):void 0},TreehouseTour.prototype.killTour=function(){return this.$headerElements.hasClass("tour-active")?(this.fadeOutStep(),$("."+this.tourControlBarClass).addClass("closed"),this.$headerElements.removeClass("tour-active"),this.$modalTarp.delay(50).fadeOut(this.fadeSpeed).removeClass("tarp-opened"),$("html, body").animate({scrollTop:0},5),Sidebar.nofix=!1,$(window).trigger("resize")):void 0},TreehouseTour}(),$(function(){return new TreehouseTour($("[data-tour]"))})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.Filters=function(){function e(e){if(this.options=e,this.deserializeState=t(this.deserializeState,this),this.serializeState=t(this.serializeState,this),this.reset=t(this.reset,this),this.update=t(this.update,this),"object"!=typeof this.options)throw"options are not an object literal";
if("string"!=typeof this.options.container)throw"didn't pass 'container' option";if("object"!=typeof this.options.binds)throw"didn't pass 'binds' option";if("string"!=typeof this.options.basePath)throw"didn't pass 'basePath' option";this.binds=e.binds,this.container=$(e.container),_.each(this.binds,function(t){return function(e){var n;return e instanceof jQuery&&e.is("[type='text']")?(n=null,e.on("keyup",function(){return clearTimeout(n),n=setTimeout(t.update,750)}),e.on("keydown",function(){return clearTimeout(n)}),e.on("keydown",function(t){return 13===t.which?t.preventDefault():void 0})):e instanceof jQuery&&e.is("[type='hidden']")?e.on("filter:change",t.update):e.element.on("change",t.update)}}(this)),this.container.on("pjax:error pjax:timeout",function(){return!1}),this.container.on("pjax:end",function(){return Treehouse.init()}),$(document).on("click",".filter-reset",this.reset),$(document).on("click","[data-filter-list-val]",function(t){return function(e){var n,i,r;return e.preventDefault(),i=$(e.currentTarget),i.toggleClass("selected"),n=i.data("filter-list-val").split(":"),r=t.binds[n[0]],r.val(n[1]),r instanceof jQuery?r.trigger("filter:change"):void 0}}(this)),$(document).on("click",".trigger-filters",function(t){return function(e){return $(".filters-container").toggle(),$(t).toggleClass("selected"),$("i",e.currentTarget).toggle()}}(this)),this.deserializeState()}return e.prototype.update=function(t){var e;return t&&t.preventDefault(),this.serializeState(),e=new Object,_.each(this.binds,function(t,n){return e[n]=t.val()}),$.pjax({push:!1,url:"/"+this.options.basePath,container:this.container,data:e}),!1},e.prototype.reset=function(){return _.each(this.binds,function(t){return t.val("")})},e.prototype.serializeState=function(){var t;return t=_.reduce(this.binds,function(t,e,n){return e=e.val(),void 0===e&&(e=""),e=e.replace(" ","-"),e&&t.push(""+n+":"+e),t},[]),t=t.join("/"),history.replaceState(null,null,"/"+this.options.basePath+"/"+t),$(document).trigger("filters:serialized")},e.prototype.deserializeState=function(){var t;return t=location.pathname.split("?")[0],t=t.split("/"),t=_.without(t,this.options.basePath),_.each(t,function(t){return function(e){var n,i;if(""!==e)return n=e.split(":")[0],i=e.split(":")[1],t.binds[n].val(i,!1)}}(this)),$(document).trigger("filters:deserialized"),Treehouse.init()},e}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("welcome-wizard",t=function(t){function n(t){this.onSubmitSurveyData=e(this.onSubmitSurveyData,this),this.onHashChange=e(this.onHashChange,this),this.nextStep=e(this.nextStep,this),n.__super__.constructor.call(this,t),this.on("click",".submit-survey-data",this.onSubmitSurveyData),this.surveyData={}}return i(n,t),n.prototype.nextStep=function(t){var e;switch(e=$(t.currentTarget).find(".option").text().trim(),this.currentStep){case 1:this.surveyData={overall_achievement:e},this.get("#other_details").val("");break;case 2:this.surveyData={overall_achievement:this.surveyData.overall_achievement,career:e};break;case 3:this.surveyData={overall_achievement:this.surveyData.overall_achievement,app_type:e};break;case 5:this.surveyData={overall_achievement:this.surveyData.overall_achievement,website_type:e};break;case 6:this.surveyData={overall_achievement:this.surveyData.overall_achievement,other_details:this.get("#other_details").val()}}return n.__super__.nextStep.call(this,t)},n.prototype.onHashChange=function(t){var e,i,r,o,s;for(t.preventDefault(),o=this.get("[data-featurette='video-player']"),i=0,r=o.length;r>i;i++)e=o[i],null!=(s=Featurette.get(e.id))&&s.reset();return $("html,body").animate({scrollTop:0}),n.__super__.onHashChange.apply(this,arguments)},n.prototype.onSubmitSurveyData=function(t){return t.preventDefault(),this.surveyData.track_to_join=$(t.currentTarget).data("track-id"),this.surveyData.action_to_take=$(t.currentTarget).data("action-to-take"),$.post("/onboarding_surveys",{onboarding_survey:this.surveyData}).done(function(t,e,n){return window.location=n.getResponseHeader("Location")})},n}(Wizard))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Featurette.register("prerequisite-add-to-home",t=function(t){function n(t){this.clearClasses=e(this.clearClasses,this),this.showAdd=e(this.showAdd,this),this.showChevron=e(this.showChevron,this),this.showCheck=e(this.showCheck,this),this.addToHome=e(this.addToHome,this),n.__super__.constructor.call(this,t),this.span=this.get(".add-to-home span"),this.addToHomeLink=this.get(".add-to-home"),this.on("click",".add-to-home-addable",this.addToHome)}return i(n,t),n.prototype.addToHome=function(){return $.ajax({url:this.el.data("add-card-url"),type:"POST",dataType:"text"}).done(this.showCheck).fail(this.showAdd)},n.prototype.showCheck=function(){return this.clearClasses(),this.span.hide().addClass("icon-check-white").fadeIn().delay(1e3).fadeOut(this.showChevron)},n.prototype.showChevron=function(){return this.clearClasses(),this.span.addClass("icon-chevron-right-white"),this.addToHomeLink.attr("href",this.get(".add-to-home-title-link").attr("href")),this.span.fadeIn()},n.prototype.showAdd=function(){return this.clearClasses(),this.span.show(),this.addToHomeLink.addClass("add-to-home-addable"),this.span.addClass("icon-add-white")},n.prototype.clearClasses=function(){return this.addToHomeLink.removeClass("add-to-home-addable"),this.span.removeClass("icon-add-white").removeClass("icon-chevron-right-white").removeClass("icon-check-white")},n}(Treehouse.View))}.call(this),Treehouse.init();